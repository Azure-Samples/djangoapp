/*
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe ltd
 */
function WalkmeSnippet(){var c=this;var B=false;var j;var N="19";var L;var I;var F;var O;var e;var M={publish:0,preview:1};var b=M.publish,Q;var a=window.localStorage;function h(){window._walkmeInternals=window._walkmeInternals||{};Q=_walkmeInternals;Q.isSelfHosted="false"==="true";J();I=new R();if(I.cdnServerName.indexOf("###AUTO_DETECT###")>-1){e=i(I.cdnServerName.replace("###AUTO_DETECT###",""));I=k(I);}l();I=v(I);if(window.walkme_load_in_iframe!=true){if(top!=window){return;}}if(!z()){try{walkme_browser_not_supported();}catch(S){}return;}E();if(!y()){if(window.document.dontLoadTriangle){window.walkme_snippet_blocked=true;return;}}C(A);}function u(){return(y()?"wmPreviewSnippet":"wmSnippet");}function J(){var S="###IS_PREVIEW_MODE###";if(S==="true"){b=M.preview;}}function y(){return(b==M.preview);}function R(){this.recorderServer="###RECORDER_SERVER_NAME###";this.cdnServerName="https://d3b3ehuo35wzeh.cloudfront.net";this.storage="cookie";this.userGuids=["6baf694b622440d7b067d959d3d19879"];if(window.walkme_custom_cdn_server){this.cdnServerName=walkme_custom_cdn_server;}if(window.walkme_custom_app_server){this.recorderServer=walkme_custom_app_server;}if(window.walkme_custom_data_url){this.triangleUrl=walkme_custom_data_url;}else{this.triangleUrl=this.cdnServerName+"###SPECIAL_TRIANGLE_FILE###";}if(window.walkme_custom_datafile_url){this.datafilesArray=walkme_custom_datafile_url;}else{this.datafilesArray="###SPECIAL_DATA_FILE###";}if(window.walkme_custom_widget_url){this.widgetUrl=walkme_custom_widget_url;}else{this.widgetUrl="###SPECIAL_WIDGET_FILE###";}}function l(){O=s();}function s(){var U="walkme_custom_user_settings_";var W="https://s3.amazonaws.com/s3.maketutorial.com/users/6baf694b622440d7b067d959d3d19879/settings.txt",V=p(U+"url",true),T=p(U+"guid",true),S=p(U+"env",true);if(V){W=V;}if(T){W=W.replace(/(users\/)([^\/]*)(\/)/,"$1"+T+"$3");}if(S||S===""){if(S){S+="/";}W=W.replace(/(users\/[^\/]*\/)(.*)(sett)/,"$1"+S+"$3");}return k(W);}function E(){var S=u();window[S]=c;}function C(S){j=document.getElementsByTagName("head")[0];if(window.walkme_custom_jquery){window.mtjQuery=walkme_custom_jquery;S();}else{var U=I.cdnServerName+"/player/resources/wmjQuery171.js";var V=n("walkmeCustomjQueryUrl");if(V!=false){U=V;}if(Q.localJQuery){var W=U.lastIndexOf("/");var T=U.substring(W+1);U="https://localhost/mt/resources/"+T;}d(U,S);}}function A(){if(window.mtjQuery==undefined){return;}if(B){return;}B=true;if(!window.walkme_custom_jquery){mtjQuery.noConflict();}mtjQuery(document).ready(function(){try{G();}catch(S){}});}function f(){var T;if(Q.localLib){T="https://localhost/mt/lib/maketutorial_lib.js";}var S=n("walkmeCustomeLibUrl");if(S!=false){return S;}return T;}function G(){F=f();r();}function r(){if(window.walkme_custom_settings_data){K(walkme_custom_settings_data);}else{mtjQuery.ajax(O,{cache:!Q.isSelfHosted,dataType:"jsonp",jsonpCallback:"fixedCallback",success:K,error:function(T,U,S){}});}}function K(S,V,U){L=k(S);var W=window.walkme_settings_callback;if(W){W(L);}var T=p("walkme_is_enabled_override");if(T!==undefined){if(T==="0"){return;}}else{if(!S.IsEnabled){return;}}w(F,L);}function D(S,T){if(S==undefined){S=T.LibFile;}d(S);}function k(S){if(e==undefined){return S;}return P(S,function(T){return T.replace("###AUTO_DETECT###",e);});}function w(S,U){var T=n("wm-prelibjs");if(T){U.PreLibJsFile=T;}if(U.PreLibJsFile&&U.PreLibJsFile!=""){window.walkme_pre_lib_loaded=function(){D(S,U);};d(U.PreLibJsFile);}else{D(S,U);}}function m(U){var T,V,W,S=document.cookie.split(";");for(T=0;T<S.length;T++){V=S[T].substr(0,S[T].indexOf("="));W=S[T].substr(S[T].indexOf("=")+1);V=V.replace(/^\s+|\s+$/g,"");if(V==U){return W;}}return false;}function n(T){if(a){var S=a.getItem(T);if(S!=null){return S;}}return false;}function v(S){return S;}function z(){var U=p("walkme_dont_check_browser");if(U==="1"||y()){return true;}var S=g();var T=x();return S&&T;}function x(){var U=/android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)/i.test(navigator.userAgent||navigator.vendor||window.opera);var V=Math.max(screen.width,screen.height);var S=Math.min(screen.width,screen.height);var T=(V<800)||(S<600);return !U&&!T;}function g(){var S={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";},searchString:function(U){for(var X=0;X<U.length;X++){var W=U[X].string;var V=U[X].prop;this.versionSearchString=U[X].versionSearch||U[X].identity;if(W){if(W.indexOf(U[X].subString)!=-1){return U[X].identity;}}else{if(V){return U[X].identity;}}}},searchVersion:function(U){var V=U.indexOf(this.versionSearchString);if(V==-1){return;}return parseFloat(U.substring(V+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};S.init();if((S.browser=="Chrome")||(S.browser=="Firefox")||((S.browser=="Safari")&&(S.OS!="Windows"))){return true;}if((S.browser=="Explorer")&&(S.version>=7)){return true;}try{console.log("WalkMe: Incompatible browser.");}catch(T){}return false;}function H(T){try{var U="recorderServer="+I.recorderServer+";triangleUrl="+I.triangleUrl+";makeTutorialLibURL="+F+";UA="+navigator.userAgent;mtjQuery.getJSON(I.recorderServer+"/Statistics/LogError?jsoncallback=?",{source:1,code:2,message:T,extraData:U},function(V){});}catch(S){}}function d(U,S){var T=document.createElement("script");T.async=true;T.src=U;T.id="mt_script";if(S){T.onload=S;T.onreadystatechange=S;}j.appendChild(T);}function i(S){var V=document.getElementsByTagName("script");for(var T=0;T<V.length;T++){var U=V[T];var W=U.src;if(W&&W.indexOf("walkme_")>0){if(S){var T=W.indexOf(S);return W.substr(0,T);}var T=W.indexOf("walkme_");return W.substr(0,T-1);}}return"";}function P(U,S){if(typeof(U)=="string"){return S(U);}else{if(Object.prototype.toString.call(U)==="[object Array]"){for(var T=0;T<U.length;T++){U[T]=P(U[T],S);}return U;}else{if(typeof(U)=="object"){for(var T in U){if(Object.hasOwnProperty.call(U,T)){U[T]=P(U[T],S);}}return U;}}}return U;}function p(T,S){var U=(!S?m(T):n(T));if(U!==false){return U;}else{var V=window[T];if(V!=undefined){return V;}}return undefined;}this.getSnippetVersion=function t(){return N;};this.getSettingsFile=function q(){return L;};this.getServerSettings=function o(){return I;};this.fixAutoDetectPaths=k;h();}new WalkmeSnippet();