/*
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe LTD
 */
var wmjQuery=mtjQuery;if(mtjQuery){if(mtjQuery.expr&&mtjQuery.expr.filters){mtjQuery.expr.filters.mt_hidden=function(a){var c=a.offsetWidth,b=a.offsetHeight;return(c===0&&b===0)||(!mtjQuery.support.reliableHiddenOffsets&&(a.style.display||mtjQuery.css(a,"display"))==="none"||mtjQuery.css(a,"visibility")==="hidden");};mtjQuery.expr.filters.mt_visible=function(a){return !mtjQuery.expr.filters.mt_hidden(a);};}mtjQuery.trim=function(a){var b=/^\s+/;var c=/\s+$/;return(a==null)?"":a.toString().replace(b,"").replace(c,"");};}else{try{console.log("mtjQuery undefined");}catch(e){}}(function(a){a.extend({safeEach:function(c,b){return a.each(c,function(d,f){if(c.hasOwnProperty(d)){b(d,f);}});}});a.fn.safeEach=function(b){return a.safeEach(this,b);};a.fn.important=function(c,d){var b=this;if(typeof c==="object"){a.safeEach(c,function(f,g){b.important(f,g);});return b;}return b.safeEach(function(g,f){a(f).css(c,"").attr("style",function(h,j){var i=new RegExp("(^|;)\\s*"+c+"\\s*:[^;]*(;|$)","gi");return(j||"").replace(i,"$1").replace(/;$/ig,"")+";"+((d!=undefined)?(c+": "+d+" !important;"):"");});});};a.fn.exist=function(){return !!this.length;};a.fn.or=function(c,b){return this.length?this:a(c,b);};a.extend(a.expr[":"],{textEquals:function(d,b,c){return a(d).text()==c[3];}});})(wmjQuery);(function(a){function b(d,f){a.extend(this,f);this.$select=d;a.extend(this,this.markup(d));this.bindEvents();}b.prototype={getValue:function(d){if(typeof this[d]==="function"){return this[d]();}return this[d];},onFocusBlur:function(d){this.$el.toggleClass(this.generateClassName("focus",true),(d&&(d.type==="focus"||d.type==="focusin"))||this.$select.is(":focus"));},updateTitle:function(){var d=this.$select.find(":selected"),f=this.formatter(d.text(),this.$select.val(),d,this.$select);if(this.allowHtmlInTitle){this.$title.html(f);}else{this.$title.text(f);}},bindEvents:function(){this.$el.on("focusin."+this.baseName+" focusout."+this.baseName,a.proxy(this.onFocusBlur,this));this.onFocusBlur();this.$select.on("change."+this.baseName,a.proxy(this.updateTitle,this));this.$select.on("keyup."+this.baseName,a.proxy(this.updateTitle,this));this.updateTitle();},destroy:function(){this.$el.off("."+this.baseName);this.$select.off("."+this.baseName);this.$select.removeClass(this.generateClassName("select")).insertBefore(this.$el);this.$el.remove();}};function c(d){if(typeof d!=="string"){d=a.extend({},c.options,d);}this.filter("select").each(function(){var f=a(this),g=f.data(d.baseName);if(typeof d==="string"){g[d].apply(f,[].slice.call(arguments,1));}else{if(!g){f.data(d.baseName,new b(f,d));}}});return this;}c.klass=b;c.formatter=function(g,h,d,f){return g;};c.markup=function(f){var d=f.addClass(this.generateClassName("select")).wrap('<span class="'+this.generateClassName()+'"/>').parent();a('<span class="'+this.generateClassName("arrow")+'"/>').prependTo(d);return{$el:d,$title:a('<span class="'+this.generateClassName("title")+'"/>').prependTo(d)};};c.generateClassName=function(d,f){return this.getValue("baseName")+(d?"-"+d:"");};c.options={baseName:"brute-select",generateClassName:c.generateClassName,markup:c.markup,formatter:c.formatter,allowHtmlInTitle:false};a.fn.bruteSelect=c;}(mtjQuery));(function(a){a.fn.fixedPosition=function(b){};})(mtjQuery);(function(a){a.extend({highlight:function(g,j,h,b){if(g.nodeType===3){var f=g.data.match(j);if(f){var c=document.createElement(h||"span");c.className=b||"walkme-highlight";var l=g.splitText(f.index);l.splitText(f[0].length);var k=l.cloneNode(true);c.appendChild(k);l.parentNode.replaceChild(c,l);return 1;}}else{if((g.nodeType===1&&g.childNodes)&&!/(script|style)/i.test(g.tagName)&&!(g.tagName===h.toUpperCase()&&g.className===b)){for(var d=0;d<g.childNodes.length;d++){d+=a.highlight(g.childNodes[d],j,h,b);}}}return 0;}});a.fn.unhighlight=function(b){var c={className:"walkme-highlight",element:"span"};a.extend(c,b);return this.find(c.element+"."+c.className).each(function(){var d=this.parentNode;if(d){d.replaceChild(this.firstChild,this);a(d).text(a(d).text());}}).end();};a.fn.highlight=function(h,c){var g={className:"walkme-highlight",element:"span",caseSensitive:false,wordsOnly:false};a.extend(g,c);if(h.constructor===String){h=[h];}h=a.grep(h,function(k,j){return k!="";});h=a.map(h,function(k,j){return k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");});if(h.length==0){return this;}var b=g.caseSensitive?"":"i";var d="("+h.join("|")+")";if(g.wordsOnly){d="\\b"+d+"\\b";}var f=new RegExp(d,b);return this.each(function(){a.highlight(this,f,g.element,g.className);});};})(mtjQuery);(function(a,c,b){a.fn.jScrollPane=function(f){function d(y,ap){var av,T=this,aa,ac,ab,p,u,q,ad,ae,S,R,aB,x,aD,C,w,D,aA,aE,aq,aF,aC,n,j,B,F,G,E,k,l,ai,Y,Z,ah,aJ=true,aH=true,aG=false,aI=false,X=y.clone(false,false).empty(),U=a.fn.mwheelIntent?"mwheelIntent.walkme-jsp":"mousewheel.walkme-jsp";if(y.css("box-sizing")==="border-box"){Y=0;Z=0;}else{Y=y.css("paddingTop")+" "+y.css("paddingRight")+" "+y.css("paddingBottom")+" "+y.css("paddingLeft");Z=(parseInt(y.css("paddingLeft"),10)||0)+(parseInt(y.css("paddingRight"),10)||0);}function J(aS){var aL,aM,aN,aK,aR,aQ,aO=false,aP=false;av=aS;if(aa===b){aR=y.scrollTop();aQ=y.scrollLeft();y.important({overflow:"hidden",padding:0});ac=y.innerWidth()+Z;ab=y.innerHeight();y.width(ac);aa=a('<div class="walkme-jspPane" />').css("padding",Y).append(y.children());p=a('<div class="walkme-jspContainer" />').css({width:ac+"px",height:ab+"px"}).append(aa).appendTo(y);an(y);}else{y.css("width","");aO=av.stickToBottom&&P();aP=av.stickToRight&&Q();aK=y.innerWidth()+Z!=ac||y.outerHeight()!=ab;if(aK){ac=y.innerWidth()+Z;ab=y.innerHeight();p.css({width:ac+"px",height:ab+"px"});}if(!aK&&ah==u&&aa.outerHeight()==q){y.width(ac);return;}ah=u;aa.css("width","");y.width(ac);p.find(">.walkme-jspVerticalBar,>.walkme-jspHorizontalBar").remove().end();}aa.css("overflow","auto");if(aS.contentWidth){u=aS.contentWidth;}else{u=aa[0].scrollWidth;}q=aa[0].scrollHeight;aa.css("overflow","");ad=(u<ac)?1:u/ac;ae=(q<ab)?1:q/ab;S=ae>1||av.alwaysScrollVertical;R=ad>1||av.alwaysScrollHorizontal;if(!(R||S)){y.removeClass("walkme-jspScrollable");aa.css({top:0,left:0,right:0,width:p.width()-Z});am();ak();al();aj();}else{y.addClass("walkme-jspScrollable");aL=av.maintainPosition&&(aD||D);if(aL){aM=r();aN=t();}L();K();ao();if(aL){at(aP?(u-ac):aM,false);au(aO?(q-ab):aN,false);}I();N();O();if(av.enableKeyboardNavigation){M();}if(av.clickOnTrack){H();}W();if(av.hijackInternalLinks){A();}}if(av.autoReinitialise&&!ai){ai=setInterval(function(){J(av);},av.autoReinitialiseDelay);}else{if(!av.autoReinitialise&&ai){clearInterval(ai);}}aR&&y.scrollTop(0)&&au(aR,false);aQ&&y.scrollLeft(0)&&at(aQ,false);y.trigger("walkme-jsp-initialised",[R||S]);}function an(s){var aK=a(s).find('div[class*="walkme-jsp"]').add(s);aK.each(function(aP,aN){var aM="class";var aO=a(aN);var aL=aO.attr(aM);aO.attr(aM,"").attr(aM,aL);});}function L(){if(S){p.append(a('<div class="walkme-jspVerticalBar" />').append(a('<div class="walkme-jspCap walkme-jspCapTop" />'),a('<div class="walkme-jspTrack" />').append(a('<div class="walkme-jspDrag" />').append(a('<div class="walkme-jspDragTop" />'),a('<div class="walkme-jspDragBottom" />'))),a('<div class="walkme-jspCap walkme-jspCapBottom" />')));an(p);aA=p.find(">.walkme-jspVerticalBar");aE=aA.find(">.walkme-jspTrack");aB=aE.find(">.walkme-jspDrag");if(av.showArrows){n=a('<a class="walkme-jspArrow walkme-jspArrowUp" />').bind("mousedown.walkme-jsp",z(0,-1)).bind("click.walkme-jsp",V);j=a('<a class="walkme-jspArrow walkme-jspArrowDown" />').bind("mousedown.walkme-jsp",z(0,1)).bind("click.walkme-jsp",V);if(av.arrowScrollOnHover){n.bind("mouseover.walkme-jsp",z(0,-1,n));j.bind("mouseover.walkme-jsp",z(0,1,j));}i(aE,av.verticalArrowPositions,n,j);}aF=ab;p.find(">.walkme-jspVerticalBar>.walkme-jspCap:visible,>.walkme-jspVerticalBar>.walkme-jspArrow").each(function(){aF-=a(this).outerHeight();});aB.hover(function(){aB.addClass("walkme-jspHover");},function(){aB.removeClass("walkme-jspHover");}).bind("mousedown.walkme-jsp",function(s){a(av.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",V);aB.addClass("walkme-jspActive");var aK=s.pageY-aB.position().top;a(av.containerDoc).find("html").bind("mousemove.walkme-jsp",function(aL){ag(aL.pageY-aK,false);}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",o);return false;});ax();}}function ax(){aE.height(aF+"px");aD=0;aq=av.verticalGutter+aE.outerWidth();aa.width(ac-aq-Z);try{if(aA.position().left===0){aa.css("margin-left",aq+"px");}}catch(s){}}function K(){if(R){p.append(a('<div class="walkme-jspHorizontalBar" />').append(a('<div class="walkme-jspCap walkme-jspCapLeft" />'),a('<div class="walkme-jspTrack" />').append(a('<div class="walkme-jspDrag" />').append(a('<div class="walkme-jspDragLeft" />'),a('<div class="walkme-jspDragRight" />'))),a('<div class="walkme-jspCap walkme-jspCapRight" />')));an(p);B=p.find(">.walkme-jspHorizontalBar");F=B.find(">.walkme-jspTrack");C=F.find(">.walkme-jspDrag");if(av.showArrows){k=a('<a class="walkme-jspArrow walkme-jspArrowLeft" />').bind("mousedown.walkme-jsp",z(-1,0)).bind("click.walkme-jsp",V);l=a('<a class="walkme-jspArrow walkme-jspArrowRight" />').bind("mousedown.walkme-jsp",z(1,0)).bind("click.walkme-jsp",V);if(av.arrowScrollOnHover){k.bind("mouseover.walkme-jsp",z(-1,0,k));l.bind("mouseover.walkme-jsp",z(1,0,l));}i(F,av.horizontalArrowPositions,k,l);}C.hover(function(){C.addClass("walkme-jspHover");},function(){C.removeClass("walkme-jspHover");}).bind("mousedown.walkme-jsp",function(s){a(av.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",V);C.addClass("walkme-jspActive");var aK=s.pageX-C.position().left;a(av.containerDoc).find("html").bind("mousemove.walkme-jsp",function(aL){af(aL.pageX-aK,false);}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",o);return false;});G=p.innerWidth();aw();}}function aw(){p.find(">.walkme-jspHorizontalBar>.walkme-jspCap:visible,>.walkme-jspHorizontalBar>.walkme-jspArrow").each(function(){G-=a(this).outerWidth();});F.width(G+"px");D=0;}function ao(){if(R&&S){var s=F.outerHeight(),aK=aE.outerWidth();aF-=s;a(B).find(">.walkme-jspCap:visible,>.walkme-jspArrow").each(function(){G+=a(this).outerWidth();});G-=aK;ab-=aK;ac-=s;F.parent().append(a('<div class="walkme-jspCorner" />').css("width",s+"px"));an(F.parent());ax();aw();}if(R){aa.width((p.outerWidth()-Z)+"px");}q=aa.outerHeight();ae=(q<ab)?1:q/ab;if(R){E=Math.ceil(1/ad*G);if(E>av.horizontalDragMaxWidth){E=av.horizontalDragMaxWidth;}else{if(E<av.horizontalDragMinWidth){E=av.horizontalDragMinWidth;}}C.width(E+"px");w=G-E;g(D);}if(S){aC=Math.ceil(1/ae*aF);if(aC>av.verticalDragMaxHeight){aC=av.verticalDragMaxHeight;}else{if(aC<av.verticalDragMinHeight){aC=av.verticalDragMinHeight;}}aB.height(aC+"px");x=aF-aC+av.dragMaxYOffset;h(aD);}}function i(aM,aN,s,aK){var aO="before",aP="after",aL;if(aN=="os"){aN=/Mac/.test(navigator.platform)?"after":"split";}if(aN==aO){aP=aN;}else{if(aN==aP){aO=aN;aL=s;s=aK;aK=aL;}}aM[aO](s)[aP](aK);}function z(s,aK,aL){return function(){m(s,aK,this,aL);this.blur();return false;};}function m(aK,aL,s,aN){s=a(s).addClass("walkme-jspActive");var aO,aQ,aP=true,aM=function(){if(aK!==0){T.scrollByX(aK*av.arrowButtonSpeed);}if(aL!==0){T.scrollByY(aL*av.arrowButtonSpeed);}aQ=setTimeout(aM,aP?av.initialDelay:av.arrowRepeatFreq);aP=false;};aM();aO=aN?"mouseout.walkme-jsp":"mouseup.walkme-jsp";aN=aN||a(av.containerDoc).find("html");aN.bind(aO,function(){s.removeClass("walkme-jspActive");aQ&&clearTimeout(aQ);aQ=null;aN.unbind(aO);});}function H(){aj();if(S){aE.bind("mousedown.walkme-jsp",function(aN){if(aN.originalTarget===b||aN.originalTarget==aN.currentTarget){var aK=a(this),aP=aK.offset(),aL=aN.pageY-aP.top-aD,aQ,aO=true,aM=function(){var aT=aK.offset(),aU=aN.pageY-aT.top-aC/2,aR=ab*av.scrollPagePercent,aS=x*aR/(q-ab);if(aL<0){if(aD-aS>aU){T.scrollByY(-aR);}else{ag(aU);}}else{if(aL>0){if(aD+aS<aU){T.scrollByY(aR);}else{ag(aU);}}else{s();return;}}aQ=setTimeout(aM,aO?av.initialDelay:av.trackClickRepeatFreq);aO=false;},s=function(){aQ&&clearTimeout(aQ);aQ=null;a(av.containerDoc).unbind("mouseup.walkme-jsp",s);};aM();a(av.containerDoc).bind("mouseup.walkme-jsp",s);return false;}});}if(R){F.bind("mousedown.walkme-jsp",function(aN){if(aN.originalTarget===b||aN.originalTarget==aN.currentTarget){var aK=a(this),aP=aK.offset(),aL=aN.pageX-aP.left-D,aQ,aO=true,aM=function(){var aT=aK.offset(),aU=aN.pageX-aT.left-E/2,aR=ac*av.scrollPagePercent,aS=w*aR/(u-ac);if(aL<0){if(D-aS>aU){T.scrollByX(-aR);}else{af(aU);}}else{if(aL>0){if(D+aS<aU){T.scrollByX(aR);}else{af(aU);}}else{s();return;}}aQ=setTimeout(aM,aO?av.initialDelay:av.trackClickRepeatFreq);aO=false;},s=function(){aQ&&clearTimeout(aQ);aQ=null;a(av.containerDoc).unbind("mouseup.walkme-jsp",s);};aM();a(av.containerDoc).bind("mouseup.walkme-jsp",s);return false;}});}}function aj(){if(F){F.unbind("mousedown.walkme-jsp");}if(aE){aE.unbind("mousedown.walkme-jsp");}}function o(){a(av.containerDoc).find("html").unbind("dragstart.walkme-jsp selectstart.walkme-jsp mousemove.walkme-jsp mouseup.walkme-jsp mouseleave.walkme-jsp");if(aB){aB.removeClass("walkme-jspActive");}if(C){C.removeClass("walkme-jspActive");}}function ag(aK,s){if(!S){return;}if(aK<0){aK=0;}else{if(aK>x){aK=x;}}if(s===b){s=av.animateScroll;}if(s){T.animate(aB,"top",aK,h);}else{aB.css("top",aK);h(aK);}}function h(aK){if(aK===b){aK=aB.position().top;}p.scrollTop(0);aD=aK;var aN=aD===0,aM=aD==x,aO=aK/x,s=-aO*(q-ab);if(aJ!=aN||aG!=aM){aJ=aN;aG=aM;y.trigger("walkme-jsp-arrow-change",[aJ,aG,aH,aI]);}az(aN,aM);aa.css("top",s);try{y.trigger("walkme-jsp-scroll-y",[-s,aN,aM]).trigger("scroll");}catch(aL){}}function af(aK,s){if(!R){return;}if(aK<0){aK=0;}else{if(aK>w){aK=w;}}if(s===b){s=av.animateScroll;}if(s){T.animate(C,"left",aK,g);}else{C.css("left",aK);g(aK);}}function g(aK){if(aK===b){aK=C.position().left;}p.scrollTop(0);D=aK;var aM=D===0,aN=D==w,aO=aK/w,s=-aO*(u-ac);if(aH!=aM||aI!=aN){aH=aM;aI=aN;y.trigger("walkme-jsp-arrow-change",[aJ,aG,aH,aI]);}ay(aM,aN);aa.css("left",s);try{y.trigger("walkme-jsp-scroll-x",[-s,aM,aN]).trigger("scroll");}catch(aL){}}function az(aK,s){if(av.showArrows){n[aK?"addClass":"removeClass"]("walkme-jspDisabled");j[s?"addClass":"removeClass"]("walkme-jspDisabled");}}function ay(s,aK){if(av.showArrows){k[s?"addClass":"removeClass"]("walkme-jspDisabled");l[aK?"addClass":"removeClass"]("walkme-jspDisabled");}}function au(aK,s){var aL=aK/(q-ab);ag(aL*x,s);}function at(aK,s){var aL=aK/(u-ac);af(aL*w,s);}function ar(aN,aV,s){var aM,aO,aR,aQ=0,aP=0,aX,aW,aU,aT,aL,aK;try{aM=a(aN);}catch(aS){return;}aO=aM.outerHeight();aR=aM.outerWidth();p.scrollTop(0);p.scrollLeft(0);while(!aM.is(".walkme-jspPane")){aQ+=aM.position().top;aP+=aM.position().left;aM=aM.offsetParent();if(/^body|html$/i.test(aM[0].nodeName)){return;}}aX=t();aU=aX+ab;if(aQ<aX||aV){aL=aQ-av.verticalGutter;}else{if(aQ+aO>aU){aL=aQ-ab+aO+av.verticalGutter;}}if(!isNaN(aL)){au(aL,s);}aW=r();aT=aW+ac;if(aP<aW||aV){aK=aP-av.horizontalGutter;}else{if(aP+aR>aT){aK=aP-ac+aR+av.horizontalGutter;}}if(!isNaN(aK)){at(aK,s);}}function r(){return -aa.position().left;}function t(){return -aa.position().top;}function P(){var s=q-ab;return(s>20)&&(s-t()<10);}function Q(){var s=u-ac;return(s>20)&&(s-r()<10);}function N(){p.unbind(U).bind(U,function(aO,s,aK,aL){var aM=D,aN=aD;T.scrollBy(aK*av.mouseWheelSpeed,-aL*av.mouseWheelSpeed,false);return aM==D&&aN==aD;});}function am(){p.unbind(U);}function V(){return false;}function I(){aa.find(":input,a").unbind("focus.walkme-jsp").bind("focus.walkme-jsp",function(s){ar(s.target,false);});}function ak(){aa.find(":input,a").unbind("focus.walkme-jsp");}function M(){var aK,s,aM=[];R&&aM.push(B[0]);S&&aM.push(aA[0]);aa.focus(function(){y.focus();});if(av.setTabIndex){y.attr("tabindex",0);}y.unbind("keydown.walkme-jsp keypress.walkme-jsp").bind("keydown.walkme-jsp",function(aP){if(aP.target!==this&&!(aM.length&&a(aP.target).closest(aM).length)){return;}var aN=D,aO=aD;switch(aP.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:aK=aP.keyCode;aL();break;case 35:au(q-ab);aK=null;break;case 36:au(0);aK=null;break;}s=aP.keyCode==aK&&aN!=D||aO!=aD;return !s;}).bind("keypress.walkme-jsp",function(aN){if(aN.keyCode==aK){aL();}return !s;});if(av.hideFocus){y.css("outline","none");if("hideFocus" in p[0]){y.attr("hideFocus",true);}}else{y.css("outline","");if("hideFocus" in p[0]){y.attr("hideFocus",false);}}function aL(){var aN=D,aO=aD;switch(aK){case 40:T.scrollByY(av.keyboardSpeed,false);break;case 38:T.scrollByY(-av.keyboardSpeed,false);break;case 34:case 32:T.scrollByY(ab*av.scrollPagePercent,false);break;case 33:T.scrollByY(-ab*av.scrollPagePercent,false);break;case 39:T.scrollByX(av.keyboardSpeed,false);break;case 37:T.scrollByX(-av.keyboardSpeed,false);break;}s=aN!=D||aO!=aD;return s;}}function al(){if(av.setTabIndex){y.attr("tabindex","-1").removeAttr("tabindex");}y.unbind("keydown.walkme-jsp keypress.walkme-jsp");}function W(){if(location.hash&&location.hash.length>1){var s,aM,aL=escape(location.hash.substr(1));try{s=a("#"+aL+', a[name="'+aL+'"]');}catch(aK){return;}if(s.length&&aa.find(aL)){if(p.scrollTop()===0){aM=setInterval(function(){if(p.scrollTop()>0){ar(s,true);a(av.containerDoc).scrollTop(p.position().top);clearInterval(aM);}},50);}else{ar(s,true);a(av.containerDoc).scrollTop(p.position().top);}}}}function A(){if(a(av.containerDoc.body).data("walkme-jspHijack")){return;}a(av.containerDoc.body).data("walkme-jspHijack",true);a(av.containerDoc.body).delegate("a[href*=#]","click",function(aN){var aP=this.href.substr(0,this.href.indexOf("#")),aR=location.href,aO,aL,s,aQ,aS,aM;if(location.href.indexOf("#")!==-1){aR=location.href.substr(0,location.href.indexOf("#"));}if(aP!==aR){return;}aO=escape(this.href.substr(this.href.indexOf("#")+1));aL;try{aL=a("#"+aO+', a[name="'+aO+'"]');}catch(aK){return;}if(!aL.length){return;}s=aL.closest(".walkme-jspScrollable");aQ=s.data("walkme-jsp");aQ.scrollToElement(aL,true);if(s[0].scrollIntoView){aS=a(c).scrollTop();aM=aL.offset().top;if(aM<aS||aM>aS+a(c).height()){s[0].scrollIntoView();}}aN.preventDefault();});}function O(){var aL,aM,aN,aO,s,aK=false;p.unbind("touchstart.walkme-jsp touchmove.walkme-jsp touchend.walkme-jsp click.walkme-jsp-touchclick").bind("touchstart.walkme-jsp",function(aP){var aQ=aP.originalEvent.touches[0];aL=r();aM=t();aN=aQ.pageX;aO=aQ.pageY;s=false;aK=true;}).bind("touchmove.walkme-jsp",function(aR){if(!aK){return;}var aS=aR.originalEvent.touches[0],aP=D,aQ=aD;T.scrollTo(aL+aN-aS.pageX,aM+aO-aS.pageY);s=s||Math.abs(aN-aS.pageX)>5||Math.abs(aO-aS.pageY)>5;return aP==D&&aQ==aD;}).bind("touchend.walkme-jsp",function(aP){aK=false;}).bind("click.walkme-jsp-touchclick",function(aP){if(s){s=false;return false;}});}function v(){var aK=t(),s=r();y.removeClass("walkme-jspScrollable").unbind(".walkme-jsp");y.replaceWith(X.append(aa.children()));X.scrollTop(aK);X.scrollLeft(s);if(ai){clearInterval(ai);}}a.extend(T,{reinitialise:function(aK){aK=a.extend({},av,aK);J(aK);},scrollToElement:function(aK,aL,s){ar(aK,aL,s);},scrollTo:function(aK,aL,s){at(aK,s);au(aL,s);},scrollToX:function(aK,s){at(aK,s);},scrollToY:function(aK,s){au(aK,s);},scrollToPercentX:function(aK,s){at(aK*(u-ac),s);},scrollToPercentY:function(aK,s){au(aK*(q-ab),s);},scrollBy:function(aK,aL,s){T.scrollByX(aK,s);T.scrollByY(aL,s);},scrollByX:function(aK,s){var aL=r()+Math[aK<0?"floor":"ceil"](aK),aM=aL/(u-ac);af(aM*w,s);},scrollByY:function(aK,s){var aL=t()+Math[aK<0?"floor":"ceil"](aK),aM=aL/(q-ab);ag(aM*x,s);},positionDragX:function(aK,s){af(aK,s);},positionDragY:function(aK,s){ag(aK,s);},animate:function(s,aL,aN,aM){var aK={};aK[aL]=aN;s.animate(aK,{duration:av.animateDuration,easing:av.animateEase,queue:false,step:aM});},getContentPositionX:function(){return r();},getContentPositionY:function(){return t();},getContentWidth:function(){return u;},getContentHeight:function(){return q;},getPercentScrolledX:function(){return r()/(u-ac);},getPercentScrolledY:function(){return t()/(q-ab);},getIsScrollableH:function(){return R;},getIsScrollableV:function(){return S;},getContentPane:function(){return aa;},scrollToBottom:function(s){ag(x,s);},hijackInternalLinks:a.noop,destroy:function(){v();}});J(ap);}f=a.extend({},a.fn.jScrollPane.defaults,f);a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){f[this]=f[this]||f.speed;});return this.each(function(){var g=a(this),h=g.data("walkme-jsp");if(h){h.reinitialise(f);}else{a("script",g).filter('[type="text/javascript"],:not([type])').remove();h=new d(g,f);g.data("walkme-jsp",h);}});};a.fn.jScrollPane.defaults={containerDoc:document,setTabIndex:true,alwaysScrollVertical:false,alwaysScrollHorizontal:false,dragMaxYOffset:0,showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:b,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8};})(wmjQuery,this);(function(a){var h=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"];var g="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];var d,f;if(a.event.fixHooks){for(var c=h.length;c;){a.event.fixHooks[h[--c]]=a.event.mouseHooks;}}a.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var j=g.length;j;){this.addEventListener(g[--j],b,false);}}else{this.onmousewheel=b;}},teardown:function(){if(this.removeEventListener){for(var j=g.length;j;){this.removeEventListener(g[--j],b,false);}}else{this.onmousewheel=null;}}};a.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel");},unmousewheel:function(i){return this.unbind("mousewheel",i);}});function b(o){var q=o||window.event,k=[].slice.call(arguments,1),l=0,m=0,n=0,i=0,j=0,p;o=a.event.fix(q);o.type="mousewheel";if(q.wheelDelta){l=q.wheelDelta;}if(q.detail){l=q.detail*-1;}if(q.deltaY){n=q.deltaY*-1;l=n;}if(q.deltaX){m=q.deltaX;l=m*-1;}if(q.wheelDeltaY!==undefined){n=q.wheelDeltaY;}if(q.wheelDeltaX!==undefined){m=q.wheelDeltaX*-1;}i=Math.abs(l);if(!d||i<d){d=i;}j=Math.max(Math.abs(n),Math.abs(m));if(!f||j<f){f=j;}p=l>0?"floor":"ceil";l=Math[p](l/d);m=Math[p](m/f);n=Math[p](n/f);k.unshift(o,l,m,n);return(a.event.dispatch||a.event.handle).apply(this,k);}})(wmjQuery);(function(a){var c={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var h={duration:"fast",direction:"both"};var f;var b=function(j,l){l=l||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(j,null):j.currentStyle);var k=document.defaultView&&document.defaultView.getComputedStyle?true:false;var i={top:(parseFloat(k?l.borderTopWidth:a.css(j,"borderTopWidth"))||0),left:(parseFloat(k?l.borderLeftWidth:a.css(j,"borderLeftWidth"))||0),bottom:(parseFloat(k?l.borderBottomWidth:a.css(j,"borderBottomWidth"))||0),right:(parseFloat(k?l.borderRightWidth:a.css(j,"borderRightWidth"))||0)};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right};};var d=function(i){var k=a(window);var j=f.test(i[0].nodeName);return{border:j?{top:0,left:0,bottom:0,right:0}:b(i[0]),scroll:{top:(j?k:i).scrollTop(),left:(j?k:i).scrollLeft()},scrollbar:{right:j?0:i.innerWidth()-i[0].clientWidth,bottom:j?0:i.innerHeight()-i[0].clientHeight},rect:(function(){var l=i[0].getBoundingClientRect();return{top:j?0:l.top,left:j?0:l.left,bottom:j?i[0].clientHeight:l.bottom,right:j?i[0].clientWidth:l.right};})()};};a.fn.extend({scrollintoview:function(n){n=a.extend({},h,n);n.direction=c[typeof(n.direction)==="string"&&n.direction.toLowerCase()]||c.both;var l="";if(n.direction.x===true){l="horizontal";}if(n.direction.y===true){l=l?"both":"vertical";}if(n.rootElement=="html"){f=/^(?:html)$/i;}else{f=/^(?:body)$/i;}var m=this.eq(0);var p=n.elementToFindScrollableFor.parent().closest(":scrollable("+l+")");if(p.length>0){if(n.rootElement=="html"){if((p[0].tagName)&&(p[0].tagName.toUpperCase)&&(p[0].tagName.toUpperCase()=="BODY")){p=p.parent();}}p=p.eq(0);var k={e:d(m),s:d(p)};if(n.heightLimit&&p.height()<200){return false;}var o={top:k.e.rect.top-(k.s.rect.top+k.s.border.top),bottom:k.s.rect.bottom-k.s.border.bottom-k.s.scrollbar.bottom-k.e.rect.bottom,left:k.e.rect.left-(k.s.rect.left+k.s.border.left),right:k.s.rect.right-k.s.border.right-k.s.scrollbar.right-k.e.rect.right};var i=0;var r={top:o.top,bottom:o.bottom};if(n.endScroll){var q=n.endScroll.scrollOptions;i=q.unit=="px"?q.distance:(k.s.rect.bottom-n.endScroll.balloonHeight)*parseFloat(q.distance)/100;if(o.top>0&&o.bottom<0){i+=n.endScroll.totalDrawnHeight-k.s.rect.bottom;}if(q.force){r.top-=i;}}else{o.top-=50;o.bottom-=50;}var j={};if(n.direction.y===true){if(r.top<0){j.scrollTop=k.s.scroll.top+o.top-i;}else{if(r.top>0&&r.bottom<0){j.scrollTop=k.s.scroll.top+Math.min(o.top,-o.bottom)-i;}}}if(n.direction.x===true){if(o.left<0){j.scrollLeft=k.s.scroll.left+o.left;}else{if(o.left>0&&o.right<0){j.scrollLeft=k.s.scroll.left+Math.min(o.left,-o.right);}}}if(j.scrollTop||j.scrollLeft){if(f.test(p[0].nodeName)){p=a("html,body");}p.animate(j,n.duration).eq(0).queue(function(s){a.isFunction(n.complete)&&n.complete.call(p[0]);s();});}else{return false;}}else{return false;}return true;}});var g={auto:true,scroll:true,visible:false,hidden:false};a.extend(a.expr[":"],{scrollable:function(j,k,l,o){var i=c[typeof(l[3])==="string"&&l[3].toLowerCase()]||c.both;var p=(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(j,null):j.currentStyle);var m={x:g[p.overflowX.toLowerCase()]||false,y:g[p.overflowY.toLowerCase()]||false,isRoot:f.test(j.nodeName)};if((!m.x&&!m.y&&!m.isRoot)||(p.overflowY.toLowerCase()=="hidden")){return false;}var n={height:{scroll:j.scrollHeight,client:j.clientHeight},width:{scroll:j.scrollWidth,client:j.clientWidth},scrollableX:function(){return(m.x||m.isRoot)&&this.width.scroll>this.width.client;},scrollableY:function(){return(m.y||m.isRoot)&&this.height.scroll>this.height.client;}};return i.y&&n.scrollableY()||i.x&&n.scrollableX();}});})(mtjQuery);function ClassMakeTutorial(){var ao=this;var X=0;var Q=0;this.MTVersion="1.0";this.SVNRevision="$MasterRev: 3906 $";this.LocalSVNRevision="$Rev: 3906 $";this.SpecialRevision="no";function gU(){var lA=this;this.LocalSVNRevision="$Rev: 3666 $";var l7="wm-lang";var ml="wm-postlibjs";var lO="_default_";var mh=false;var lw;var lz;var lx;var lo;var lp;var ls;var lL=null;var lP=[];var lN=[];var lI=null;var mo;var mj=false;var mk;var mi=false;var lS=false;var lB;var lt=false;var lv=false;var lu=false;var lr;var lq=true;var ly;this.isNextDataPackageIsHidden=function l4(){return mj;};this.getPlayerServer=function lW(){return mk;};function lK(mt,mv,mp,ms,mr,mq,mu){lw=mt;lz=mv;lx=window.localStorage;lo=mp;lp=mq.addScript;ls=ms;lr=mr;ly=mu;lQ();if(!window._walkmeInternals||window._walkmeInternals.isSelfHosted){lq=false;}}function lQ(){if(window.wmPlaySnippet){lB=window.wmPlaySnippet;lu=true;lt=true;}else{if(window.wmPreviewSnippet){lB=window.wmPreviewSnippet;lv=true;lt=true;}else{if(window.wmSnippet){lB=window.wmSnippet;lt=true;}}}}function lG(mp){if(lI){lI(mp);}}this.changeLanguage=function lH(mr,mp){lI=mp;lw.stopTutorial();var ms=kp.getData(l7);if(ms==mr){lG(false);return;}var mu=false;for(var mq=0;mq<lP.length;mq++){if(l2(mr,lP[mq])){mu=true;}}if(!mu){lG(false);return;}if(mr===""){mr=lO;}lz.saveData(l7,mr,31536000);lL=0;mi=true;lS=true;var mt=lo.getPermutation();l9(lP,mt);};this.isNewLanguage=function l3(){return lS;};this.getCurrentLanguage=function lV(){var mq=null;mq=lz.getData(l7);if(mq==lO){mq="";}if(!mq&&!(mq==="")){try{mq=walkme_get_language();}catch(mp){}}if(!mq){return"";}return mq;};this.getSupportedLanguages=function lX(){var mr=[];for(var mp=0;mp<lN.length;mp++){for(var mq=0;mq<lN[mp].languages.length;mq++){if(lN[mp].languages[mq].showInPlayer){mr.push(lN[mp].languages[mq]);}}}return mr;};this.startInitializer=function mn(mp){mc(function(){lR(mp);});};function lR(mp){var ms=lw.Logger.timer("init data files and widget");lL=0;var mq=!(lv||lu);if(window.wm_walkmeLibLoaded!=undefined){_makeTutorial=lw;wm_walkmeLibLoaded(lw);}else{if(l5()){return;}else{if(window.document.dontLoadTriangle&&mq){return;}else{if(l6()){if(mp==undefined){mp=mg;}md(mt_get_user_settings_url,mp);}else{if(lv&&lB.getSettingsFile()==undefined){ma(jb(lB.getServerSettings().datafilesArray.replace(/'/gi,'"')),lB.getServerSettings().widgetUrl);}else{var mr=ly.getSettingsFile();if(mr){if(!lZ(mr)){lw.removeWalkMe("walkmeDisabled");return;}lw.setPetaServerName(mr.PetaServer);lw.setRecorderServer(mr.PlayerServer);lw.setCdnServer(mr.CdnServerName);lw.setAuditSource(mr.Environment);if(mr.IsInRecorder){lw.setInRecorder(true);}au=mr.UserGuids[0];mk=mr.PlayerServer;if(!lu){l0(mr,function(mt){mm(mr,mt);});}else{if(mr.data){lw.setSurveysForRecorder("[]");lw.setSiteConfig(mr.data.siteConfig);lw.setTutorialsForEditor(mr.data.tutorials,mr.UserGuids[0]);setTimeout(function(){lw.dataFinishedLoading(true);},1);}}}else{}}}}}}ms.stop();}function l0(mq,mp){var ms=mq.WalkMeConfigFile;if(!ms){mp();return;}me(ms,"WalkMeConfigCallback",mr,undefined,true);function mr(mt,mz,mw){var mv=mt.EndUserSettings;c9.setEndUserSettings(mv);var mx=lU(mt.ActivationRules);var my=mt.Permutations;var mu=mt.DefaultPermutation;lo.initGetPermutation(my,mu,mx,function(mB){var mA=lo.getPermutationById(my,mB);if(!mA){}if(mA.LoadWalkMe===0){co("WalkMe ABTesting - WalkMe Loading canceled. Stopping execution");lw.removeWalkMe("AbTesting - LoadWalkMe is false");return;}lw.appendWalkMeConfigData(mt);mp(mB);});}}function lU(mp){for(var ms=0;ms<mp.length;ms++){var mr=mp[ms];var mq=lr.evaluate(mr.Settings.conditionTree);if(mq===true){var mt=mr.PermutationIds[0];return mt;}}return null;}function mm(ms,mp){var mq=ms.DataFiles;for(var mr=0;mr<mq.length;mr++){if(mq[mr].metaData){mb(ms,mq[mr]);return;}}ma(ms.DataFiles,ms.WidgetFile,mp);}function me(mt,mr,mq,ms,mp){ms=ms||function(mv,mw,mu){};mtjQuery.ajax(mt,{cache:!!mp,dataType:"jsonp",jsonpCallback:mr,success:mq,error:ms});}function mb(mr,mq){me(mq.url,"fixedCallback",mp,undefined,false);function mp(ms,mw,mv){var mt=[];ms=lB.fixAutoDetectPaths(ms);for(var mu=0;mu<mr.DataFiles.length;mu++){if(mr.DataFiles[mu].metaData==true){mt=mt.concat(ms.DataFiles);}else{mt.push(mr.DataFiles[mu]);}}ma(mt,mr.WidgetFile);}}function ma(mq,mr,mp){lP=jb(kL(mq));mf(mr);l9(mq,mp);}function l5(){return !lt&&!l6();}function mf(mp){mo=mp;}function l9(mp,mq){lN=lT(jb(kL(mp)));if(mq!==undefined&&mq>-1){lN=lD(lN,mq);}l8();}function l1(mp){return(mp&&mp.length>0);}function lT(mp){for(var mq=0;mq<mp.length;mq++){mp[mq].url=lJ(mp[mq]);}return mp;}function lD(mp,mr){for(var mq=0;mq<mp.length;mq++){mp[mq].url=lE(mp[mq],mr);}return mp;}function lE(mp,mq){var ms=mp.url;var mr=".js";return ms.substring(0,ms.length-mr.length)+"_"+mq+mr;}function l6(){if((window.mt_recorder_server_name!=undefined)&&(window.mt_get_user_settings_url!=undefined)){return true;}else{return false;}}function lZ(mp){var mr="walkme_is_enabled_override";var mq=false;var mt=undefined;var ms=lz.getData(mr,undefined);if(ms!==undefined){mt=ms;}else{mt=window[mr];}if(mt!==undefined){mq=mt;}else{mq=mp.IsEnabled;}return mq;}function mg(mp,mr,mq){if(mh){return;}mh=true;if(!mp.IsEnabled){return;}mk=mp.PlayerServer;if((mp.TriangleFile!=undefined)&&(mp.TriangleFile!="")){var ms=lY(mp.TriangleFile);lp(ms);}else{ma(mp.DataFiles,mp.WidgetFile);}}function md(mr,mp){var mq=function mq(mt,mu,ms){co("Error: Failed to get Settings from "+mr);};me(mr,"fixedCallback",mp,mq,lq);}function lY(mq){if(window.walkme_custom_data_url){return walkme_custom_data_url;}var mp;if(mq.indexOf("SPECIAL_TRIANGLE_FILE")==-1){mp=mq;}else{lw.Logger.error("mt_makeTutorialLibLoaded - no triangleUrl");return;}mp=lJ(mp);return mp;}function lJ(mp){var mr=typeof(mp)=="string";var ms=lA.getCurrentLanguage();var mq=(mr)?mp:mp.url;if(ms){if(mr||l2(ms,mp)){mq=mq.substring(0,mq.length-3);mq=mq+"_"+ms+".js";}else{if(!mi){lz.removeData(l7);}}}return mq;}function l2(mr,mp){for(var mq=0;mq<mp.languages.length;mq++){if(mp.languages[mq].shortName==mr){return true;}}return false;}function lC(mp){lp(mp);}function lF(mp){lp(mp);}function l8(){try{var mp=lN[lL].url;mj=lN[lL].isHidden!=undefined?lN[lL].isHidden:false;lC(mp);}catch(mq){lw.Logger.error("faild to load data file: "+mq);}}this.dataFileLoadedWrapper=function lM(){mj=false;lL++;lS=false;if(lL==lN.length){if(!lw.dataFinishedLoading()){return;}if(!mi){lF(mo);}else{mi=false;lG(true);}}else{l8();}};function mc(mp){var mr={};mr=ly.getSettingsFile();var mq;if(lx){mq=lx.getItem(ml);}if(mq){mr.PostLibJsFile=mq;}if(mr.PostLibJsFile&&mr.PostLibJsFile!=""){window.walkme_post_lib_loaded=function(){mp();};lp(mr.PostLibJsFile);}else{mp();}}lK.apply(null,arguments);}var gT=null;this.Init=function fU(){av=new Date().getTime();gT.startInitializer();};this.dataFileLoaded=function cp(){gT.dataFileLoadedWrapper();};var hh="uiProperties",hc="passOwnership",g4="auditSteps",ha="goals",hg="sticky",g6="balloon",hd="resources",g9="FramesetsUtils",g8="elementFinder",he="showLaunchers",hf="tasks",g7="content",hb="hl",g5="autostart",cd={Cookies:"cookies",LocalStorage:"localStorage",IndexedDB:"indexedDB"},kh={NOTHING:0,NEXT_BUTTON:1,CLICK:2,HOVER:3,PAGE_CHANGED:4,KEY_PRESSED:5,DURATION:6},ke={Normal:0,Popup:1,Action:2},cu={Deactive:0,Active:1,ActiveAndReset:2};var fR={};(function(lq,lz){lq.Template=function(lC,lD,lA,lB){this.r=lC||this.r;this.c=lA;this.options=lB;this.text=lD||"";this.buf=(lz)?[]:"";};lq.Template.prototype={r:function(lA,lC,lB){return"";},v:lr,t:lo,render:function lv(lA,lC,lB){return this.ri([lA],lC||{},lB);},ri:function(lA,lC,lB){return this.r(lA,lC,lB);},rp:function(lC,lA,lE,lB){var lD=lE[lC];if(!lD){return"";}if(this.c&&typeof lD=="string"){lD=this.c.compile(lD,this.options);}return lD.ri(lA,lE,lB);},rs:function(lA,lC,lD){var lE=lA[lA.length-1];if(!ls(lE)){lD(lA,lC,this);return;}for(var lB=0;lB<lE.length;lB++){lA.push(lE[lB]);lD(lA,lC,this);lA.pop();}},s:function(lH,lA,lD,lC,lF,lB,lG){var lE;if(ls(lH)&&lH.length===0){return false;}if(typeof lH=="function"){lH=this.ls(lH,lA,lD,lC,lF,lB,lG);}lE=(lH==="")||!!lH;if(!lC&&lE&&lA){lA.push((typeof lH=="object")?lH:lA[lA.length-1]);}return lE;},d:function(lD,lA,lF,lG){var lE=lD.split("."),lH=this.f(lE[0],lA,lF,lG),lB=null;if(lD==="."&&ls(lA[lA.length-2])){return lA[lA.length-1];}for(var lC=1;lC<lE.length;lC++){if(lH&&typeof lH=="object"&&lE[lC] in lH){lB=lH;lH=lH[lE[lC]];}else{lH="";}}if(lG&&!lH){return false;}if(!lG&&typeof lH=="function"){lA.push(lB);lH=this.lv(lH,lA,lF);lA.pop();}return lH;},f:function(lD,lA,lE,lF){var lH=false,lG=null,lB=false;for(var lC=lA.length-1;lC>=0;lC--){lG=lA[lC];if(lG&&typeof lG=="object"&&lD in lG){lH=lG[lD];lB=true;break;}}if(!lB){return(lF)?false:"";}if(!lF&&typeof lH=="function"){lH=this.lv(lH,lA,lE);}return lH;},ho:function(lG,lB,lD,lF,lE){var lA=this.c;var lC=this.options;lC.delimiters=lE;var lF=lG.call(lB,lF);lF=(lF==null)?String(lF):lF.toString();this.b(lA.compile(lF,lC).render(lB,lD));return false;},b:(lz)?function(lA){this.buf.push(lA);}:function(lA){this.buf+=lA;},fl:(lz)?function(){var lA=this.buf.join("");this.buf=[];return lA;}:function(){var lA=this.buf;this.buf="";return lA;},ls:function(lI,lA,lE,lD,lF,lC,lH){var lB=lA[lA.length-1],lG=null;if(!lD&&this.c&&lI.length>0){return this.ho(lI,lB,lE,this.text.substring(lF,lC),lH);}lG=lI.call(lB);if(typeof lG=="function"){if(lD){return true;}else{if(this.c){return this.ho(lG,lB,lE,this.text.substring(lF,lC),lH);}}}return lG;},lv:function(lE,lA,lC){var lB=lA[lA.length-1];var lD=lE.call(lB);if(typeof lD=="function"){lD=lo(lD.call(lB));if(this.c&&~lD.indexOf("{\u007B")){return this.c.compile(lD,this.options).render(lB,lC);}}return lo(lD);}};var lt=/&/g,lx=/</g,lw=/>/g,lu=/\'/g,ly=/\"/g,lp=/[&<>\"\']/;function lo(lA){return String((lA===null||lA===undefined)?"":lA);}function lr(lA){lA=lo(lA);return lp.test(lA)?lA.replace(lt,"&amp;").replace(lx,"&lt;").replace(lw,"&gt;").replace(lu,"&#39;").replace(ly,"&quot;"):lA;}var ls=Array.isArray||function(lA){return Object.prototype.toString.call(lA)==="[object Array]";};})(fR);(function(ls){var ly=/\S/,lA=/\"/g,lz=/\n/g,lx=/\r/g,lB=/\\/g,lF={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};ls.scan=function lC(l3,lP){var lV=l3.length,lU=0,lT=1,lS=2,l0=lU,l2=null,l1=null,lM="",l4=[],lZ=false,lR=0,lX=0,lY="{{",lO="}}";function lL(){if(lM.length>0){l4.push(new String(lM));lM="";}}function lW(){var l5=true;for(var l6=lX;l6<l4.length;l6++){l5=(l4[l6].tag&&lF[l4[l6].tag]<lF._v)||(!l4[l6].tag&&l4[l6].match(ly)===null);if(!l5){return false;}}return l5;}function lQ(l5,l8){lL();if(l5&&lW()){for(var l6=lX,l7;l6<l4.length;l6++){if(!l4[l6].tag){if((l7=l4[l6+1])&&l7.tag==">"){l7.indent=l4[l6].toString();}l4.splice(l6,1);}}}else{if(!l8){l4.push({tag:"\n"});}}lZ=false;lX=l4.length;}function lN(l9,l8){var l5="="+lO,l6=l9.indexOf(l5,l8),l7=lH(l9.substring(l9.indexOf("=",l8)+1,l6)).split(" ");lY=l7[0];lO=l7[1];return l6+l5.length-1;}if(lP){lP=lP.split(" ");lY=lP[0];lO=lP[1];}for(lR=0;lR<lV;lR++){if(l0==lU){if(lE(lY,l3,lR)){--lR;lL();l0=lT;}else{if(l3.charAt(lR)=="\n"){lQ(lZ);}else{lM+=l3.charAt(lR);}}}else{if(l0==lT){lR+=lY.length-1;l1=lF[l3.charAt(lR+1)];l2=l1?l3.charAt(lR+1):"_v";if(l2=="="){lR=lN(l3,lR);l0=lU;}else{if(l1){lR++;}l0=lS;}lZ=lR;}else{if(lE(lO,l3,lR)){l4.push({tag:l2,n:lH(lM),otag:lY,ctag:lO,i:(l2=="/")?lZ-lO.length:lR+lY.length});lM="";lR+=lO.length-1;l0=lU;if(l2=="{"){if(lO=="}}"){lR++;}else{lq(l4[l4.length-1]);}}}else{lM+=l3.charAt(lR);}}}}lQ(lZ,true);return l4;};function lq(lL){if(lL.n.substr(lL.n.length-1)==="}"){lL.n=lL.n.substring(0,lL.n.length-1);}}function lH(lL){if(lL.trim){return lL.trim();}return lL.replace(/^\s*|\s*$/g,"");}function lE(lO,lP,lM){if(lP.charAt(lM)!=lO.charAt(0)){return false;}for(var lL=1,lN=lO.length;lL<lN;lL++){if(lP.charAt(lM+lL)!=lO.charAt(lL)){return false;}}return true;}function lo(lR,lN,lP,lL){var lM=[],lO=null,lQ=null;while(lR.length>0){lQ=lR.shift();if(lQ.tag=="#"||lQ.tag=="^"||lv(lQ,lL)){lP.push(lQ);lQ.nodes=lo(lR,lQ.tag,lP,lL);lM.push(lQ);}else{if(lQ.tag=="/"){if(lP.length===0){throw new Error("Closing tag without opener: /"+lQ.n);}lO=lP.pop();if(lQ.n!=lO.n&&!lu(lQ.n,lO.n,lL)){throw new Error("Nesting error: "+lO.n+" vs. "+lQ.n);}lO.end=lQ.i;return lM;}else{lM.push(lQ);}}}if(lP.length>0){throw new Error("missing closing tag: "+lP.pop().n);}return lM;}function lv(lO,lN){for(var lL=0,lM=lN.length;lL<lM;lL++){if(lN[lL].o==lO.n){lO.tag="#";return true;}}}function lu(lL,lO,lP){for(var lM=0,lN=lP.length;lM<lN;lM++){if(lP[lM].c==lL&&lP[lM].o==lO){return true;}}}ls.generate=function(lO,lN,lM){var lL='var _=this;_.b(i=i||"");'+lK(lO)+"return _.fl();";if(lM.asString){return"function(c,p,i){"+lL+";}";}return new ls.Template(new Function("c","p","i",lL),lN,ls,lM);};function lr(lL){return lL.replace(lB,"\\\\").replace(lA,'\\"').replace(lz,"\\n").replace(lx,"\\r");}function lp(lL){return(~lL.indexOf("."))?"d":"f";}function lK(lP){var lL="";for(var lM=0,lN=lP.length;lM<lN;lM++){var lO=lP[lM].tag;if(lO=="#"){lL+=lD(lP[lM].nodes,lP[lM].n,lp(lP[lM].n),lP[lM].i,lP[lM].end,lP[lM].otag+" "+lP[lM].ctag);}else{if(lO=="^"){lL+=lt(lP[lM].nodes,lP[lM].n,lp(lP[lM].n));}else{if(lO=="<"||lO==">"){lL+=lw(lP[lM]);}else{if(lO=="{"||lO=="&"){lL+=lI(lP[lM].n,lp(lP[lM].n));}else{if(lO=="\n"){lL+=lG('"\\n"'+(lP.length-1==lM?"":" + i"));}else{if(lO=="_v"){lL+=lJ(lP[lM].n,lp(lP[lM].n));}else{if(lO===undefined){lL+=lG('"'+lr(lP[lM])+'"');}}}}}}}}return lL;}function lD(lO,lM,lN,lP,lL,lQ){return"if(_.s(_."+lN+'("'+lr(lM)+'",c,p,1),c,p,0,'+lP+","+lL+',"'+lQ+'")){_.rs(c,p,function(c,p,_){'+lK(lO)+"});c.pop();}";}function lt(lN,lL,lM){return"if(!_.s(_."+lM+'("'+lr(lL)+'",c,p,1),c,p,1,0,0,"")){'+lK(lN)+"};";}function lw(lL){return'_.b(_.rp("'+lr(lL.n)+'",c,p,"'+(lL.indent||"")+'"));';}function lI(lL,lM){return"_.b(_.t(_."+lM+'("'+lr(lL)+'",c,p,0)));';}function lJ(lL,lM){return"_.b(_.v(_."+lM+'("'+lr(lL)+'",c,p,0)));';}function lG(lL){return"_.b("+lL+");";}ls.parse=function(lN,lM,lL){lL=lL||{};return lo(lN,"",[],lL.sectionTags||[]);},ls.cache={};ls.compile=function(lO,lM){lM=lM||{};var lL=lO+"||"+!!lM.asString;var lN=this.cache[lL];if(lN){return lN;}lN=this.generate(this.parse(this.scan(lO,lM.delimiters),lO,lM),lO,lM);return this.cache[lL]=lN;};})(fR);(function(lo){lo.to_html=function(ls,lp,lq){var lr=ls;if(typeof lr=="string"){lr=this.compile(ls);}else{if(typeof lr=="function"){lr=new lo.Template(lr);}}return lr.render(lp,lq);};})(fR);var hs=fR;function lb(){var lw=this;lw.LocalSVNRevision="$Rev: 3461 $";var lv;var lo=null;var lp=null;var lu={};var lt={};var lq={};var lx={};var lr={};var ls={};function lA(lN){lv=lN;lv.__wmoop__=lw;lw.Virtual=new k2(lw);lw.Prop=new ia(lw);}lw.Extends=function lC(lT,lN,lO,lP,lQ,lR,lS){lo=new lT(lN,lO,lP,lQ,lR,lS);lp=lo.__wmoop__;ly();lJ();var lU=lz();lw._base=lU;};lw.Override=function lI(lO,lN){lr[lO]=lN;return lN;};function lJ(){for(var lN in lr){if(!lp.IsVirtual(lN)){throw"Cannot override non-virtual method ["+lN+"]. of class : "+lp;}lp.DoOverride(lN,lr[lN]);}}lw.DoOverride=function lB(lO,lN){lx[lO]=lN;};lw.IsVirtual=function lG(lN){return lx[lN]!==undefined;};function lH(lN,lO){var lQ={};for(var lP in lN){lQ[lP]=lN[lP];}for(var lP in lO){lQ[lP]=lO[lP];}return lQ;}lw.GetOriginalFunctions=function lD(){return lq;};function lz(){var lQ={};var lO={};var lO=lp.GetOriginalFunctions();for(var lP in lO){var lN=lO[lP];lQ[lP]=lN;}return lQ;}function ly(){var lP=lp.GetPublics();for(var lO in lP){var lN=lP[lO];lw.Public(lO,lN);}}lw.Public=function lL(lP,lN,lO){var lQ=lM(lP,lN,lO);lq[lP]=lN;lv[lP]=lQ;lu[lP]=lQ;return lQ;};lw.Protected=function lK(lP,lN,lO){var lQ=lM(lP,lN,lO);lq[lP]=lN;lt[lP]=lQ;return lQ;};lw.GetProperties=function lE(){return ls;};function lM(lP,lN,lO){if(!lO){return lN;}lx[lP]=lN;function lQ(){return lx[lP](arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);}return lQ;}lw.GetPublics=function lF(){return lu;};lw.GetProtecteds=function lF(){return lt;};lA.apply(null,arguments);}function ia(){var lp=this;var lo;function lr(lv){lo=lv;}lp.Public=function lu(lw,lv){var lx=lq(lw,lv);lo.Public(lw,lx);return lx;};lp.Protected=function lt(lw,lv){var lx=lq(lw,lv);lo.Protected(lw,lx);return lx;};lp.Private=function ls(lw,lv){var lx=lq(lw,lv);return lx;};function lq(lw,lv){lo.GetProperties()[lw]=lv;function lx(ly){if(ly===undefined){return lo.GetProperties()[lw];}else{lo.GetProperties()[lw]=ly;}}return lx;}lr.apply(null,arguments);}function k2(){var lp=this;var lo;function lr(lu){lo=lu;}function lq(lv){function lu(){throw ("["+lv+"] is pure virtual and must be overriden");}return lu;}this.Public=function lt(lv,lu){lu=lu?lu:lq(lv);return lo.Public(lv,lu,true);};this.Protected=function ls(lv,lu){lu=lu?lu:lq(lv);return lo.Protected(lv,lu,true);};lr.apply(null,arguments);}function kL(lw){if(lw!==null){iZ(lw,function(lE){try{if(lE.toJSON){lE.toJSON=null;}}catch(lD){}});}if((typeof JSON==="object")&&JSON.stringify&&gq(JSON.stringify)){return JSON.stringify(lw);}if(lw===null){return"null";}var lA=typeof lw;if(lA==="undefined"){return undefined;}if(lA==="number"||lA==="boolean"){return""+lw;}if(lA==="string"){return id(lw);}if(lA==="object"){if(typeof lw.toJSON==="function"){return kL(lw.toJSON());}if(lw.constructor===Date){var lu=lw.getUTCMonth()+1,lo=lw.getUTCDate(),lC=lw.getUTCFullYear(),lp=lw.getUTCHours(),lt=lw.getUTCMinutes(),lz=lw.getUTCSeconds(),ls=lw.getUTCMilliseconds();if(lu<10){lu="0"+lu;}if(lo<10){lo="0"+lo;}if(lp<10){lp="0"+lp;}if(lt<10){lt="0"+lt;}if(lz<10){lz="0"+lz;}if(ls<100){ls="0"+ls;}if(ls<10){ls="0"+ls;}return'"'+lC+"-"+lu+"-"+lo+"T"+lp+":"+lt+":"+lz+"."+ls+'Z"';}if(lw.constructor===Array){var ly=[];for(var lq=0;lq<lw.length;lq++){ly.push(kL(lw[lq])||"null");}return"["+ly.join(",")+"]";}var lv,lB,lx=[];for(var lr in lw){lA=typeof lr;if(lA==="number"){lv='"'+lr+'"';}else{if(lA==="string"){lv=id(lr);}else{continue;}}lA=typeof lw[lr];if(lA==="function"||lA==="undefined"){continue;}lB=kL(lw[lr]);lx.push(lv+":"+lB);}return"{"+lx.join(",")+"}";}}function jb(lp){if((typeof JSON==="object")&&JSON.parse&&gq(JSON.parse)){return JSON.parse(lp);}else{var lo=lp.toString().replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(lo)){return _makeTutorialEv.Ev("("+lp+")");}else{throw new SyntaxError("Error parsing JSON, source is not valid.");}}}function iZ(lr,lo){if(lr!=undefined&&typeof(lr)=="object"){for(var lq in lr){if(Object.hasOwnProperty.call(lr,lq)){var lp=lr[lq];if(lp!==null&&lp!==undefined){iZ(lp,lo);}}}}if(lr!==null&&lr!==undefined){lo(lr);}}function gq(lo){return lo.toString().indexOf("[native code]")>-1;}function bJ(lo){return jb(kL(lo));}function dD(){var lo=arguments[0];for(var lp=1;lp<arguments.length;lp++){var lq=new RegExp("\\{"+(lp-1)+"\\}","gm");lo=lo.replace(lq,arguments[lp]);}return lo;}function iV(lo){if(!lo){return{};}var lr={};for(var lq in lo){if(lo.hasOwnProperty(lq)){var lp=lo[lq];lq=gA(lq)?parseInt(lq):lq;lr[lp]=lq;}}return lr;}function eg(lq){var lo=0;var lp;for(lp in lq){if(lq.hasOwnProperty(lp)){lo++;}}return lo;}function gA(lo){return !isNaN(lo);}function eG(){var lo=new Date();var lp=lo.getTimezoneOffset()*60*1000;return(lo.getTime()-lp);}function cM(lo){var lq=[];for(var lp in lo){if(lo.hasOwnProperty(lp)){lq.push(lo[lp]);}}return lq;}function ef(lp){var lq=[];for(var lo in lp){if(lp.hasOwnProperty(lo)){lq.push(lo);}}return lq;}function eh(lp){var lq=[];for(var lo in lp){if(lp.hasOwnProperty(lo)){lq.push(lp[lo]);}}return lq;}function bS(ls,lo){for(var lq=ls.length-1;lq>=0;lq--){var lp=false;for(var lr=lo.length-1;(lr>=0)&&!lp;lr--){if(lo[lr]==ls[lq]){lp=true;}}if(!lp){lo.push(ls[lq]);}}return lo;}function hi(){var lr=this;lr.LocalSVNRevision="$Rev: 3636 $";var lw="walkmeCustomerLogs";var lx=60*60*24;var lt;var lo;var lp;function lu(lK){lt=lK.utils;lo=lK.cookieManager;lp=new lE(lo);}lr.wrapCustomerLog=function lJ(lK){return function(lN,lM,lL){lr.customerLog(lN,lM,lL||lK);};};lr.customerLog=function ly(lR,lP,lM){lP=cE(lP,1);var lK=jb(lo.getCookie(lw));if(lK){var lQ=parseInt(lK.l);var lO=lK.f;var lN=lK.u;if(lQ>=lP&&lB(lO,lN,lM)){try{if(lK.m){lF(lv()+kL(lR));}else{lF(lR);}}catch(lL){}}}};var ls=0;var lq=[];lr.timer=function(lK){ls++;var lL=new Date().getTime();return{stop:function(){var lM=jb(lo.getCookie(lw));if(!lM||!lM.m){return;}var lN=new Date().getTime();var lQ=lN-lL;var lO=Array(ls).join("->\t");var lP=lv()+lO+lK+": "+lQ+"ms";if(ls==1){lF(lP);lG();}else{lq.push(lP);}ls--;}};};function lG(){for(var lK=lq.length-1;lK>=0;lK--){lF(lq[lK]);}lq.length=0;}function lv(){var lK=new Date();return"["+lK.getHours()+":"+lK.getMinutes()+":"+lK.getSeconds()+":"+lK.getMilliseconds()+"] ";}function lB(lN,lK,lL){var lM=true;if(lN){lM=mtjQuery.inArray(lL,lN)!=-1;}else{if(lK){lM=mtjQuery.inArray(lL,lK)==-1;}}return lM;}lr.enableCustomerLogs=function lz(lK){return lp.enable(lK);};lr.error=function lA(lN,lO){try{var lP;var lL=arguments.callee.caller;var lK=(lL)?lL.name:"N/A";if(lN&&lN.message){var lQ=(lO)?lO+"\n":"";lP=lQ+"File : "+lN.fileName+"\n - Function : "+lK+"\n - Line : "+lN.lineNumber+"\n - Msg : "+lN.message;}else{lP="Function : "+lK+"\n - "+lO;}if(lN&&lN.stack){lP+="\n - Stack: "+lN.stack;}if(cs){alert("Dev mode alert: "+lP);}else{a3(lP,1);}ly("Error: "+lP);}catch(lM){}};function lF(lN){if(window.console){console.log(lN);}else{try{var lK=lD();var lO=new Date();var lM=lH(lN);lK.find("#walkme-console-messages").prepend('<li style="padding: 2px 5px; border-bottom: 1px solid #afafaf"><span style="float: left; color: #afafaf; margin-right: 5px;">'+lI(lO.getHours())+":"+lI(lO.getMinutes())+":"+lI(lO.getSeconds())+" </span>"+lM.substring(1,lM.length-1)+"</li>");}catch(lL){}}}function lH(lK){if(lK instanceof wmjQuery){return"-jQuery object: selector - "+lK.selector+", value - "+lK.val()+", domElement - "+kL(lK[0]);}else{return kL(lK);}}function lI(lK){return lK<10?"0"+lK:lK;}function lD(){var lL=mtjQuery("#walkme-console-box");if(lL.length===0){var lM=ff();lL=mtjQuery('<div id="walkme-console-box"></div>');var lN=mtjQuery('<div style="display: none;">Walkme Console: [ </div>');var lP=mtjQuery('<button type="button" title="Toggle the walkme debug console">Walkme Console</button>');var lO=mtjQuery('<ul id="walkme-console-messages"></ul>');var lK=mtjQuery('<a href="#">clear</a>');lN.append(lK);lN.append(" ]");lN.append(lO);lL.append(lN);lL.append(lP);lM.append(lL);lP.click(function(){lN.slideToggle("fast",function(){var lQ=mtjQuery(this).is(":visible")?"Close Console":"Walkme Console";lP.text(lQ);});});lK.click(function(){lO.empty();});lN.css({margin:"15px 60px 5px 15px",padding:"5px",border:"1px solid red","background-color":"#FFC",color:"#000"});lP.css({border:"1px solid red","background-color":"#FFFFCC","margin-left":"15px",width:"120px"});lL.css({position:"fixed","z-index":hW,"font-family":"Arial",bottom:"10px",left:"10px",width:"100%","text-align":"left"});lO.css({"background-color":"white",border:"1px solid black",height:"260px","list-style-type":"none",padding:"0","overflow-y":"auto",margin:"5px 0 0"});}return lL;}lr.getAPI=function lC(){return lp;};function lE(){var lM=this;var lO=1;var lL;var lK;function lN(l0){lK=l0;lL=jb(lK.getCookie(lw));}lM.enable=function lR(l0){lS();lL.l=l0||lO;lW();return lM;};lM.disable=function lQ(){if(lL){lL.l=0;lW();}return lM;};lM.reset=function lV(){lL={l:lO};lW();return lM;};lM.level=function lT(l0){if(l0===undefined){return lP("l",null);}lS();lL.l=l0;lW();return lM;};lM.track=function lY(l0){if(l0===undefined){return lP("f",[]);}lS();var l1=lU(l0);delete lL.u;lL.f=lL.f?bS(l1,lL.f):l1;lW();return lM;};lM.untrack=function lZ(l0){if(l0===undefined){return lP("u",[]);}lS();var l1=lU(l0);delete lL.f;lL.u=lL.u?bS(l1,lL.u):l1;lW();return lM;};lM.timer=function lX(l0){lS();if(l0){lL.m=1;}else{if(lL.m){delete lL.m;}}lW();return lM;};function lS(){if(!lL){lL={};}}function lP(l1,l0){return(lL)?lL[l1]:l0;}function lU(l0){if(!gc(l0)){return[];}if(typeof l0=="string"){l0=l0.replace(/\s/g,"");return l0.split(",");}else{if(l0.length>0){return l0;}}}function lW(){lK.setCookie(lw,kL(lL),lx);}lN.apply(null,arguments);}lu.apply(null,arguments);}function h2(){var lq=this;lq.LocalSVNRevision="$Rev: 3722 $";var lo=null,lp;function lu(lX){lo=lX;lp=wmjQuery.expr.filters.mt_hidden;}function lB(lX){return(lX.parentWindow||lX.defaultView);}function lK(lZ,lX){var lY=lZ.ownerDocument;if(lY.defaultView&&lY.defaultView.getComputedStyle&&lY.defaultView.getComputedStyle(lZ,null)){return lY.defaultView.getComputedStyle(lZ,null)[lX];}else{if(typeof(lY.all)!="undefined"&&lZ.currentStyle){return lZ.currentStyle[lX];}else{if(lZ.style){return lZ.style[lX];}else{return 0;}}}}function lT(lZ){var l3=0,l2=0;var lY=mtjQuery(lZ).offset();l3=lY.top;l2=lY.left;if(lZ.ownerDocument){var lX=lL(lZ.ownerDocument.body);var l0=lL(lZ.ownerDocument.documentElement);l3-=(lX.top==l0.top)?lX.top:(lX.top+l0.top);l2-=(lX.left==l0.left)?lX.left:(lX.left+l0.left);}var l1={left:l2,top:l3};return l1;}function lL(lX){if(!lX||lK(lX,"position")=="absolute"){return{top:0,left:0};}return{top:lX.scrollTop||0,left:lX.scrollLeft||0};}function lv(lX){var l0=0,lZ=0;do{if(eo(lX)=="FRAME"){l0+=mtjQuery(lX).offset().top;lZ+=mtjQuery(lX).offset().left;}else{l0+=lX.offsetTop||0;lZ+=lX.offsetLeft||0;}lX=lX.offsetParent;}while(lX);var lY={left:lZ,top:l0};return lY;}this.getPosRelativeToWindow=function lH(lZ,l5,lX){var l0=0,l4=0,l2,lY,l6,l1;l5=l5||top;if(lX&&!window.opera&&lZ&&lZ.tagName&&lZ.tagName.toLowerCase()=="input"){l0+=lZ.scrollLeft;l4+=lZ.scrollTop;}while(lZ){lY=lZ.ownerDocument;l6=lB(lY);if(lX&&l6==l5){l0+=(lY.documentElement.scrollLeft||lY.body.scrollLeft);l4+=(lY.documentElement.scrollTop||lY.body.scrollTop);}l1=(!l6||l6==l5);if(lX){l2=lT(lZ);}else{l2=lv(lZ);}l0+=l2.left;l4+=l2.top;if(l1){break;}lZ=l6.frameElement;}var l3={left:l0,top:l4};return l3;};function lI(lX,lY){var lZ={};if((lX.left>lY.right)||(lY.left>lX.right)){return null;}if((lX.bottom<lY.top)||(lY.bottom<lX.top)){return null;}lZ.left=Math.max(lX.left,lY.left);lZ.right=Math.min(lX.right,lY.right);lZ.top=Math.max(lX.top,lY.top);lZ.bottom=Math.min(lX.bottom,lY.bottom);lZ.height=lZ.bottom-lZ.top;lZ.width=lZ.right-lZ.left;return lZ;}function ly(lX,lY){var lZ=lY.left;var l0=lY.top;lX.left+=lZ;lX.right+=lZ;lX.top+=l0;lX.bottom+=l0;}function ls(lY,lX){lX.left+=lY.left;lX.top+=lY.top;if(lX.left<0){lX.left=0;}if(lX.top<0){lX.top=0;}}function lz(lY,lX){var lZ=eY(lX);lY.left+=lZ.Left;lY.right+=lZ.Left;lY.top+=lZ.Top;lY.bottom+=lZ.Top;}this.getRectRelativeToWindow=function lJ(lZ,l3){var lY,l4,l1=false,l2=lZ.getBoundingClientRect();var l0={left:0,top:0};l3=l3||top;while(!l1){lY=lZ.ownerDocument;l4=lB(lY);var lX=lY.documentElement.getBoundingClientRect();l2=lI(l2,lX);if(!l2){return l2;}l1=(!l4||l4==l3);if(!l1){l0=l4.frameElement.getBoundingClientRect();ly(l2,l0);lZ=l4.frameElement;}}lz(l2,lY);return l2;};function lE(lX){var lY=es(lX);lY.height=lY.height();lY.width=lY.width();lY.top=lY.top();lY.left=lY.left();return lY;}this.getDrawingArea=function lC(lY,lZ){var lX=new Object();if(gh(lY)){lX=lE(lZ?mtjQuery("body"):lY);}else{var l0=mtjQuery(document);lX.top=0;lX.left=0;lX.height=l0.height();lX.width=l0.width();}return lX;};this.isElementScrolledOut=function lQ(lY,l3,lX){var l4=ex(l3);var l1=lY.offset().top;var l0=lY.offset().left;var lZ=lY.outerHeight();var l2=lY.outerWidth();var l5=parseInt(lX);if(l5==h1.Bottom){l1+=lZ;}if(l5==h1.Right){l0+=l2;}if((l4.scrollTop()>l1)||(l3.height()+l4.scrollTop()<l1)){return true;}if((l4.scrollLeft()>l0)||(l3.width()+l4.scrollLeft()<l0)){return true;}return false;};lq.getCenterPositionByBounds=function lA(lX){var lY=lX.left+lX.width/2;var lZ=lX.top+lX.height/2;return{left:lY,top:lZ};};lq.getEmbedInElementPosition=function lF(lZ,l1){var l0={};var lX=parseInt(e0(l1,"leftOffset",0));var lY=parseInt(e0(l1,"topOffset",0));lW(lZ,l0,{top:lY,left:lX});return l0;};this.getElementBounds=function lD(lZ,l1,l6,l5){var l0={};var lY=lZ[0];if(l1){var l2=lY.getBoundingClientRect();var lX=ek(lZ);var l3=eM(lY,lX,l6);l0=ej(l2,l3);}else{var l4=lq.getPosRelativeToWindow(lY,l6,true);lW(lZ,l0,l4);}l0=aF(l0,l5);return l0;};function lW(lX,lY,lZ){lY.top=lZ.top;lY.left=lZ.left;lY.height=lX.outerHeight();lY.width=lX.outerWidth();lY.bottom=lY.top+lY.height;lY.right=lY.left+lY.width;}this.isElementVisible=function lR(lY){var lZ=true;try{lY[0].tagName;}catch(lX){lZ=false;co("elementDisplayTimeoutFunction: element destroyed. Garbage collecting",5);cV();}if(lZ){if(!mtjQuery(lY).is(":mt_visible")){lZ=false;}}return lZ;};lq.registerResizeAndScrollEvents=function lU(l0){var lX=l0.element;var lZ=l0.offset;var lY=l0.eventNameSuffix;var l1=lo.shouldHandlePageAsFramesets()?lo.getBiggestFrame().contentWindow:window;lr(l1,lX,lZ,lY);};lq.getWindowSize=function lM(){var lY=wmjQuery(lo.shouldHandlePageAsFramesets()?lo.getBiggestFrame().contentWindow:window);var lX={height:lY.height(),width:lY.width()};return lX;};function lr(l1,lX,l0,lZ){lq.removeScrollAndResizeEvents(lZ);var lY=lG(lZ);mtjQuery(l1).bind(lY,function(){lX.stop(false,true);lo.centerElementInPage(lX,true,l0);});}lq.removeScrollAndResizeEvents=function lV(lZ){var l0=window;if(lo.shouldHandlePageAsFramesets()){var lX=lo.getBiggestFrame();if(lX!=null){l0=lX.contentWindow;}}var lY=lG(lZ);mtjQuery(l0).unbind(lY);};lq.centerElementInParent=function lt(lX,l0){var lZ=l0.outerHeight()/2-lX.outerHeight()/2;var lY=l0.outerWidth()/2-lX.outerWidth()/2;lX.css("top",lZ+"px");lX.css("left",lY+"px");};function lG(lX){lX=lX?lX:"walkme";return dD("scroll.{0}, resize.{1}",lX);}lq.extendMtHidden=function lw(){wmjQuery.expr.filters.mt_hidden=lp;if(gl("strongMtVisible")){lx(function(lX){return !lP(lX);});}if(gl("nonVisibleIframe")){lx(function(lX){var lY=lX.data("iframe");return !!(lY&&lY.is(":mt_hidden"));});}if(gl("visibleOpacity")){lx(lS);}};function lS(lX){if(lN(lX)){return true;}var lY=false;lX.parents().each(function(){if(lN(wmjQuery(this))){lY=true;return false;}});return lY;}function lN(lX){if(lX.css("opacity")==0){return true;}var lY=lX[0].filters;return(lY&&lY.alpha&&lY.alpha.opacity===0);}function lx(lY){var lX=wmjQuery.expr.filters.mt_hidden;wmjQuery.expr.filters.mt_hidden=function(lZ){return lX(lZ)||lY(wmjQuery(lZ));};}function lP(lX){var lY=lX.parents().add(lX);for(var lZ=lY.length-1;lZ>0;lZ--){if(lO(wmjQuery(lY[lZ]),wmjQuery(lY[lZ-1]))){return false;}}return true;}function lO(lX,ma){var mf=ma.css("overflow");if(mf!="hidden"){return false;}var mb=em(ma,"border-top");var mg=em(ma,"padding-top");var mi=ma.offset().top;var mj=mb+mg+mi;var md=ma.height();var mc=mj+md;var me=ma.offset().left;var mh=me+ma.width();var lY=em(lX,"border-top");var l2=em(lX,"padding-top");var l4=lX.offset().top;var l5=lY+l2+l4;var l0=lX.height();var lZ=l5+l0;var l1=lX.offset().left;var l3=l1+lX.width();var l9=(lZ<=mj);var l6=(l5>=mc);var l8=(l3<=me);var l7=(l1>=mh);return(l9||l6||l8||l7);}lu.apply(null,arguments);}function b6(){this.LocalSVNRevision="$Rev: 3499 $";var lo=this;function lp(){}this.setCookie=function(lA,lB,ly,lu){try{if(typeof(lB)!="string"){lB=lB.toString();}if(lB.indexOf(";")>-1){lB.replace(";","");}lB=lr(lB);var lv="";if(lu&&lu.length>0){lv="; domain="+lu;}var lz="";if(ly!=0){var lx=new Date();lx.setTime(lx.getTime()+ly*1000);lz="; expires="+lx.toUTCString();}var lt=lB+lz+"; path=/"+lv;document.cookie=lA+"="+lt;}catch(lw){_makeTutorial.Logger.error(lw);}};this.getCookie=function(lw){var lv,lx,ly,lt=document.cookie.split(";");for(lv=0;lv<lt.length;lv++){lx=lt[lv].substr(0,lt[lv].indexOf("="));ly=lt[lv].substr(lt[lv].indexOf("=")+1);lx=lx.replace(/^\s+|\s+$/g,"");if(lx==lw){var lu=lq(ly);return lu;}}return false;};this.getCurrentDomain=function ls(){var lt=lo.getCookie(cO);if(lt){return lt;}var lu=window.location.hostname;var lx="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if((new RegExp(lx)).test(lu)){lo.setCookie(cO,lu,cA,lu);return lu;}if(lu.indexOf(".")==-1){return null;}var ly=lu.split(".");var lz="";for(var lw=ly.length-1;lw>=0;lw--){if(lz!=""){lz="."+lz;}lz=ly[lw]+lz;lo.setCookie(cO,lz,cA,lz);if(lo.getCookie(cO)==lz){return lz;}}lo.setCookie("wm-test","wm-test",cA);var lA=lo.getCookie("wm-test");if(lA!="wm-test"){try{console.log("WalkMe requires the browser to accept cookies - please enable cookies in your browser.");}catch(lv){}}else{_makeTutorial.Logger.error(new Error("Cannot get domain from: "+lu));}return undefined;};function lr(lt){return lt.replace(/,/g,"%2C");}function lq(lt){return lt.replace(/%2C/g,",");}lp.apply(null,arguments);}function b7(){this.LocalSVNRevision="$Rev: 3580 $";var lo=this;var lq="#!@DeL@!#";function lp(){lo.cookiesManager=b5;}this.saveData=function(lt,lu,ls){if(lo.currentDomain==undefined){lo.currentDomain=lo.cookiesManager.getCurrentDomain();}lo.cookiesManager.setCookie(lt,lu,ls,lo.currentDomain);};this.getData=function(ls){var lt=lo.cookiesManager.getCookie(ls);if(lt===lq||lt===false){return undefined;}return lt;};this.removeData=function(lt){var ls=lo.getData(lt);if(ls!==undefined){lo.saveData(lt,lq,-1);}};this.getAll=function lr(){var ls=document.cookie.split(";");var lv={};for(var lt=0;lt<ls.length;lt++){if(ls[lt].trim().toLowerCase().indexOf("wm-")===0){var lu=ls[lt].split("=")[0].trim();if(lu!==cO){lv[lu]=this.getData(lu);}}}return lv;};lp.apply(null,arguments);}function jm(){this.LocalSVNRevision="$Rev: 3580 $";var lo=this,lp="wm-SELS-",lq;function lr(){lq=new b7();}this.saveData=function(lu,lw,lt,lv){lq.saveData(lp+lu,lw,lt,lv);};this.getData=function(lt,lu){return lq.getData(lp+lt,lu);};this.removeData=function(lt,lu){lq.removeData(lp+lt,lu);};this.getAll=function ls(lw){var lt=lq.getAll(lw);var lu={};var lv=lp.length;wmjQuery.safeEach(lt,function(lx,ly){if(lx.indexOf(lp)>-1){lx=lx.substr(lv);lu[lx]=lo.getData(lx);}});return lu;};lr.apply(null,arguments);}function la(){this.LocalSVNRevision="$Rev: 3580 $";var lu=new jm();var lp=this,lo=window.localStorage,lv="walkMe_";function lq(){try{lw();}catch(lx){}}function lw(){if(!lp.isEnabled()){return;}var lA=jb(lo.getItem("wm-storage"));if(!lA){return;}var ly=lA.__jstorage_meta||{};var lC=ly.TTL||{};for(var lx in lA){if(lA.hasOwnProperty(lx)){var lD=lA[lx];var lB=lC[lx];var lz=lr();if(lB>lz){lp.saveData(lx,lD,(lB-lz)/1000);}}}lo.removeItem("wm-storage");}this.saveData=function(ly,lA,lx){lx=cE(lx,0);lp.removeData(ly);if(lx==0){lu.saveData(ly,lA,lx);}else{var lz={val:lA,exp:lt(lx*1000)};lo.setItem(lv+ly,kL(lz));}};this.getData=function(ly){var lA=lu.getData(ly);if(lA===undefined){var lx=lo.getItem(lv+ly);if(lx){var lz=jb(lx);if(lz.exp<lr()){lp.removeData(ly);}else{return lz.val;}}}return lA;};this.removeData=function(lx){lu.removeData(lx);lo.removeItem(lv+lx);};this.getAll=function ls(){function lx(lD,lF,lE){lD=lD.substr(lE);if(lD.toLowerCase().indexOf("wm-")>-1){lF[lD]=lp.getData(lD);}}var ly=lu.getAll();var lC=ly;var lB=lv.length;for(var lz=0;lz<lo.length;lz++){var lA=lo.key(lz);lx(lA,lC,lB);}return lC;};this.isEnabled=function(){return !!lo;};this.refreshGetData=function(ly,lx){if(lx){lx();}};function lt(lx){return lr()+lx;}function lr(){return new Date().getTime();}lq.apply(null,arguments);}function kr(){this.LocalSVNRevision="$Rev: 3674 $";var lv=this,lp,lu,lr,lt,lq,ls,lo;function ly(lD){lp=lD.getAllUserGuids;lr=lD.isFeatureEnabled;lt=lD.setAuditStepCookieSeconds;}lv.byType=function lx(lG){var lH=false;var lD=false;var lE=false;var lF;switch(lG){case kn.JStorage:lH=true;break;case kn.CrossDomainLocalStorage:lF=cd.LocalStorage;case kn.CrossDomain:lD=true;break;case kn.HiddenIframe:lE=true;break;case kn.Cookie:break;default:}return lC(lH,lD,lE,lF);};lv.byFeature=function lw(){var lG=lr("jstorage"),lD=lr("crossdomain"),lE=lr("hiddeniframestorage"),lF=lr("cd_localStorage")?cd.LocalStorage:null;return lC(lG,lD,lE,lF);};function lC(lJ,lF,lG,lH){var lI;var lD=lp();var lE=lD[0];if(lF||lG){lI=lA(lD,lF,lE,lH);}else{if(lJ){lI=lB(lE);}else{lI=lz(lE);}}return lI;}function lA(lH,lF,lD,lG){if(!lq){lt(60*60*24);var lE=new fN(lH,lF,lG);lq=new kq(lE,lD);}ls=lo=null;return lq;}function lz(lE){if(!lo){var lD=new b7();lo=new kq(lD,lE);}lq=ls=null;return lo;}function lB(lD){if(!ls){var lE=new la();if(!lE.isEnabled()){return false;}ls=new kq(lE,lD);}lq=lo=null;return ls;}ly.apply(null,arguments);}function jI(){this.LocalSVNRevision="$Rev: 3563 $";var lo=this,lv;function lp(lw){lv=lu()||window.wmPreviewSnippet||window.wmSnippet;}function lu(){if(window.wmPlaySnippetData){var lx=JSON.parse(window.wmPlaySnippetData);window.wmPlaySnippet={getSettingsFile:function lw(){return lx;}};return window.wmPlaySnippet;}return null;}lo.getSettingsFile=function ls(){return lv?lv.getSettingsFile()||{}:{};};lo.getCdnServerName=function lr(){return lo.getSettingsFile().CdnServerName||window.mt_cdn_server_name;};lo.getStorageType=function lt(){return lo.getSettingsFile().Storage;};lo.getAllUserGuids=function lq(){return lo.getSettingsFile().UserGuids;};lp.apply(null,arguments);}function ko(){this.LocalSVNRevision="$Rev: 3906 $";var lw=4096;var lA="wm-dt";var lx="wm-ne";var lr=this;var lo;var lq;var lp;function lt(lD,lB,lC){lq=lD;lo=lB;lp=lC;}lr.saveData=function lz(lD){lr.removeData();var lE=kL(lD);var lF=ls(lE,lw);for(var lC=0;lC<lF.length;lC++){var lB=lF[lC];lq.saveToStorage(lA+lC,lB,lo);}lq.saveToStorage(lx,lF.length,lo);};function ls(lH,lD){var lF=[];var lE=Math.ceil(lH.length/lD);for(var lC=0;lC<lE;lC++){var lG=lD>lH.length?lH.length:lD;var lB=lH.slice(0,lG);lH=lH.substring(lG);lF.push(lB);}return lF;}lr.getData=function lu(){var lE=lv();var lB;if(lE!=undefined){lB="";for(var lD=0;lD<lE;lD++){lB+=lq.getFromStorage(lA+lD);}}var lF;if(lB){try{lF=jb(lB);lF=lF?lF:undefined;}catch(lC){lp(lC,"Storage data is malformed, discarding it.");lr.removeData();}}return lF;};lr.removeData=function ly(){var lC=lv();if(lC!=undefined){for(var lB=0;lB<lC;lB++){lq.removeFromStorage(lA+lB);}}lq.removeFromStorage(lx);};function lv(){return lq.getFromStorage(lx);}lt.apply(null,arguments);}function cr(){this.LocalSVNRevision="$Rev: 3304 $";var lp=this;var lo;function lq(ly){lo=ly;}lp.minifyData=function lv(lB){if(!lB||lB.length==0){lo.removeData();return;}var lC=bJ(lB);var lA=lx(lC);var lz=lw(lC);var ly={d:lC,vm:lA,km:lz};lo.saveData(ly);};function lx(lG){var lD={};var ly=1;function lE(lI,lL,lK){if(!lK[lI]){lK[lI]={};}var lJ=lK[lI];var lH=lL[lI];if(!lJ[lH]){lJ[lH]=ly;ly++;}lL[lI]=lJ[lH];return lJ;}for(var lB=0;lB<lG.length;lB++){var lA=lG[lB];var lF=ef(lA);for(var lC=0;lC<lF.length;lC++){var lz=lF[lC];lE(lz,lA,lD);}}return lD;}function lw(lC){var lz={};var lA=1;function lB(lH,lG){var lF=ef(lH);for(var lD=0;lD<lF.length;lD++){var lE=lF[lD];if(!lG[lE]){lG[lE]=lA;lA++;}lH[lG[lE]]=lH[lE];delete lH[lE];}}for(var ly=lC.length-1;ly>=0;ly--){lB(lC[ly],lz);}return lz;}lp.deminifyData=function lr(){var lz=lo.getData();if(!lz){return;}var lA=lz.d;var ly=lz.km;var lB=lz.vm;ls(lA,ly);lu(lA,lB);return lA;};function ls(lE,lB){lB=iV(lB);for(var lz=0;lz<lE.length;lz++){var ly=lE[lz];var lD=ef(ly);for(var lA=0;lA<lD.length;lA++){var lC=lD[lA];var lF=lB[lC];ly[lF]=ly[lC];delete ly[lC];}}return lE;}function lu(lz,lA){for(var ly in lA){if(lA.hasOwnProperty(ly)){lt(lz,ly,lA[ly]);}}return lz;}function lt(lB,lz,lC){lC=iV(lC);for(var lA=lB.length-1;lA>=0;lA--){var ly=lB[lA];if(ly[lz]){ly[lz]=lC[ly[lz]];}}}lq.apply(null,arguments);}function kT(){this.LocalSVNRevision="$Rev: 3906 $";var lH=this;var lC,lE,lr,lt,lp,lo,lG,lB,lz,lv,lu,lq,lA,lD,ly,lx,ls,lw,lF;var lP="wm-nx";function lK(lX){lC=lX.serverDataSenderManager;lo=lX.actionUrl;lp=lX.beforeSendingManipulationFunc;lG=lX.technicalSuccessHandler;lB=lX.sendingThreshold;lv=lX.dataType;lu=lX.dateSenderLogFeature;lA=lX.requestParamsFunc;ly=lX.logError;lq=_makeTutorial.Logger.wrapCustomerLog(lu);ls=lX.dataIdFieldName||"iN";lF=lX.defaultDataStorageLifeSeconds;lw=new dv(lX.stateManager,lX.twoLettersDataType);lE=new ko(lw,lF,ly);lt=new cr(lE);lU();}function lO(){var lY=lw.getFromStorage(lP,0);var lX=lY;lY++;lw.saveToStorage(lP,lY);return lX;}lH.sendData=function lS(lX){if(lD){lq("Not accepting anymore data",3);return;}if(lC.isServerSick()){var lY=dD("TypedDataSender - Server is sick, ignoring new data of type {0} for now",lv);lq(lY,3);return;}if(lp){lp(lr,lX);}lX[ls]=lO();lr.push(lX);lt.minifyData(lr);lC.sendData();};lH.persistData=function lQ(){lt.minifyData(lr);if(!lr||lr.length==0){lw.removeFromStorage(lP);}};lH.data=function lL(){lU();return lr;};function lU(){lr=lt.deminifyData();lr=lr?lr:[];}lH.actionUrl=function lI(){return lo;};lH.sendingThreshold=function lT(){return lB;};lH.dataType=function lM(){return lv;};lH.truncateData=function lW(){lU();lr.splice(1,lr.length-1);lH.persistData();};lH.clearAndStopSavingData=function lJ(){lD=true;lr.length=0;lE.removeData();};lH.technicalSuccessHandler=function lV(){return lG;};lH.requestParamsFunc=function lR(){return lA;};lH.getDataIdFieldName=function lN(){return ls;};lK.apply(null,arguments);}function jl(){this.LocalSVNRevision="$Rev: 3906 $";var l0="wm-sk";var lA="wm-plogs";var lZ="wm-sat";var l1="wm-sst";var lB="wm-plcnt";var lO="wm-lstlog";var l7="wm-vmi";var l6="wm-vm";var lQ=2;var lC=3*1000;var lD=60*1000;var lx={1:hA,2:4*hA};var lw=this;var ls,lr,lo,lv,lt,lq,lp,lz;var lu={};function ly(l9){ls=l9.lib;lt=l9.recorderServerName;lq=l9.defaultDataStorageLifeSeconds;lp=l9.dateSenderLogFeature;lz=_makeTutorial.Logger.wrapCustomerLog(lp);}lw.register=function lR(ma,l9){var mb=new kT({beforeSendingManipulationFunc:l9.beforeSendingManipulationFunc,actionUrl:l9.actionUrl,technicalSuccessHandler:l9.technicalSuccessHandler,dataType:l9.dataType,twoLettersDataType:ma,serverDataSenderManager:lw,sendingThreshold:l9.sendingThreshold,stateManager:kp,dateSenderLogFeature:lp,requestParamsFunc:l9.requestParamsFunc,dataIdFieldName:l9.dataIdFieldName,defaultDataStorageLifeSeconds:l9.dataStorageLifetimeSeconds!=undefined?l9.dataStorageLifetimeSeconds:lq,logError:ls.Logger.error});lu[ma]=mb;return mb;};lw.start=function l4(l9){lw.sendData();};function lW(){var ma=lI();if(!ma){return;}var mb=ma.dataSender;var l9=ma.data;lz(dD("Got {0} {1}s to send, starting now",l9.length,mb.dataType()),3);lM(l9,mb);}lw.sendData=function lV(){var ma=lI();if(!ma){return;}var mc=ma.dataSender;var l9=ma.data;if(lw.isServerSick()){lz("Waiting for server's health in sendData",3);l8();return;}if(l9.length>=mc.sendingThreshold()){lz(dD("sendData - Got {0} {1}s to send, starting now",l9.length,mc.dataType()),3);if(lv!=null){lv.clear();lv=null;}lM(l9,mc);}else{if(lv==null){var mb=dD("Got {0} {1}s to send, waiting {2}",l9.length,mc.dataType(),lC);lz(mb,3);lv=gV(function(){var me=lI();if(!me){return;}var mf=me.dataSender;var md=me.data;lM(md,mf);},lC);}else{lz("sendData - timeout already exists",5);}}};function lI(){if(lr){lz("There's already a pending request to server",3);return;}var l9=lK();if(!l9){lz("serverDataSenderManager - no data to send",3);return;}return l9;}function lK(){var mb=lF();for(var mc=mb.length-1;mc>=0;mc--){var l9=mb[mc];var ma=l9.data();if(ma.length>0){return{dataSender:l9,data:ma};}}}function lF(){return cM(lu);}lw.isServerSick=function lN(){return kp.getData(l0);};function l8(){if(lo){lz("Already waiting for server's health",5);return;}lo=true;var ma=kp.getData(lZ);ma=ma?++ma:1;if(ma>lQ){var l9=dD("Server wasn't healthy for more than {0} attempts, restarting sick mode",ma);lz(l9,0);kp.removeData(l1);kp.removeData(lZ);lo=false;l8();}else{var mc=lJ(ma);var mb=dD("Sick attempts: {0}, time before next retry: {1} second(s)",ma,mc/1000);lz(mb,3);gV(function(){kp.removeData(l1);kp.saveData(lZ,ma,hz);lo=false;lW();},mc);}}function lJ(l9){var mb=kp.getData(l1);if(!mb){var mc=lH(l9);mb=(new Date().getTime())+mc;kp.saveData(l1,mb,hz);}var ma=mb-(new Date().getTime());return ma;}function lH(l9){return lx[l9];}function lP(){kp.removeData(l0);kp.removeData(lZ);kp.removeData(l1);lo=false;}function lM(l9,ma){if(lt.length==0){lz(dD("RecorderServerName is {0}, can't send data of type {1}",lt,ma.dataType()),2);return;}if(l9.length==0){lz("dataArray's length is 0, no data to send",3);return;}lv=null;lr=true;var me=ma.sendingThreshold();var mf=bJ(l9);if(mf.length>me){mf=mf.splice(0,me);}var mb=ma.requestParamsFunc()(mf);var md=aw.execute({url:lt+ma.actionUrl(),dataType:"jsonp",data:mb,timeout:lD});if(gl("bypassAuditServer")){lX(mf,md,ma);}else{lY(mf,md,ma);}var mc=dD("Sent {0} data of type {1} to server at {2}",mf.length,ma.dataType(),new Date().toString());lz(mc,3);}function lG(me,mb){var md=0;for(var mc=me.length-1;mc>=0;mc--){var l9=me[mc];var ma=l9[mb];if(ma&&(ma>md)){md=ma;}}return md;}function lX(mb,ma,l9){ma.error(function(md,mf,mc){if((md.status==200)&&(mf=="parsererror")){lE(mb,l9);}else{var me=dD("Server technical (AJAX) error (2) jqXHR:{0}, textStatus:{1}, errorThrown:{2}",kL(md),mf,mc);lz(me,3);l3(md,mf,mc);}});ma.success(function(mc){var md="Got success while in bypass player server mode";lz(md,3);_makeTutorial.Logger.error(null,md);});}function lY(ma,mb,l9){mb.success(function(mc){lz("Sending data ajax success",3);lL(mc,ma,l9);});mb.error(function(md,me,mc){if((md.status==200)&&(me=="parsererror")){l2(ma,l9);}else{l3(md,me,mc);}});}function lL(mb,ma,l9){l9.technicalSuccessHandler()(mb,function(){l2(ma,l9);},l3,function(){lE(ma,l9);});}function lE(ma,l9){lz("The technical success was also logical success",3);lU(ma,l9);lP();lr=false;lW();}function lU(ma,l9){lT(ma,l9);}function lT(md,mc){var mb=mc.getDataIdFieldName();var mf=lG(md,mb);var ma=mc.data();for(var me=ma.length-1;me>=0;me--){var l9=ma[me];if(l9[mb]<=mf){ma.splice(me,1);}}mc.persistData();}lw.removeAllData=function lS(){var l9=lF();for(var ma=l9.length-1;ma>=0;ma--){l9[ma].clearAndStopSavingData();}};function l2(ma,l9){lz(dD("Logical error happened, discarding {0} {1}",ma.length,l9.dataType()),3);lT(ma,l9);lP();lr=false;lW();}function l3(ma,mb,l9){kp.saveData(l0,1,hz);lz("Truncating data due to sick server",3);l5();lr=false;l8();}function l5(){var l9=lF();for(var ma=l9.length-1;ma>=0;ma--){l9[ma].truncateData();}}ly.apply(null,arguments);}function fD(){this.LocalSVNRevision="$Rev: 3712 $";var lK=500;var lG=5000;var lC="Conditions";var ls=this;var lp=null;var lq=null;var lo=null;var lr=null;var lF=_makeTutorial.Logger.wrapCustomerLog(ha);var lM={};var lL={};var lI="wm-gb",lJ=60*60*24;function lE(lR){lr=lR.lib;lq=lR.condTreeEvaluator;var lQ=lR.checkInterval;if(lQ==undefined){lQ=lG;}lo=lQ;}function lt(lR,lT,lQ,lS,lU){lL[lR]={relatedObjectId:lU,identifier:lT,goalType:lS,goalCompletedFunc:lQ};}function lv(lQ,lS,lR){if(lQ.IsLinkedGoal&&lM[lQ.Id]){var lT=dD("Skipping goal watch - Goal is already watched : {0}, type: {1}",lQ.Name,lQ.GoalType);lF(lT,3);return;}lM[lQ.Id]=lQ;lt(lQ.Id,lS,lR,lQ.GoalType,lQ.RelatedObjectId);var lU=lS?dD(", PlayGuid of : {0}",lS):"";var lT=dD("Start watching Goal : {0}, type: {1} {2}",lQ.Name,lQ.GoalType,lU);lF(lT,3);}this.addGoalsWatch=function lu(lR,lT,lQ){for(var lS=0;lS<lR.length;lS++){lv(lR[lS],lT,lQ);}lP(true);};this.cleanResources=function lz(){for(var lR in lM){var lQ=lM[lR];if(lQ.conditionResultObject){lQ.conditionResultObject.cleanResources();}}};this.removeGoalWatch=function lO(lQ){delete lM[lQ];delete lL[lQ];};this.removeAllGoalsWatch=function lN(){ls.cleanResources();lM={};lL={};};function lx(){var lQ=0;lF("Checking if any goals were reached...",2);if(lp!=null){lp.clear();lp=null;}var lY=new Date().getTime();for(var lT in lM){var lR=lM[lT];if(lR&&lR.RelatedObjectId!=undefined){var lU=new Date().getTime();jd("CheckingGoal",{GoalId:lR.Id,GoalName:lR.Name});var lW=dD("Checking Goal : {0}, id : {1}, type: {2}, RelatedObjectId: {3}",lR.Name,lR.Id,lR.GoalType,lR.RelatedObjectId);lF(lW,3);ls.checkGoal(lR);lQ++;var lS=new Date().getTime();var lV=lS-lU;lW=dD("Checking Goal : {0}, id : {1}, took {2} ms",lR.Name,lR.Id,lV);lF(lW,4);var lZ=lS-lY;if(lZ>lK){lF("Goals tracking time until now is "+lZ+" ms. It broke the time limit of "+lK+" ms. Stopped tracking current goals.");if(!kp.getData(lI)){lW=dD("Goals tracking broke limit and was stopped - user id: {0}, end user id: {1}, time: {2}, browser: {3}, url: {4}",au,_makeTutorial.getEndUserId(),lZ,dZ(),window.location.href);_makeTutorial.Logger.error({},lW);kp.saveData(lI,true,lJ);}ls.removeAllGoalsWatch();break;}}}var lX=new Date().getTime();var lZ=lX-lY;lF("Done checking "+lQ+" Goals. took: "+lZ+" ms",2);lP();}this.checkGoal=function ly(lQ,lR){if(lR){lt(lQ.Id,undefined,lR,lQ.GoalType,lQ.RelatedObjectId);}if(lQ.conditionResultObject===undefined){lQ.conditionResultObject=lq.evaluateAsync(lQ.Settings[lC]);}if(lQ.conditionResultObject.hasValue()&&lQ.conditionResultObject.getValue()){lQ.conditionResultObject.cleanResources();delete lQ.conditionResultObject;lA(lQ);}je("GoalConditionEvaluated",lQ);};this.completeGoalById=function lB(lR){var lQ=lM[lR];if(!lQ){lF("Could not complete goal with id "+lR+" - it was already completed or does not exist.",3);return;}lA(lQ);};function lA(lR){lF('Goal "'+lR.Name+'" Reached! ',1);try{lw(lR);}catch(lQ){lr.Logger.error(false,lQ);}ls.removeGoalWatch(lR.Id);je("GoalCompleted",lR);jc("GoalCompleted",{GoalId:lR.Id,GoalName:lR.Name});jd("GoalCompleted",{GoalId:lR.Id,GoalName:lR.Name});}function lw(lR){var lS=lR.Id;var lQ=lL[lS];if(lQ.goalCompletedFunc){var lT=ls.createGoalCompletedParams(lR,lQ.identifier,lQ.goalType,lQ.relatedObjectId);lQ.goalCompletedFunc(lT);}}ls.createGoalCompletedParams=function lD(lQ,lR,lU,lT){var lS={Id:lQ.Id,GoalType:lU,RelatedObjectId:lT,Name:lQ.Name,identifier:lR};return lS;};function lH(lS){var lQ=0;for(var lR in lS){if(lM[lR]!=undefined&&lM[lR].Id!=undefined&&lM[lR].Settings!=undefined){lQ++;}}return lQ;}function lP(lQ){if(lp==null){if(lo>0&&lH(lM)>0){var lR=lQ?0:lo;lp=gV(lx,lR);}}}lE.apply(null,arguments);}function k7(){this.LocalSVNRevision="$Rev: 3729 $";var lT=10*1000;var lZ=60*60;var l1="wm-wtchd";var l0="tID";var l3="plgd";var l2="fnsh";var lv=null;var lo=null;var lw=null;var lt=null;var ls=null;var lr=null;var lx=false;var lu=[];var lC;var lq,lp;function lB(l4){lw=l4.lib;lo=l4.dataManager;lv=l4.goalsManager;lt=l4.getPermutationId;ls=l4.getEndUserGuid;lr=l4.getAuditSource;lq=l4.dataSenderMananger;lC=_makeTutorial.Logger.wrapCustomerLog(ha);lp=lq.register("go",{actionUrl:"/Statistics/AddCompletedGoal",technicalSuccessHandler:lY,defaultDataStorageLifeSeconds:lZ,prefixForStorage:"go",sendingThreshold:1,dataType:"deployable goal",requestParamsFunc:function(l6){var l5=l6[0];var l7=l5.GoalType==cF.AbExperiment;return{goalId:l5.Id,playGuid:l5.identifier,permutationId:lt(),endUserGuid:ls(),source:lr(),localTime:eG(),url:ez(),isAbTesting:l7};}});}var ly=this;this.onGoalCompleted=function lO(l4){lu.push(l4);};this.enableMultiUserStorage=function lD(){lx=true;};this.startWatchingDeployable=function lV(l4,l9){var l7=lI(l4);if(l7.length>0){var l5=l7[0].GoalType;lz(l4,l5,l9);lv.addGoalsWatch(l7,l9,lM);var l6=ed(l5);var l8=dD("Started watching {0} : {1}",l6,l4.Name);lC(l8,2);}};this.stopWatchingDeployables=function lW(l4){lQ(l4);};this.init=function lN(){var l4=0;mtjQuery.each(cF,function(l6,l7){var l9=ly.getWatchedDeployablesOfType(l7);for(var l5 in l9){if(l9[l5]!=undefined&&l9[l5][l0]!=undefined){var l8=l9[l5];lR(l8,l7);l4++;}}});lC("Restoring watched Goals... "+l4+" Walk-Thrus are watched.",2);};function lY(l4,l6,l7,l5){if(l4=="true"){l5(parseInt(l4));}else{if(l4=="error"){lC("Completed goal - Internal Error",3);l7();}else{lC("Completed goal - Unknown Error",3);l6();}}}this.getCompletedGoals=function lE(l5,l4){if(l5==undefined||!l4){return;}var l9=ly.getWatchedDeployablesOfType(l5);if(!l9){return;}var l8=l9[l4];if(!l8){return;}var l7=l8[l3];var l6=l8[l2];return{playGuid:l7,finishedGoals:l6};};function lI(l4){var l5=l4.Goals;if(!l5){l5=[];}return l5.slice();}function lz(l4,l6,l5){var l7=lA(l4,l5);lo.addToDictionary(lL(l6),lG(l4),l7,lZ);}function lG(l4){return l4.Id?l4.Id:l4.TutorialId;}function lA(l4,l5){var l6=new Object();l6[l0]=lG(l4);l6[l3]=l5;l6[l2]=[];return l6;}this.getDeployableGoalsByIdAndType=function lF(l6,l7){var l5=lw.getDeployablesManager(l7);var l4=l5.getById(l6);if(l4){return lI(l4);}return[];};function lJ(l6){var l7=fk(l6);if(l7>-1){var l5=aq[l7];var l4=lI(l5);return l4;}}function lR(l9,l8){var l6=l9[l0];var l5=ly.getDeployableGoalsByIdAndType(l6,l8);if(l5.length>0){var l7=l9[l3];var l4=l9[l2];lP(l5,l4);lv.addGoalsWatch(l5,l7,lM);}}var lM=function lM(l4){var l6=ly.getWatchedDeployablesOfType(l4.GoalType);if(l6[l4.RelatedObjectId]){lU(l4);}else{var l5=dD("Goal wasn't found in dictionary - abnormal scenario (Name: {0}, Identifier: {1}, deployableType: {2})",l4.Name,l4.identifier,l4.GoalType);lw.Logger.error(undefined,l5);}};function lH(l5,l4){for(var l6=0;l6<l5.length;l6++){if(l5[l6].Id==l4){return l6;}}return -1;}function lU(l4,l5){if(f6()){return true;}lC("Sending completed Goal info to server ("+l4.Name+", "+l4.identifier+")",3);lp.sendData({Id:l4.Id,GoalType:l4.GoalType,identifier:l4.identifier});lX(l4);}function lX(l4){var l9=ly.getWatchedDeployablesOfType(l4.GoalType);var l5=l9[l4.RelatedObjectId];if(l5&&l4.identifier==l5[l3]){l5[l2].push(l4.Id);var l8=l5[l2].length;var l7=ly.getDeployableGoalsByIdAndType(l4.RelatedObjectId,l4.GoalType).length;if(l7==l8){delete l9[l4.RelatedObjectId];}lS(l4.GoalType,l9);}for(var l6=0;l6<lu.length;l6++){lu[l6](l4);}}ly.getWatchedDeployablesOfType=function lK(l5){var l4=lL(l5);var l6=lo.getData(l4,{});return l6;};function lS(l5,l6){var l4=lL(l5);lo.saveData(l4,l6,lZ);}function lQ(l5){var l4=lL(l5);lo.removeData(l4);}function lL(l6){var l5=dD("{0}-{1}",l1,l6);if(lx){var l4=ls();if(l4){l5+="-"+l4;}}return l5;}function lP(l6,l8){for(var l7=0;l7<l8.length;l7++){var l5=l8[l7];for(var l9=0;l9<l6.length;l9++){var l4=l6[l9].Id;if(l4==l5){l6.splice(l9,1);break;}}}}lB.apply(null,arguments);}var L={};function fQ(){var lp=this;lp.LocalSVNRevision="$Rev: 3686 $";var lo,lu;function lt(lD){lo=lD;lu=lo.Logger.wrapCustomerLog(hb);}this.highlight=function ly(lI,lJ,lF,lE,lG,lD){lD.initSettingsParams(lJ);try{lC(lI,lG,lD,lF);lq(lI,lF,lE,lG,lD);lD.changeHighlightDivsCss(lI,lG,lw(lG,lF,lD));}catch(lH){lo.Logger.error(lH);}};function lz(lF,lE,lD,lG){return !!(lw(lF,lE,lD)[lG]);}function lq(lH,lF,lE,lG,lD){lu("[highlighter] adding highlighter divs: drawableType - "+lG+", drawableId - "+lF,3);if(lx(lG,lF,lD)){lu("[highlighter] element already has highlighter",3);lB(lH,lG,lF,lD);}ls(lH,lF,lE,lG,lD);}function lx(lF,lE,lD){var lG=lw(lF,lE,lD);return lG.length>0;}function lB(lH,lG,lF,lD){var lE=lw(lG,lF,lD);for(var lI=0;lI<4;lI++){lA(lE[lI]);}lE.length=0;}function lA(lD){if(lD){try{lD.remove();}catch(lE){lu("[highlighter] error removing div",3);}}}function ls(lI,lG,lE,lH,lD){var lF=lw(lH,lG,lD);for(var lJ=0;lJ<4;lJ++){lF[lJ]=lr(lI,lJ,lG,lE,lH,lD);}}function lw(lF,lE,lD){var lI=lD.getName();if(!L[lI]){L[lI]={};}var lH=L[lI];if(!lH[lF]){lH[lF]={};}var lG=lH[lF];if(!lG[lE]){lG[lE]=[];}return lG[lE];}function lr(lM,lR,lK,lE,lL,lD){var lJ=lD.getDivName();var lH=lD.getDataDivId(lL,lR);var lP=lD.getInstanceName();var lI=lJ+"-"+lL+"-"+lR+"-"+lK;lM.data(lH,lI);for(var lQ=0;lQ<lE.length;lQ++){var lF=lE[lQ].classPropertyName;var lG="walkme-custom-"+lP+"-"+lE[lQ].idName+"-"+lE[lQ].id;lM.data(lF,lG);}if(!lz(lL,lK,lD,lR)){var lN=lD.createHlDivOnPage(lM,lI);lN.addClass("walkme-custom-"+lP+" walkme-to-remove");for(var lO=0;lO<lE.length;lO++){lN.addClass(lM.data(lE[lO].classPropertyName));}return lN;}}function lC(lG,lF,lD,lE){lG.data(lD.getName()+lF+"id",lE);}function lv(lF,lE,lD){var lG=lF.data(lD.getName()+lE+"id");return lG;}this.unhighlightElement=function(lG,lF,lD,lE){lE=lE||lv(lG,lF,lD);lB(lG,lF,lE,lD);};lt.apply(null,arguments);}function fP(){this.LocalSVNRevision="$Rev: 3686 $";var ls=this,lp,lt,lr={},lo=true,lq=[],lM="stepHlObj",lB="2147483630",lA="#55aaff";function lz(lO){lp=lO;k8.extend(ls,fQ,lp);}ls.getName=function(){return"hl";};this.shouldShow=function lL(lO,lQ){var lP=e0(ad.Settings,"hlType","none");return(e0(lQ,"hlType",lP)=="rect");};this.initSettingsParams=function lI(lO){lt=e0(lO,"z-index",lB);var lP=e0(lO,lM);if(lP){lw(lP,lr,["left","top","width","height","thickness"]);lr.color=lP.color;}else{lr.left=0;lr.top=0;lr.width=0;lr.height=0;lr.thickness=1;lr.color=lA;}};function lw(lP,lQ,lO){wmjQuery.each(lO,function(lR,lS){lQ[lS]=parseFloat(lP[lS]);});}this.highlight=function lG(lS,lU,lQ,lO,lR){ls._base.highlight(lS,lU,lQ,lO,lR,ls);var lT=new lH({element:lS,drawableType:lR});lu(lS,lR,lT);if(lo){var lP=ek(lS);mtjQuery(lP).unbind("mousemove",lJ);mtjQuery(lP).bind("mousemove",lJ);lq.push(lT);}};this.enableMonitor=function(lO){lo=lO;};this.getDivName=function lD(){return"highlightDiv";};this.getDataDivId=function lC(lO,lP){return lO+"-"+ls.getDivName()+"Id"+lP;};this.getInstanceName=function lF(){return"highlighter";};this.getElementDivContainer=function lE(lO){var lP=lO.parents("body");if(lP.length==0){lP=lO.parents("frameset").first();}if(gl("jsp")){lP=dp(lO,lP);}return lP;};this.changeHighlightDivsCss=function lv(lU,lT,lQ){var lS=lU[0];var lP=ls.getElementDivContainer(lU);var lX=lS.getBoundingClientRect();var lR=ek(lU);var lY=eM(lS,lR,window);var l0=lr.thickness;var l5=lX.left+lY.left+lr.left-(lr.width/2)-l0,l6=lX.top+lY.top+lr.top-(lr.height/2)-l0;var l3=l5,l4=l6;if(gl("jsp")&&lP.hasClass("jspPane")){l5-=lP.offset().left;l6-=lP.offset().top;}var l2=lX.right-lX.left+lr.width+l0,lV=lX.bottom-lX.top+lr.height+l0;var l1=lx(lQ,lT,0,l6,l5,l2+l0,l0,true),lZ=lx(lQ,lT,1,l6,l5+l2,l0,lV+l0,false),lO=lx(lQ,lT,2,l6+lV,l5,l2+l0,l0,true),lW=lx(lQ,lT,3,l6,l5,l0,lV+l0,false);lU.data(lT+"-divArray",[l1,lZ,lO,lW]);lU.data(lT+"-rect",{x:l3,y:l4,w:l2+l0,h:lV+l0});};function lx(lP,lQ,lU,lV,lT,lW,lR,lS){var lO=lP[lU];if(!lO){return;}jr(lO,lt);lO.css("top",lV+"px").css("left",lT+"px").css("width",lW+"px").css("height",lR+"px").css("background-color",lr.color);if(lS){lO.css("font-size",lr.thickness+"px");}return lO;}this.unhighlightElement=function(lR,lP,lO){try{var lT=cX(lR,lP+"-highlighterRectsArray");if(lT){for(var lS=0;lS<lT.length;lS++){var lU=lT[lS];this.removeRectObjectFromArray(lU);}}ls._base.unhighlightElement(lR,lP,ls,lO);}catch(lQ){}};function lu(lQ,lP,lR){var lO=lP+"-highlighterRectsArray";var lS=cX(lQ,lO);if(lS){lS.push(lR);}else{lS=[lR];}cY(lQ,lO,lS);}function lJ(lO){for(var lP=0;lP<lq.length;lP++){var lQ=lq[lP];lQ.monitor(lO.pageX,lO.pageY);}}function lN(lQ){try{var lO=ek(lQ);if(lO){mtjQuery(lO).unbind("mousemove",lJ);}}catch(lP){}}this.removeRectObjectFromArray=function lK(lQ){var lP=-1;for(var lO=0;lO<lq.length;lO++){if(lq[lO].getHash()==lQ.getHash()){lP=lO;break;}}if(lP>=0){lq.splice(lP,1);}if(lq.length==0){lN(lQ.getElement());}};this.createHlDivOnPage=function ly(lQ,lP){var lO=this.getElementDivContainer(lQ);var lR=mtjQuery(lO[0].ownerDocument.createElement("div"));lR[0].id=lP;lO.append(lR);return lR;};function lH(){var lR=this,lP,lQ,lS,lO;function lU(l1){lP=l1.element;lO=l1.drawableType;lQ=dJ();lS=true;}this.monitor=function lY(l4,l5){try{lP[0].tagName;}catch(l1){co("HighlighterRect.monitor: element destroyed. Garbage collecting",5);cV();return;}var ma=lP.data(lO+"-rect");var l3=2;var l9=ma.y-l3,l8=ma.x-l3,l6=ma.h+l3*2,l7=ma.w+l3*2;var l2=lT(l4,l8,l8+l7)&&lT(l5,l9,l9+l6);this.setVisibilty(!l2);};this.show=function l0(){lR.setVisibilty(true);};this.hide=function lX(){lR.setVisibilty(false);};this.setVisibilty=function lZ(l4){if(lS==l4){return;}var l1=l4?"block":"none";var l2=lP.data(lO+"-divArray");for(var l3=0;l3<l2.length;l3++){l2[l3].css("display",l1);}lS=l4;};function lT(l3,l2,l1){return(l2<=l3&&l3<=l1);}this.getHash=function lW(){return lQ;};this.getElement=function lV(){return lP;};lU.apply(null,arguments);}lz.apply(null,arguments);}function f0(){this.LocalSVNRevision="$Rev: 3686 $";var lq=this;var lo;var lF="stepIoObj";var lv="2147483629";var lu="#000000";var lp={};function lt(lG){lo=lG;k8.extend(lq,fQ,lo);}this.shouldShow=function lE(lG,lI){var lH=e0(ad.Settings,"ioEnabled","0");return(e0(lI,"ioEnabled",lH)=="1")&&(!lo.isQuirksMode(lG[0]));};this.initSettingsParams=function lC(lG){lp.zindex=e0(lG,"z-index",lv);var lH=e0(lG,lF);if(lH!=undefined){lp.left=parseFloat(lH.left);lp.top=parseFloat(lH.top);lp.width=parseFloat(lH.width);lp.height=parseFloat(lH.height);lp.opacity=parseFloat(lH.opacity);lp.color=lH.color;}else{lp.left=0;lp.top=0;lp.width=0;lp.height=0;lp.opacity=0.5;lp.color=lu;}};this.highlight=function lB(lJ,lK,lH,lG,lI){lq._base.highlight(lJ,lK,lH,lG,lI,lq);};this.getDivName=function lx(){return"insideoutDiv";};this.getDataDivId=function lw(lG,lH){return lG+"-"+lq.getDivName()+"Id"+lH;};this.getInstanceName=function lA(){return"insideouter";};function ly(){var lG=mtjQuery(document);var lI=document.documentElement.clientWidth;var lH=lG.height();return{height:lH,width:lI};}this.getElementDivContainer=function lz(lG){return mtjQuery(document).find("body");};this.changeHighlightDivsCss=function lr(lL,lK,lG){var lI=ly();var lJ=lL[0];var lM=lq.getElementDivContainer(lL);var lP,lQ={top:0,left:0};var lH=ek(lL);if(lL.data("iframe")){var lO=h2.getRectRelativeToWindow(lJ,window);if(!lO){return;}lP=lO;}else{lP=lJ.getBoundingClientRect();lQ=eM(lJ,lH,window);}var lS=lP.left+lQ.left+lp.left-(lp.width/2);var lT=lP.top+lQ.top+lp.top-(lp.height/2);var lR=lP.right-lP.left+lp.width;var lN=lP.bottom-lP.top+lp.height;lD(lG[0],0,0,lI.width-0.5,lT);lD(lG[1],lT,lS+lR,Math.floor(lI.width-lR-(lP.left+lp.left-(lp.width/2))),lN);lD(lG[2],lT+lN,0,lI.width-0.5,lI.height-(lT+lN));lD(lG[3],lT,0,lP.left+lp.left-(lp.width/2)-0.5,lN);};function lD(lH,lJ,lI,lK,lG){if(!lH){return;}jr(lH,lp.zindex);lH.css("top",lJ+"px").css("left",lI+"px").css("width",lK+"px").css("height",lG+"px").css("background-color",lp.color).css("opacity",lp.opacity);}this.unhighlightElement=function(lI,lH,lG){lq._base.unhighlightElement(lI,lH,lq,lG);};this.createHlDivOnPage=function ls(lH,lG){var lI=wmjQuery("<div id="+lG+" />");mtjQuery(document).find("body").append(lI);return lI;};lq.getName=function(){return"io";};lt.apply(null,arguments);}var aT=1;function aU(){this.LocalSVNRevision="$Rev: 3631 $";var lF=this;var lx=null;var lC=null;var lz=null;var lo=false;var lE=true;var ls=false;var lw=false;var lp=false;var lB=null;var lt=false;var lG=false;var ly=false;var lu=null;var lv=null;var lq=[];var lA=null;var lr=null;var lD=1;var lV=150;var mp="animations";var my="marginLeft";var lM=250;var mA=10;var mC=0.3;var mB=50;var mc={0:"Top",1:"Left",2:"Top",3:"Left"};var lT="inline";var lS={InitCSS:{display:lT},Properties:{},Options:{}};function lR(mG,mH){l6();var mF=mG?mG:lS;lx=lQ(mF.InitCSS);lC=lQ(mF.Properties);lz=lQ(mF.Options);mi(mF.MetaData);lG=mH;}function lX(){return true;}this.disableAnimation=function lW(){lE=false;};this.setPosition=function mq(mF){lB=mF;lZ();};this.postAnimation=function md(mF){if(mF){lq.push(mF);}};this.prepare=function me(mF,mG){lu=mF;lv=mG;lA=l1(lu);mm();mf();if(mr()){l4();l3();l2();lF.postAnimation(mo);lz.complete=lL;}else{lF.postAnimation(mu);}if(mD()){lF.postAnimation(lH);}};this.animate=function lI(mF){if(!lu){if(mF){mF();}return;}this.postAnimation(mF);if(mr()){lo=true;l7(lu);lu.animate(lC,lz);mw();}else{mt();lL();}};this.destroy=function lU(mG,mI,mJ,mF){var mH=mG.add(mI);if(mr()){mj(mH,mJ,mF);}else{mk(mH,mJ,mF);}};function mj(mG,mH,mF){mG.removeAttr("id").find("div").removeAttr("id");mG.fadeOut(lV,function(){mH(mG,mF);});}function mk(mG,mH,mF){mH(mG,function(){if(mF){mF();}});}function lQ(mF){return mtjQuery.extend({},mF);}function l1(mF){return{filter:mF.css("filter")};}function l4(){if(lp&&lv){mh(lK);}else{lq.push(mu);}}function l3(){if(lw){l5();mh(mn);}}function l2(){if(ms()){var mF=mE(lu,l0());lF.postAnimation(function(){mx(mF);});}}function l0(){if(ls){return lO;}else{if(ly){return l8;}}}function mf(){lu.css({display:"block",visibility:"hidden",filter:""});}function ms(){return ls||ly;}function lL(mF){for(var mG=0;mG<lq.length;mG++){if(typeof(lq[mG])=="function"){lq[mG].apply(null,arguments);}}lq.length=0;}function mw(){var mF=lz.duration*lD;setTimeout(lY,mF);}function mt(){mtjQuery(lu).css({display:lT,visibility:""}).css(lA);}function lJ(mF){if(!lu){return;}}function mo(){if(lu){lu.css(lA);}}function l6(){lr=mtjQuery({});}function mm(){lr.clearQueue(mp);}function mh(mF){lr.queue(mp,mF);}function lY(){lr.dequeue(mp);}function lZ(){var mF={};var mG={};if(mb()){mF.size="height";mF.osize="width";}else{mF.size="width";mF.osize="height";}if(!ls&&lC.size){if((lB==h1.Top&&mF.size=="height")||(lB==h1.Left&&mF.size=="width")){ly=true;}}mG.marginTop=(lB==h1.Bottom)?-1:1;mG.marginLeft=(lB==h1.Right)?-1:1;mF.margin="margin"+mc[lB];lC=ml(lC,mF,mG);lx=ml(lx,mF,mG);}function ml(mI,mK,mF){if(!mI){return;}var mL={};for(var mJ in mI){if(mI.hasOwnProperty(mJ)){var mG=gc(mK[mJ])?mK[mJ]:mJ;mL[mG]=mI[mJ];if(gc(mF[mG])){var mH=mL[mG].toString().replace("px","");mL[mG]=(mF[mG]*mH)+"px";}}}return mL;}function lK(){mv(lv);setTimeout(function(){lY();},lM);}function mu(){mtjQuery(lv).each(function(){this.show();});lY();}function mv(mF){var mJ=mb();var mM=mJ?"marginTop":"marginLeft";var mI=ma();var mL=mI?1:-1;var mK=mF.length-1;var mH;var mG;if(lB==h1.Top){mH="border-top-width";mG="borderTopWidth";}if(lB==h1.Bottom){mH="border-bottom-width";mG="borderBottomWidth";}if(lB==h1.Right){mH="border-right-width";mG="borderRightWidth";}if(lB==h1.Left){mH="border-left-width";mG="borderLeftWidth";}mtjQuery(mF).each(function(mR,mP){this.css("visibility","hidden").css("display","block");var mS=(parseInt(this.css(mH),10)+2)*mL;var mQ=this.css(mH);var mT=this[0].style.zIndex;var mO={};mO[mG]=mQ;mO.opacity=1;if(mI){mO[mM]=1;}var mN={};mN.duration=lM;mN.complete=(function(mU,mV){return function(){mU.css(mM,"");mU.css("zIndex",mV);};})(this,mT);if(mR==mK){this.css("zIndex",mT-1);}this.css("visibility","");if(mI){this.css(mM,mS);}this.css(mH,"0px");this.animate(mO,mN);});}function mb(){if((lB==h1.Bottom)||(lB==h1.Top)){return true;}return false;}function l9(){if((lB==h1.Left)||(lB==h1.Right)){return true;}return false;}function ma(){if((lB==h1.Bottom)||(lB==h1.Right)){return true;}return false;}function l7(mF){if(!lB&&lx.margin){lx.margin=0;}mtjQuery(mF).css({display:"none",visibility:""}).css(lA).css(lx);}function mi(mF){if(mF){ls=cE(mF.center,false);lw=cE(mF.hwa,false);lp=cE(mF.are,false);lD=cE(mF.delay,1);}}function l5(){lu.children(":visible").addClass("walkme-balloon-hidden-content").css("display","none");}function mn(){lu.children(".walkme-balloon-hidden-content").removeClass("walkme-balloon-hidden-content").fadeIn(250,function(){mtjQuery(this).css("direction",mtjQuery(this).css("direction"));});}function mE(mH,mF){var mG={position:"absolute",top:mH.css("top"),left:mH.css("left"),height:mH.height(),width:mH.width(),zIndex:mH[0].style.zIndex};var mI=mtjQuery("<div />").css(mG);mH.css({top:0,left:0}).wrap(mI);mF(mI,mH);return mG;}function mx(mF){if(ly){lu.css("bottom","");lu.css("right","");}lu.unwrap().css(mF);}function lH(){lu.bind("click.wm_animation",function(){if(!lt){lt=true;mz(lu,mA,my);if(lv){for(var mF=0;mF<lv.length;mF++){mz(lv[mF],mA,my);}}}});mg(lu);}function mg(mF){mF.find("button,a,.walkme-custom-balloon-close-button").bind("click.wm_animation",function(mG){mG.stopPropagation();});}function mz(mH,mI,mG){if(mI<=0){mH.css(mG,"");lt=false;return;}var mF=[];mF[mG]=lN(mI);mH.animate(mF,mB,function(){mz(mH,mI-1,mG);});}function lN(mG){var mH=((mG%2)*2)-1;var mF=(mG*mC);return mF*mH;}function l8(mG,mI){var mF=parseInt(mI.css("border-top-width"),10)+parseInt(mI.css("border-bottom-width"),10);var mH=parseInt(mI.css("border-left-width"),10)+parseInt(mI.css("border-right-width"),10);mI.css("top","");mI.css("left","");mI.css("bottom","-"+mF+"px");mI.css("right","-"+mH+"px");}function lO(mG,mF){lP(mG,mF);lz.step=function(){lP(mG,mF);};}function lP(mG,mH){var mI=(mG.height()/2)-(mH.height()/2);var mF=(mG.width()/2)-(mH.width()/2);mH.css("top",mI);mH.css("left",mF);}function mr(){if(lo||!lX()||!lE){return false;}return true;}function mD(){if(lG){return true;}return false;}lR.apply(null,arguments);}mtjQuery.extend(mtjQuery.easing,{easeOutBounce:function(ls,lr,lo,lp,lq){if((lr/=lq)<(1/2.75)){return lp*(7.5625*lr*lr)+lo;}else{if(lr<(2/2.75)){return lp*(7.5625*(lr-=(1.5/2.75))*lr+0.75)+lo;}else{if(lr<(2.5/2.75)){return lp*(7.5625*(lr-=(2.25/2.75))*lr+0.9375)+lo;}else{return lp*(7.5625*(lr-=(2.625/2.75))*lr+0.984375)+lo;}}}},easeOutBack:function(lt,ls,lo,lp,lq,lr){if(lr==undefined){lr=1.70158;}return lp*((ls=ls/lq-1)*ls*((lr+1)*ls+lr)+1)+lo;},easeOutElastic:function(lv,lu,lp,lq,lr){var lt=1.70158;var ls=0;var lo=lq;if(lu==0){return lp;}if((lu/=lr)==1){return lp+lq;}if(!ls){ls=lr*0.3;}if(lo<Math.abs(lq)){lo=lq;var lt=ls/4;}else{var lt=ls/(2*Math.PI)*Math.asin(lq/lo);}return lo*Math.pow(2,-10*lu)*Math.sin((lu*lr-lt)*(2*Math.PI)/ls)+lq+lp;}});function bP(){this.LocalSVNRevision="$Rev: 3590 $";var lo=this;function lr(){}lo.isNumber=function lB(lM){return !isNaN(lM);};lo.formatString=function(){return dD.apply(null,arguments);};lo.sendMenuEvent=function lJ(lQ,lP,lO){try{var lN={Type:lQ};if(lP){lN.WalkthruId=lP;}if(lO){window.mtjQuery.extend(lN,lO);}walkme_player_event(lN);}catch(lM){}};lo.isIe7or8=function lz(){return window.wmjQuery.browser.msie&&lo.isBelowIeVersion(8);};lo.isBelowIeVersion=function lw(lM){return(document.documentMode<=lM)||(window.wmjQuery.browser.version<=lM);};lo.getSettingsValue=function(lO,lN,lM){return e0(lO,lN,lM);};lo.libSetTimeout=function(lM,lN){return gV(lM,lN);};lo.elementLastKeeper=new c2();lo.attentionGrabberClass=a0;lo.isValidMailTo=function lE(lM){return(lM&&lM.indexOf("mailto:")==0);};lo.isValidUrl=function lF(lM){if(lM&&lM.indexOf("http")!=0&&lM.indexOf("/")!=0){return false;}return true;};lo.setDefault=function lK(lN,lM,lO){if(lN[lM]===undefined){lN[lM]=lO;}};lo.filter=function lt(lN,lP){var lO=[];for(var lM=0;lM<lN.length;lM++){if(lP(lN[lM])){lO.push(lN[lM]);}}return lO;};lo.isUiObjectActivatable=function lD(lM){return lM.type()!="category"&&lM.type()!="tab";};lo.isTrue=function lC(lN,lO,lM){var lP=e0(lN,lO,lM);return lo.isValueTrue(lP);};lo.isValueTrue=function lG(lM){return(lM&&((lM==true)||(lM=="True")||(lM=="1")));};lo.isLike=function lA(lO,lN){lN=lN.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&");lN=lN.replace(new RegExp("[.]","g"),"\\.");lN=lN.replace(new RegExp("[*]","g"),".*");lO=lO.toString().toLowerCase();lN=lN.toLowerCase();try{return(lO.match(lN)[0]==lO);}catch(lM){return false;}};lo.addTabIndex=function lq(lM,lN){if(!gl("accessibility")){return;}lN=cE(lN,0);lM.attr("tabIndex",lN);lM.keyup(function(lO){if(lO.keyCode==13&&!lO.shiftKey){lM.click();}lO.stopPropagation();});};lo.isGradientUsingFilter=function ly(lM){var lN=wmjQuery("<div style='"+lM+"' />");var lO=lN.css("background-image").indexOf("gradient")==-1;return lO;};lo.handleCrossDomainError=function lv(lM){if(!lx(lM)){throw lM;}};lo.encloseCall=function ls(lO){var lN=function(){var lQ=arguments;return function lR(){return lO.apply(null,lQ);};};var lM=j3(arguments,0);var lP=lN.apply(null,lM);return lP;};function lx(lO){var lN=lO&&(lO.code==18);var lM=(lO&&lO.message&&(lO.message.indexOf("denied")>=0));return lN||lM;}lo.registerEventHandler=function(lM,lN){if(window.attachEvent){window.attachEvent("on"+lM,lN);}else{if(window.addEventListener){window.addEventListener(lM,lN,false);}}return function(){lL(lM,lN);};};function lL(lM,lN){if(window.detachEvent){window.detachEvent("on"+lM,lN);}else{if(window.removeEventListener){window.removeEventListener(lM,lN,false);}}}lo.postMessageToAllFramesChain=function lI(lO,lM){if(!lO){return;}try{lO.postMessage(lM,"*");if(lO!=lO.parent){lo.postMessageToAllFramesChain(lO.parent,lM);}}catch(lN){co("Error in postMessage to frames chain "+lN,4);}};lo.postMessageDescendantFrames=function lH(lN,lM){function lO(lU,lR){var lS=lU.frames;for(var lT=0;lT<lS.length;lT++){var lQ=lS[lT];lP(lQ,lR);lO(lQ,lR);}}function lP(lS,lQ){try{if(lS!=window){lS.postMessage(lQ,"*");}}catch(lR){}}lO(lN,lM);};lo.getFrameIndex=function(lN){var lM=lu(top,lN||window).frameIndex;return lM;};function lu(lN,lQ){if(lN==lQ){return{frameIndex:0};}var lR=0;for(var lO=0;lO<lN.frames.length;lO++){lR++;var lM=lN.frames[lO];var lP=lu(lM,lQ);if(lP.frameIndex!==undefined){lP.frameIndex+=lR;return lP;}else{lR+=lP.totalFrames;}}return{totalFrames:lR};}lo.doForFramesChain=function(lN,lO){if(!lN){return;}try{lO(lN);}catch(lM){}if(lN!=lN.parent){lo.doForFramesChain(lN.parent,lO);}};lo.addScript=function lp(lP,lN){if(!lP){return;}var lM=document.getElementsByTagName("head")[0];var lO=document.createElement("script");lO.async=true;lO.src=lP;lO.id="mt_script";if(lN){lO.onload=lN;lO.onreadystatechange=lN;}lM.appendChild(lO);};lr.apply(null,arguments);}var bP=new bP();function kY(){this.LocalSVNRevision="$Rev: 3582 $";var lB="walkme-ie-";var lC="walkme-ie-bm-";var lD="walkme-mozilla";var lq=this,lo=null,lF=false,lp;function lv(lG){lo=lG;}lq.canDisplayOverlay=function lu(){var lG=!((lo.isQuirksMode()||lo.shouldHandlePageAsFramesets()));return lG;};this.removeOverlay=function(lG){if(lp&&lp.exist()){if(lG){lp.fadeOut(DUR,function(){wmjQuery(this).remove();});}else{lp.remove();}lp=null;}};lq.displayOverlay=function lw(lJ,lH,lI){if(lI==undefined){lI="walkme-popup-background";}var lG=ff();lG.append(dD('<div id="{0}" class="mt-to-destroy"></div>',lI));lp=mtjQuery("#"+lI,lG);lp.css({opacity:"0.7",display:"none",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",background:"#000000","z-index":lJ-1});lq.addBrowserSpecificClasses(lp);(lH)?lp.fadeIn("slow"):lp.css("display","");return lp;};lq.getStyle=function lz(lG,lI){try{if(lI.getComputedStyle){return lI.getComputedStyle(lG,null);}else{return lG.currentStyle;}}catch(lH){return null;}};lq.getAnimationDimentionSize=function ly(lH,lI){var lG;if(lI=="top"||lI=="bottom"){lG="height";}else{lG="width";}return lH.css(lG);};lq.addBrowserSpecificClasses=function lr(lK){if(!window.mtjQuery.browser.msie){return;}var lJ=document.documentMode||Number(wmjQuery.browser.version);var lH=window.mtjQuery.browser.version.slice(0,window.mtjQuery.browser.version.indexOf("."));var lI=lB+lJ;var lG=lC+lH;lK.addClass(lI);lK.addClass(lG);};lq.addWalkmeClasses=function ls(lI){lI.addClass("walkme-to-destroy");var lG="walkme-override walkme-css-reset";lI.addClass(lG);var lH=lI.find("*");lH.addClass(lG);};lq.setLangAttribute=function lE(lH){var lG=lo.getCurrentLanguage();if(!lG){return;}lH.attr("lang",lG);};lq.bindFocusAndBlur=function lt(lG,lH){lG.focus(function(){if(lG.val()==lH){lG.val("");}});lG.blur(function(){if(lG.val()==""){lG.val(lH);}});};lq.fixFlash=function lx(){if(lF||!gl("flashTransparent")){return;}var lG=lo.getBrowser();if(lG.indexOf("Firefox")!=-1){lI();}else{if(lG.indexOf("IE")!=-1){lH();}}lF=true;function lI(){lJ().append("<param name='wmode' value='transparent'>").wrap("<div></div>").unwrap();mtjQuery("embed[wmode!='opaque'][wmode!='transparent']").attr("wmode","transparent").wrap("<div></div>").unwrap();}function lH(){var lM=lJ();mtjQuery("param[name='wmode']",lM).remove();lM.append("<param name='wmode' value='transparent'>");var lL=mtjQuery("embed[wmode!='opaque'][wmode!='transparent']");lL.attr("wmode","transparent");lK(lL);lK(lM);}function lJ(){return mtjQuery("object:has('param[name='wmode'][value!='transparent'][value!='opaque']')");}function lK(lN){for(var lM=0;lM<lN.length;lM++){var lO=lN[lM].parentNode;var lL=lN[lM].outerHTML;lN[lM].insertAdjacentHTML("beforeBegin",lL);lO.removeChild(lN[lM]);}}};lq.hexToRgba=function lA(lL,lG){var lK=lL.replace("#","");var lI=parseInt(lK,16);var lM=(lI>>16)&255;var lJ=(lI>>8)&255;var lH=lI&255;return"("+lM+","+lJ+","+lH+","+lG+")";};lv.apply(null,arguments);}var kY=new kY(ao);this.Balloon=function a7(){this.LocalSVNRevision="$Rev: 3706 $";var lY=this,ly=null,lA=true,lq,lQ=false,lw=false,lp=false,lW=false,lZ="",lu="",lX="",lG="",lR="",lv="",lI=false,lK,lt="",lT="",lD=0,lC=0,lU=0,l0=0,lV=ke.Normal,lB,lJ=false,lr,ls,lz=null,lN=null,lM=null,lL=null,lO=null,lS,lE,lF,lH,lP,lo=null,mB="scroll",mC={Animated:0,Normal:1,None:2},lx,l8;function l7(mM){lS=mM.positionHelper;ly=mM.element;lF=mM.highlighter;lH=mM.insideouter;lE=mM.forceEmbedBalloonInIframe;lx=mM.dontShowIoBalloon;lJ=mM.isFirstStep;lK=mM.isViewStep;if(mM.fixedSize){lD=mM.fixedSize.width;lC=mM.fixedSize.height;}lT=mM.stepSettings;if(mM.text){lZ=mM.text.title;lX=mM.text.subText;lu=hv(mM.text.content);}lB=mM.end;if(mM.buttons){lQ=mM.buttons.next;lw=mM.buttons.done;lp=mM.buttons.back;lW=mM.buttons.submit;}lv=mM.htmlContent;lG=mM.innerHtml;lR=mM.outterHtml;lq=mM.position;if(mM.data){lU=mM.data.stepId;l0=mM.data.tutorialId;lV=mM.data.type;}lt=mM.configuration;ao.FixConfiguration(lt);lP=mM.logger;l8=lP.wrapCustomerLog(g6);jt(ly);ls=mM.drawer;if(!ly){lA=true;return;}if(!ly.data("iframe")||lE){lA=true;}else{lA=ao.shouldHandlePageAsFramesets();}if(mM.isCaptureBalloon){l4();}l5(lt);}this.SetTimeoutOn=function mE(){if(!mt()&&!cX(ly,"elementDisplayTimeout")){var mM=hU(function(){lY.elementDisplayTimeoutFunction();},200);cY(ly,"elementDisplayTimeout",mM);}};this.getArrowHeight=function mb(){return ls.arrowHeight();};function l6(){var mN=lv?lv.html():ao.parseBBCode(lu);var mM={title:ao.parseBBCode(lZ),content:mN,customHtml:{inner:lG,outter:lR},stepIndexText:lX};var mO={balloonData:mM,userGuid:au,nextButton:lQ,doneButton:lw,backButton:lp,configuration:lt,content:lu,title:lZ,subtext:lX,settings:lT,end:lB,stepType:lV,submitButton:lW,contentDiv:lv};return mO;}function l5(mM){var mO=(mM.AnimateFirst&&!lJ)||lI||lK;var mN=mM.Vibrate&&!lI;lo=new aU(mM.Animation,mN);if(mO){lo.disableAnimation();}}this.AddSubmitButton=function l1(){lW=true;};function l4(){lI=true;lA=false;if(lI&&lo){lo.disableAnimation();}}function mH(mR,mM,mT,mS){var mQ=lA?ff(mR):ff(null,true);var mN=ls.generateBalloonDiv(mQ,lI,l0,lU,lV,l6());aD(mN);if(lA){mN.data("iframe",mR.data("iframe"));}var mO=ls.fixSize(mN,mR,lA,mT,mS);cY(mR,"balloonDiv",mN);if(lV&&lV==ke.Popup){lY.showPopupBalloon(mN);}else{var mP=gc(lt.BalloonRadius)?lt.BalloonRadius:15;lY.showNormalBalloon(mN,mO,mM,mQ,mP);}return mN;}this.showNormalBalloon=function mI(mP,mQ,mO,mN,mS){var mZ=ls.arrowHeight()+1;mO=gc(mO)?mO:a8;var mR=lS.getDrawingArea(ly,!lA);var mV=lz||lS.getElementBounds(ly,lA,window,lT);var m0=ls.decideWhereToPop(mV,mQ,mO,mZ,mR);lo.setPosition(m0.positionType);var m1=e0(lT,"z-index","2147483630");ls.addPositionClass(mP,m0);var mM=ls.drawArrows(ly,lU,m0,mQ,mV,mN);m0=mL(m0,mQ,mV,mS);var mU=lt.BalloonBorderWidth,mT=ls.hasBorder()?1:0;mP.css("top",m0.top-mT*mU+"px");mP.css("left",m0.left-mT*mU+"px");var mY=ao.isQuirksMode(ly[0]);if(m0.positionType==h1.Top){mP.css("top",m0.top-mT*2*mU+1+"px");}if(m0.positionType==h1.Bottom){mP.css("top",m0.top-1+"px");}if(m0.positionType==h1.Left){mP.css("left",m0.left-mT*2*mU+1+"px");if(mY){mP.css("left",m0.left-mT*2*mU+"px");}}if(m0.positionType==h1.Right){mP.css("left",m0.left-1+"px");}mP.css("width",mQ.width+"px");if(mY){mP.css("width",mQ.width+mT*2*mU+"px");}mP.css("height",mQ.height+"px");jJ(mP,m1);for(var mW=0;mW<mM.length;mW++){jJ(mM[mW],m1);}if(mY){ls.fixQuirksMode(mP);}ls.fixArrows({balloonDiv:mP,arrowsDivs:mM,result:m0,isInCaptureMode:lI,isQuirksMode:mY});var mX=e0(lT,"isInvisible",0)==1;if(mX){mP.hide();for(var mW=0;mW<mM.length;mW++){mM[mW].hide();}}else{lo.prepare(mP,mM);}};function mL(mX,mM,mP,mN){if((mX.positionType==h1.Right)||(mX.positionType==h1.Left)){var mO=mtjQuery(ek(ly)).height();if(((mM.height+mX.top)>(mO))){var mR=ls.arrowHeight()+1;var mQ=mP.top+(mP.height/2);var mS=mQ-(mM.height/2);var mW=mQ-mM.height+mR+(mN/2);mW=Math.max(0,mW);var mV=mQ-mR-(mN/2);var mU=mO-mM.height-1;var mT=Math.min(mU,mV);mX.top=mS;mX.top=Math.min(mT,mX.top);mX.top=Math.max(mX.top,mW);mX.top=Math.max(0,mX.top);}}return mX;}this.showPopupBalloon=function mJ(mM){var mT=e0(lT,"z-index",hW);mM.css({"z-index":mT,"min-width":ls.minPopupWidth()+"px"});var mO=parseInt(e0(lT,"leftOffset",0));var mP=parseInt(e0(lT,"topOffset",0));var mR={top:mP,left:mO};ao.centerElementInPage(mM,false,mR);var mN=kY.canDisplayOverlay();var mS=((e0(lT,"fadeBackground",1)==1)||(e0(lT,"fadeBackground",true)==true)||(e0(lT,"fadeBackground","True")=="True"));if(mN&&mS){kY.displayOverlay(mT,true);}var mQ=ao.isQuirksMode(ly[0]);if(mQ){ls.fixQuirksMode(mM);}lo.prepare(mM);lo.postAnimation(function(){h2.registerResizeAndScrollEvents({element:mM,offset:mR});});};this.getBalloonDiv=function mc(){return cX(mtjQuery(ly[0]),"balloonDiv");};this.getBalloonHTML=function md(){return ls.generateHtml(l6());};this.Show=function mG(mP,mM){var mN=lA?ei(ly):wmjQuery("head");var mO=function mQ(){try{if(!mt()&&(lI||(lF.shouldShow(ly,lT)))){var mR=[{id:lU,idName:"step",classPropertyName:"hlStepClass"},{id:l0,idName:"walkthru",classPropertyName:"hlWalkthruClass"}];lF.highlight(ly,lT,lU,mR,"balloon");}cY(ly,"isCapture",lI);var mY=lA?ly:mtjQuery("body");var mX=es(mY);var mU=(lD>0)?lD:0,mT=(lC>0)?lC:0;if(mX.width()<=200){if((lq==0)||(lq==2)||(lq==undefined)){mU=mX.width()-ly.position().left-20;if(mU<120){mU=120;}}}else{if(!gl("noHgtLmt")&&(mX.height()<=200)){if((lq==0)||(lq==2)||(lq==undefined)){lq=1;}}}if(!lz){if(!lA){var mW=lS.getPosRelativeToWindow(ly[0],window,true);lN=mW.top;lM=mW.left;}else{var mV=ly.offset();lN=Math.floor(mV.top);lM=Math.floor(mV.left);}lL=ly.height();lO=ly.width();}if(!lx&&lH.shouldShow(ly,lT)){var mR=[{id:lU,idName:"step",classPropertyName:"ioStepClass"},{id:l0,idName:"walkthru",classPropertyName:"ioWalkthruClass"}];lH.highlight(ly,lT,lU,mR,"balloon");}l9(mP,mM,mU,mT);}catch(mS){lP.error(mS);}};if(lI){mO();}else{ls.loadResources(mN,mO);}};function mF(mM,mN){if(lV!=ke.Popup){if((mN!=mC.None)&&(mM.css("position")!="fixed")){return true;}}return false;}function l9(mP,mN,mR,mO){var mS=e0(lT,mB,mC.Animated);mP=mP&&mF(ly,mS);var mQ=false;if(mP){mQ=my(ly);}var mM=mH(ly,lq,mR,mO);if(!mQ&&mP){mD(ly,null,function(){if(lI||!mj()){lo.animate(mN);}else{if(mN){mN();}}},lT,lq,mS);}else{lo.animate(mN);}ls.manipulationsForInlineCss(mM);}function my(mM){var mN=d1();if(!mN){return false;}var mO=mM.parents("div");var mP=dr(mO,function(mQ){var mQ=mN(mQ);if(gc(mQ.data)&&gc(mQ.data("jsp"))){return mQ;}});if(mP){mN(mP).data("jsp").scrollToElement(mM,true,false);return true;}return false;}function mm(mP,mN,mO,mM,mQ){if(mO==0||mO==2){return((mP+mN+mM)>mQ);}else{return(mP>mQ);}}function mg(mN){var mM=e0(mN,"endScroll",-1);if(mM>=0){return{distance:parseInt(mM,10),unit:e0(mN,"scrollUnit","%"),force:e0(mN,"forceScroll",0)};}}function mD(mR,mP,mO,mV,mN,mT){try{var mW=(mT==mC.Animated)&&!(mR.data("iframe"))&&(e0(mV,"scrollOld","0")!=1);var mM=false;var mU=mg(mV);if(mW){var mS=mA(mR,mN,mU);try{if(l2(mS,mR,mU,mN,mO)){mM=true;}}catch(mQ){}}if(!mM||(mT==mC.Normal)){mz(mR,mN,mU,mO);}}catch(mQ){lP.error(mQ);}}function mh(mM,mN){return mN.unit=="px"?mN.distance:es(mM).height()*mN.distance/100;}function l3(mM,mN){if(mN&&mN.force){var mO=mh(mM,mN);return{top:mO,bottom:0};}return cB;}function mp(mN,mO,mM){return gh(mN,mO)&&ml(mN,mM);}function mz(mQ,mN,mR,mO){var mS=l3(mQ,mR);if(!mp(mQ,mS,mN)){mP(mQ,true,(mQ.data("iframe")!=null));}var mM=cX(mtjQuery(mQ[0]),"balloonDiv");if(!gh(mM,mS)){if(mQ.offset().top>mM.offset().top){mP(mM,true);}else{mP(mM,false);}}if(mO){mO();}function mP(mU,mT,mV){if(mR&&!mV){window.scrollTo(0,(mU.offset().top-mh(mU,mR)));}else{mU[0].scrollIntoView(mT);if(!gl("fixIframeScroll")){return;}}}}function mA(mP,mO,mV){var mN=cX(mtjQuery(mP[0]),"balloonDiv");var mM=cX(mtjQuery(mP[0]),"arrowDiv");var mR=mP;var mS=es(mP);var mX=l3(mP,mV);var mT=(mP.offset().top<mN.offset().top)||(mP.offset().top+mP.height()<mN.offset().top+mN.height());var mW=mS.top()-0+mS.height()-0;var mU;if(mV&&(mO==1||mO==3)){mR=mP.outerHeight()>mN.height()?mP:mN;}else{if(mT){mU=(mW-mX.bottom<=(mP.offset().top+mP.height()+mN.height()+mM.height()))?"down":"up";if(mU=="down"){mR=mN;}else{mR=mP;}}else{mU=(mS.top()+mX.top>=(mP.offset().top-mN.height()-mM.height()))?"up":"down";if(mU=="down"){mR=mP;}else{mR=mN;}}}var mQ=mm(mP.height(),mN.height(),mO,mM.height(),(mS.height()-0));if(mQ){mR=mN;}return mR;}function l2(mQ,mP,mR,mM,mN){if(ao.isQuirksMode(ly[0])){return false;}if(mO("html")){return true;}if(!mp(mP,l3(mP,mR),mM)){return mO("body");}return false;function mO(mU){var mS={duration:"slow",rootElement:mU,elementToFindScrollableFor:mP,complete:function(){if(mN){mN();}},heightLimit:!gl("noHgtLmt")};if(mR){var mT=lY.getBalloonDiv().height();mS.endScroll={scrollOptions:mR,balloonHeight:mi(mP,mM,mT),totalDrawnHeight:mf(mP,mM,mT)};}return mQ.scrollintoview(mS);}}function mf(mO,mN,mM){var mP=mO.outerHeight();var mQ=es(mO).height()-0;if(mm(mP,mM,mN,ls.arrowHeight(),mQ)){return mM;}else{if(mN==0||mN==2){return mP+mM+ls.arrowHeight()+1-parseInt(e0(lT,"topOffset",0));}else{return Math.max(mP,mM);}}}function mi(mP,mN,mM){var mQ=mP.height();var mO=parseInt(e0(lT,"topOffset",0));if(mN==0){return mM+ls.arrowHeight()+1-mO;}else{if(mN==2){return mQ+mM+ls.arrowHeight()+1-mO;}else{if(mM>mQ){return mM-mO;}else{return(mQ-mM)/2+mM-mO;}}}}this.elementDisplayTimeoutFunction=function ma(){var mN=lS.isElementVisible(ly);if(!mN){l8("Element not visible anymore.",5);it(ly);if(mx()){mk();}}else{mj();var mM=hU(lY.elementDisplayTimeoutFunction,800);cY(ly,"elementDisplayTimeout",mM);}};function mx(){switch(y){case ka.WAITING_FOR_ELEMENT_EVENT:case ka.WAITING_FOR_NEXT_BUTTON_CLICK:case ka.WAITING_FOR_PAGE_CHANGE:return true;default:return false;}}function mk(){if(mw()){l8("Sticky - keep looking for element.",5);ao.releaseBalloons();y=ka.WAITING_FOR_STICKY_ELEMENT;ao.executeCurrentStep();}else{if(mv()){cQ=false;l8("Skippable - continue to next step.");ao.executeTutorialNextStep();}else{if(y!=ka.WAITING_FOR_PAGE_CHANGE){l8("Stopping walk-thru.");ao.releaseBalloons();y=ka.PAUSED;jc("WalkthruStopped");hx("TutorialStopped");}}}}function mw(){return e0(d8().Steps[z].Settings,"sticky",0);}function mv(){return d8().Steps[z].IsSkippable;}function mt(){return lV==ke.Popup;}function mj(){var mN={top:0,left:0},mP=false,mS=false;if(!lA){var mT=lS.getPosRelativeToWindow(ly[0],window,true);mN.top=mT.top;mN.left=mT.left;if(mu()){mP=true;}}else{var mR=ly.offset();mN.top=Math.floor(mR.top);mN.left=Math.floor(mR.left);}dx(ly,mN);if(!ml(ly,lq)){mP=true;}var mM=ly.height();var mO=ly.width();lz=null;var mQ=mo(mN.top,mN.left,mM,mO);mK(mN.top,mN.left,mM,mO);if(mQ){mS=true;lz=lS.getElementBounds(ly,lA,window,lT);cJ(ly,true,function(){if(!mP){lY.Show(false,function(){lz=null;});}});}return mS;}function mu(){var mM=ly.data("iframe");return(mM)&&(lS.isElementScrolledOut(ly,mM,lq));}function mo(mO,mN,mM,mP){return(lN!=null)&&(lM!=null)&&(lL!=null)&&(lO!=null)&&((lN!=mO)||(lM!=mN)||(lL!=mM)||(lO!=mP));}function mK(mO,mN,mM,mP){lN=mO;lM=mN;lL=mM;lO=mP;}function ml(mO,mM){if(gl("disableIEVRTP")){return true;}var mP=mn(mO);if(mP){return true;}var mN=me(mO,mM);var mR=mO.parents("div");var mQ=!bZ(mR,function(mV){var mV=mtjQuery(mV);var mU=mV.css("overflow");var mS=mq(mU);var mT=ms(mN,mV);return mS&&mT;});return mQ;}function me(mN,mM){var mP=mN.offset(),mO=mN.height(),mQ=mN.width();var mR={top:mP.top,left:mP.left};switch(mM){case 0:mR.left+=mQ/2;break;case 1:mR.top+=mO/2;mR.left+=mQ;break;case 2:mR.top+=mO;mR.left+=mQ/2;break;case 3:mR.top+=mO/2;break;default:lP.error(new Error("Unknown balloon position"));}return mR;}function mq(mM){return(mM=="auto")||(mM=="scroll")||(mM=="hidden");}function mn(mM){var mN=mM.css("position");return mN=="absolute"||mN=="fixed";}function ms(mM,mN){var mO=mN.offset();return mr(mM.top,mO.top,mN.outerHeight())||mr(mM.left,mO.left,mN.outerWidth());}function mr(mM,mO,mP){var mN=mO+mP;return(mM<mO)||(mM>mN);}l7.apply(null,arguments);};function bd(){this.LocalSVNRevision="$Rev: 3619 $";var lN=new lb(this),lw="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit; letter-spacing: normal; text-transform: none; outline: invert none medium; width: auto; box-shadow:none; text-shadow:none; border-top: none; border-right: none; border-bottom: none; border-left: none; position: static; top: auto; left: auto; transition: none;",lL=lN.Prop.Protected("lib"),lQ=lN.Prop.Protected("title"),ls=lN.Prop.Protected("content"),ly=lN.Prop.Protected("customHtml"),lO=lN.Prop.Protected("stepIndexText"),lq=lN.Prop.Protected("balloonSettings"),lz=lN.Prop.Protected("direction"),lR=lN.Prop.Protected("userGuid"),lt=lN.Prop.Protected("contentDiv"),lB=lN.Prop.Protected("fixedWidth"),lA=lN.Prop.Protected("fixedHeight"),lP=lN.Prop.Protected("stepType"),lp,lo,lr=lN.Prop.Protected("buttons"),lD=lN.Virtual.Public("generateHtml",function lD(){var lT=lu();var lU=lv();var lS=hs.to_html(lT,lU);return lS;}),lu=lN.Virtual.Protected("createHtmlTemplate"),lv=lN.Virtual.Protected("createTemplateData",function lv(){var lS=(e0(lp,"displayX",true)==true)||(e0(lp,"displayX","True")=="True")||(e0(lp,"displayX",1)==1);var lT={data:{title:lQ(),content:ls(),customHtml:ly(),stepIndexText:lO()},font:lq().Font,cssReset:lw,displayX:lS,colors:{mainBg:lq().Color,minorBg:lq().BalloonColor2,border:lq().BorderColor,header:lq().HeaderColor,content:lq().ContentColor,footerText:lq().FooterTextColor,buttonBg:lq().ButtonBgColor,buttonBg2:lq().ButtonBgColor2,buttonBorder:lq().ButtonBorderColor,buttonText:lq().ButtonTextColor},radiuses:{balloon:lq().BalloonRadius+"px",button:lq().BalloonButtonRadius+"px"},direction:{basic:lz(),side:(lz()=="rtl")?"right":"left",oppositeSide:(lz()=="rtl")?"left":"right"},poweredBy:{showText:lq().showPoweredByFormat=="txt",link:lq().showPoweredBy?"http://www.walkme.com/?u="+lR():""},buttons:lr().buttonsArr,border:{size:lq().BalloonBorderWidth+"px"}};return lT;}),lM=lN.Virtual.Public("manipulationsForInlineCss",function(){}),lG=lN.Protected("getCustomDivHtml",function lG(lS){return"<div class='walkme-custom-balloon-custom-div-"+lS+"' style='display:none;' ></div>";}),lE=lN.Virtual.Protected("generateNormalButtonClasses",function lE(lT,lS){return lC(lT,lS);}),lJ=lN.Public("initButtons",function lJ(lT){var lS={back:lT.backButton,next:lT.nextButton,done:lT.doneButton,submit:lT.submitButton};lr(lF(lP()==ke.Popup,lS));});function lx(lS){lL(lS.lib);lQ(lS.balloonData.title);ls(lS.balloonData.content);ly(lS.balloonData.customHtml);lO(lS.balloonData.stepIndexText);lq(lS.balloonSettings);lz(lS.balloonSettings.direction);lR(lS.userGuid);lP(lS.stepType);lp=lS.settings;lo=lS.end;}function lF(lW,lU){var lZ={};lZ.nextButton=lZ.doneButton=lZ.backButton=lZ.submitButton=false;lZ.buttonsArr=[];if(lW){var lY=e0(lp,"popupStepButtons",[]);for(var lV=0;lV<lY.length;lV++){var lT=lY[lV];if(lT.action==0){var lX=lH(false,lU.next,lU.done,false);lZ.nextButton=lX.nextButton;lZ.doneButton=lX.doneButton;if(lX.buttonsArr.length>0){lZ.buttonsArr.push(lX.buttonsArr[0]);}}else{if(lT.action==2){var lS=lH(lU.back,false,false,false);lZ.backButton=lS.backButton;if(lS.buttonsArr.length>0){lZ.buttonsArr.push(lS.buttonsArr[0]);}}else{lZ.buttonsArr.push(lI(lT));}}}}else{lZ=lH(lU.back,lU.next,lU.done,lU.submit);}return lZ;}function lH(lT,lV,lU,lW){var lS={};lS.backButton=lS.nextButton=lS.doneButton=lS.submitButton=false;lS.buttonsArr=[];if(lT){lS.backButton={order:2,weak:true,classes:lE("back","weak"),buttonText:ad.BackButtonText};lS.buttonsArr.push(lS.backButton);}if(lV){lS.nextButton={order:3,normal:true,classes:lE("next","normal"),buttonText:ad.NextButtonText};if(lK()){lS.nextButton.buttonText=ad.DoneButtonText;}lS.buttonsArr.push(lS.nextButton);}if(lU){lS.doneButton={order:3,normal:true,classes:lE("done","normal"),buttonText:ad.DoneButtonText};lS.buttonsArr.push(lS.doneButton);}if(lW){lS.submitButton={order:4,normal:true,classes:lE("submit","normal"),buttonText:ad.SubmitButtonText};lS.buttonsArr.push(lS.submitButton);}return lS;}function lI(lT){var lS=lT.action||-1,lU=lT.name||"";switch(parseInt(lS)){case 1:return{order:4,normal:true,classes:lC("start","normal"),buttonText:ad.WelcomeStepButtonStartText};case 3:return{order:1,weak:true,classes:lC("cancel","weak"),buttonText:ad.WelcomeStepButtonCancelText};case 4:return{order:4,normal:true,classes:lE("submit","normal"),buttonText:ad.SubmitButtonText};case 5:return{order:4,normal:true,classes:lC("redirect","normal"),buttonText:lT.name};case 6:return{order:2,weak:true,classes:lC("stay","weak"),buttonText:lT.name};case 7:return{order:4,normal:true,classes:lC("ok","normal"),buttonText:lT.name};}return{order:2,normal:true,classes:"walkme-custom-balloon-button walkme-custom-balloon-normal-button",buttonText:lU};}function lC(lT,lS){return"walkme-custom-balloon-button walkme-custom-balloon-"+lS+"-button walkme-custom-balloon-"+lT+"-button walkme-action-"+lT;}function lK(){var lS=e0(lp,"isNextToDone","0");return(lS=="1");}lx.apply(null,arguments);}function bb(){this.LocalSVNRevision="$Rev: 3380 $";var lx=new lb(this),lo,lp,lt=lx.Override("generateHtml",function lt(){return(lo.customHtml()&&lo.customHtml().inner)||lo.generateHtml();}),lu=lx.Override("generateNormalButtonClasses",function lu(lz,ly){return lo.generateNormalButtonClasses(lz,ly)+" mt-custom-balloon-"+lz+"-button CUSTOM-STEP-ID";}),lr=lx.Override("createTemplateData",function lr(){var lB=lo.createTemplateData();lB.outerDiv=lo.getCustomDivHtml("outer-div");lB.title=lo.getCustomDivHtml("title");lB.content=lo.getCustomDivHtml("content");lB.poweredBy.showImage=lo.balloonSettings().showPoweredByFormat=="img";lB.buttonShadowWidth=lo.balloonSettings().ButtonShadowWidth;lB.serverName=p;var ly=(lo.direction()=="rtl")?"right":"left";lB.data.stepIndexText=lw(lo.stepIndexText(),lo.direction(),ly);lB.ie7LayoutFix="overflow: auto;zoom: 1;";lB.buttonsExist=lo.buttons().buttonsArr.length>0;lB.showBottomDiv=!((lo.balloonSettings().showPoweredByFormat=="no")&&(lo.stepIndexText().length==0));dw(lp,"ButtonBgColor");dw(lp,"ButtonBgColor2");var lz=lp.ButtonBgColor,lA=lp.ButtonBgColor2;if(lz==lA){lB.BackgroundCSS=" background-color: "+lz+"; ";}else{lB.BackgroundCSS="background:-moz-linear-gradient(top, "+lz+" , "+lA+" ); background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+lz+"), color-stop(100%,"+lA+")); background:-webkit-linear-gradient(top, "+lz+" 0%,"+lA+" 100%); background:-o-linear-gradient(top, "+lz+" 0%,"+lA+" 100%); background:-ms-linear-gradient(top, "+lz+" 0%,"+lA+" 100%); background:linear-gradient(to bottom, "+lz+" 0%,"+lA+' 100%); filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="'+lz+'", endColorstr="'+lA+'",GradientType=0 ); ';if(!gr()){lB.radiuses.button="0";}if(bP.isGradientUsingFilter(lB.BackgroundCSS)){lB.BackgroundCSS+="background: url("+p+"/player/resources/images/spacer.gif) repeat;";}}return lB;}),lq=lx.Override("createHtmlTemplate",function lq(){var ly=function(lA,lC,lB){var lz=this;lz.b(lB=lB||"");lz.b(lz.t(lz.f("outerDiv",lA,lC,0)));lz.b("<div class='walkme-custom-balloon-top-div mt-custom-balloon-top-div CUSTOM-STEP-ID' style='text-align: ");lz.b(lz.v(lz.d("direction.side",lA,lC,0)));lz.b(";padding-top:5px; padding-");lz.b(lz.v(lz.d("direction.oppositeSide",lA,lC,0)));lz.b(": 3px; padding-bottom: 1px; padding-");lz.b(lz.v(lz.d("direction.side",lA,lC,0)));lz.b(": 7px;margin:3px 3px 0 3px;direction: ");lz.b(lz.v(lz.d("direction.basic",lA,lC,0)));lz.b(";'><div class='walkme-custom-balloon-content-wrapper' style='min-height: ");if(lz.s(lz.f("buttonsExist",lA,lC,1),lA,lC,0,388,390,"{{ }}")){lz.rs(lA,lC,function(lE,lF,lD){lD.b("30");});lA.pop();}if(!lz.s(lz.f("buttonsExist",lA,lC,1),lA,lC,1,0,0,"")){lz.b("0");}lz.b("px;'>");if(lz.s(lz.f("displayX",lA,lC,1),lA,lC,0,460,804,"{{ }}")){lz.rs(lA,lC,function(lE,lF,lD){lD.b("<div class='walkme-custom-balloon-close-button walkme-action-close mt-custom-balloon-close-button CUSTOM-STEP-ID walkme-action-close' style='opacity:0.7; font-size: 16px; position: absolute; top: 2px; ");lD.b(lD.v(lD.d("direction.oppositeSide",lE,lF,0)));lD.b(": 8px; cursor: pointer;color:");lD.b(lD.v(lD.d("colors.content",lE,lF,0)));lD.b(";font-weight:normal;font-family:;' title='Stop Walk-thru'>&#215;</div>");});lA.pop();}lz.b("<div class='walkme-custom-balloon-title mt-custom-balloon-title CUSTOM-STEP-ID' style='text-align: ");lz.b(lz.v(lz.d("direction.side",lA,lC,0)));lz.b(";font-weight:bold;margin-top:2px;margin-");lz.b(lz.v(lz.d("direction.oppositeSide",lA,lC,0)));lz.b(":14px;font-size:15px;color:");lz.b(lz.v(lz.d("colors.header",lA,lC,0)));lz.b(";font-family:");lz.b(lz.t(lz.f("font",lA,lC,0)));lz.b(";'>");lz.b(lz.t(lz.f("title",lA,lC,0)));lz.b(lz.t(lz.d("data.title",lA,lC,0)));lz.b("</div>");if(lz.s(lz.d("data.content",lA,lC,1),lA,lC,0,1120,1415,"{{ }}")){lz.rs(lA,lC,function(lE,lF,lD){lD.b("<div class='walkme-custom-balloon-content mt-custom-balloon-content CUSTOM-STEP-ID' style='text-align: ");lD.b(lD.v(lD.d("direction.side",lE,lF,0)));lD.b(";margin-top: 4px; margin-");lD.b(lD.v(lD.d("direction.oppositeSide",lE,lF,0)));lD.b(": 6px; font-family:");lD.b(lD.v(lD.f("font",lE,lF,0)));lD.b(";font-size:14px;color:");lD.b(lD.v(lD.d("colors.content",lE,lF,0)));lD.b(";");lD.b(lD.v(lD.f("ie7LayoutFix",lE,lF,0)));lD.b("'>");lD.b(lD.t(lD.f("content",lE,lF,0)));lD.b(lD.t(lD.d("data.content",lE,lF,0)));lD.b("</div>");});lA.pop();}lz.b("</div><div class='walkme-custom-balloon-top-div-bottom mt-custom-balloon-top-div-bottom CUSTOM-STEP-ID' style='clear: both;'>");if(!lz.s(lz.f("buttonsExist",lA,lC,1),lA,lC,1,0,0,"")){lz.b("<div class='walkme-custom-balloon-no-buttons-div' style='height: 10px'></div>");}if(lz.s(lz.f("buttonsExist",lA,lC,1),lA,lC,0,1685,2688,"{{ }}")){lz.rs(lA,lC,function(lE,lF,lD){lD.b("<div class='walkme-custom-balloon-buttons-div mt-custom-balloon-buttons-div CUSTOM-STEP-ID' style='clear:both;padding:5px;text-align:");lD.b(lD.v(lD.d("direction.oppositeSide",lE,lF,0)));lD.b(";direction:");lD.b(lD.v(lD.d("direction.basic",lE,lF,0)));lD.b("'>");if(lD.s(lD.f("buttons",lE,lF,1),lE,lF,0,1888,2670,"{{ }}")){lD.rs(lE,lF,function(lH,lI,lG){lG.b("<button class='");lG.b(lG.v(lG.f("classes",lH,lI,0)));lG.b("' type='button' style='");lG.b(lG.t(lG.f("cssReset",lH,lI,0)));lG.b(";-moz-border-radius:");lG.b(lG.v(lG.d("radiuses.button",lH,lI,0)));lG.b("; -webkit-border-radius:");lG.b(lG.v(lG.d("radiuses.button",lH,lI,0)));lG.b("; border-radius:");lG.b(lG.v(lG.d("radiuses.button",lH,lI,0)));lG.b("; direction: ");lG.b(lG.v(lG.d("direction.basic",lH,lI,0)));lG.b(";");lG.b(lG.v(lG.f("BackgroundCSS",lH,lI,0)));lG.b("-moz-box-shadow: 0 0 ");lG.b(lG.v(lG.f("buttonShadowWidth",lH,lI,0)));lG.b("px rgba(0, 0, 0, 0.4); -webkit-box-shadow: 0 0 ");lG.b(lG.v(lG.f("buttonShadowWidth",lH,lI,0)));lG.b("px rgba(0, 0, 0, 0.4); box-shadow: 0 0 ");lG.b(lG.v(lG.f("buttonShadowWidth",lH,lI,0)));lG.b("px rgba(0, 0, 0, 0.4); border: 1px solid ");lG.b(lG.v(lG.d("colors.buttonBorder",lH,lI,0)));lG.b("; color: ");lG.b(lG.v(lG.d("colors.buttonText",lH,lI,0)));lG.b("; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal; font-family: Arial; margin-");lG.b(lG.v(lG.d("direction.side",lH,lI,0)));lG.b(": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static; overflow: visible;' ");lG.b(lG.v(lG.f("wtIdAttribute",lH,lI,0)));lG.b(">");lG.b(lG.t(lG.f("buttonText",lH,lI,0)));lG.b("</button>");});lE.pop();}lD.b("</div>");});lA.pop();}lz.b("</div></div>");if(lz.s(lz.f("showBottomDiv",lA,lC,1),lA,lC,0,2735,4315,"{{ }}")){lz.rs(lA,lC,function(lE,lF,lD){lD.b("<div class='walkme-custom-balloon-separator' style='display: block; margin: 0 10px; height: 1px; opacity: 0.2; filter: alpha(opacity=20); background-color: ");lD.b(lD.v(lD.d("colors.footerText",lE,lF,0)));lD.b("; line-height: 0px;'>&#160;</div><div class='walkme-custom-balloon-bottom-div' style='position: relative; height: 23px; display: block;'><div class='walkme-custom-balloon-subtext mt-custom-balloon-subtext CUSTOM-STEP-ID' style='text-align: ");lD.b(lD.v(lD.d("direction.side",lE,lF,0)));lD.b("; position: absolute; ");lD.b(lD.v(lD.d("direction.side",lE,lF,0)));lD.b(": 10px; display:inline-block;font-family: ");lD.b(lD.t(lD.f("font",lE,lF,0)));lD.b(";font-size:10px;margin-top:3px;margin-bottom:0px;color: ");lD.b(lD.v(lD.d("colors.footerText",lE,lF,0)));lD.b("'>");lD.b(lD.t(lD.d("data.stepIndexText",lE,lF,0)));lD.b("</div><div class='walkme-custom-balloon-powered-by-div mt-custom-balloon-powered-by-div CUSTOM-STEP-ID' style='display:inline-block;position: absolute; ");lD.b(lD.v(lD.d("direction.oppositeSide",lE,lF,0)));lD.b(": 10px; top: 3px;text-decoration:none;font-family:");lD.b(lD.t(lD.f("font",lE,lF,0)));lD.b(";font-size:10px;opacity: 0.9; width:100px; color:");lD.b(lD.v(lD.d("color.content",lE,lF,0)));lD.b(";text-align: ");lD.b(lD.v(lD.d("direction.oppositeSide",lE,lF,0)));lD.b(" '>");if(lD.s(lD.d("poweredBy.link",lE,lF,1),lE,lF,0,3730,3979,"{{ }}")){lD.rs(lE,lF,function(lH,lI,lG){lG.b("<a class='walkme-custom-balloon-powered-by-link mt-custom-balloon-powered-by-link CUSTOM-STEP-ID' href='");lG.b(lG.v(lG.d("poweredBy.link",lH,lI,0)));lG.b("' target='_blank' style='text-decoration:none;font-family:");lG.b(lG.t(lG.f("font",lH,lI,0)));lG.b(";font-size:10px;opacity: 0.9; color:");lG.b(lG.v(lG.d("colors.footerText",lH,lI,0)));lG.b("'>");});lE.pop();}if(lD.s(lD.d("poweredBy.showText",lE,lF,1),lE,lF,0,4021,4034,"{{ }}")){lD.rs(lE,lF,function(lH,lI,lG){lG.b("By WalkMe.com");});lE.pop();}if(lD.s(lD.d("poweredBy.showImage",lE,lF,1),lE,lF,0,4081,4237,"{{ }}")){lD.rs(lE,lF,function(lH,lI,lG){lG.b("<div title='WalkMe.com' style='border: none; background-image: url(");lG.b(lG.v(lG.f("serverName",lH,lI,0)));lG.b("/player/resources/images/by-walkme.png); width: 49px; height: 18px;'></div>");});lE.pop();}if(lD.s(lD.d("poweredBy.link",lE,lF,1),lE,lF,0,4280,4284,"{{ }}")){lD.rs(lE,lF,function(lH,lI,lG){lG.b("</a>");});lE.pop();}lD.b("</div></div>");});lA.pop();}return lz.fl();};return ly;});function ls(ly){lx.Extends(bd,ly);lo=lx._base;lp=ly.balloonSettings;}function lw(lz,ly,lA){ly="direction:"+ly+";";return lv(lz,ly,lA);}function lv(lA,ly,lB){if((lA.indexOf(ku)>-1)&&(lA.indexOf(kt)>-1)&&(lA.indexOf(kw)>-1)&&(lA.indexOf(kv)>-1)){lB="float:"+lB+";";var lz="<span style='"+lB+"'>&nbsp;</span>";lA="<div class='walkme-custom-balloon-current-step-text' style='"+ly+lB+"'>"+lA;lA=lA.replace(ku,"</div>"+lz+"<div class='walkme-custom-balloon-current-step-number' style='"+lB+"'>");lA=lA.replace(kt,"</div>"+lz+"<div class='walkme-custom-balloon-total-steps-text' style='"+ly+lB+"'>");lA=lA.replace(kw,"</div>"+lz+"<div class='walkme-custom-balloon-total-steps-number' style='"+lB+"'>");lA=lA.replace(kv,"</div>");lA=lA+"<div style='clear:both;'></div>";}return lA;}ls.apply(null,arguments);}function bc(){this.LocalSVNRevision="$Rev: 3380 $";var lx=new lb(this),lo,lw=8,ly={None:0,Shadow:1,Glow:2},lq=lx.Prop.Public("contentMargin",15),lv=lx.Override("manipulationsForInlineCss",function lv(lA){if(lo.lib().getCommonUtils().isIe7or8()){return;}var lC=lo.balloonSettings();var lB=new bH();lB.addClickAndHover({regularColor:lC.ButtonBgColor,hoverColor:lC.ButtonBgHoverColor,clickColor:lC.ButtonBgClickColor,cssProperty:"background-color",elemSelector:".walkme-custom-balloon-normal-button",balloonDiv:lA});lB.addClickAndHover({regularColor:lC.FooterTextColor,hoverColor:lC.FooterTextHoverColor,clickColor:lC.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-powered-by",balloonDiv:lA});lB.addClickAndHover({regularColor:lC.XButtonColor,hoverColor:lC.XButtonHoverColor,clickColor:lC.XButtonClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-close-button",balloonDiv:lA});lB.addClickAndHover({regularColor:lC.FooterTextColor,hoverColor:lC.FooterTextHoverColor,clickColor:lC.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-weak-button",balloonDiv:lA});}),lt=lx.Override("createTemplateData",function lt(){var lB=lo.createTemplateData();lB.outerDiv=lo.getCustomDivHtml("inner-div");lB.title=lo.getCustomDivHtml("title");lB.colors.xBtn=lo.balloonSettings().XButtonColor;lB.colors.stepInfo=lo.balloonSettings().StepInfoColor;lB.colors.separator=lo.balloonSettings().SeparatorColor;lB.stepIndexHeight=46;lB.top={minHeight:57,textAlign:lB.direction.side,title:{paddingTop:12},content:{sideMargin:lq(),oppositeSideMargin:lq()-2}};if(lB.data.title&&!lB.data.content){lB.top.minHeight=43;}lB.bottom={};lB.bottom.stepIndexMarginTop=10;if(!gc(lB.buttons)||lB.buttons.length==0){lB.stepIndexHeight-=lw;lB.bottom.stepIndexMarginTop-=(lw/2);}lB.stepIndexHeight+="px";lB.bottom.poweredByHeight+="px";lB.xBtn={marginTop:lo.balloonSettings().BalloonBorderWidth+"px",marginHorizental:parseInt(lo.balloonSettings().BalloonBorderWidth)+4+"px"};var lA=lo.balloonSettings().BalloonBorderWidth-4;if(lA<0){lA=0;}lB.border.side={size:lA+"px"};lB.shadow=lp(lo.balloonSettings().ShadowType,lo.balloonSettings().ShadowLevel,lo.balloonSettings().ShadowColor);lB.isNotIe7=(dZ()!="IE 7");lz();lB.buttonsHtml=lr(lB);return lB;}),ls=lx.Override("createHtmlTemplate",function ls(){var lA=function(lC,lE,lD){var lB=this;lB.b(lD=lD||"");lB.b("<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-v3' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" width: auto; min-width: 190px; position: absolute; direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b(";'><div class='walkme-custom-balloon-mid-div' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b("; position: relative; ");if(lB.s(lB.f("shadow",lC,lE,1),lC,lE,0,304,388,"{{ }}")){lB.rs(lC,lE,function(lG,lH,lF){lF.b("-webkit-box-shadow: ");lF.b(lF.v(lF.f("shadow",lG,lH,0)));lF.b("; -moz-box-shadow: ");lF.b(lF.v(lF.f("shadow",lG,lH,0)));lF.b("; box-shadow: ");lF.b(lF.v(lF.f("shadow",lG,lH,0)));lF.b(";");});lC.pop();}lB.b(" font-family: ");lB.b(lB.t(lB.f("font",lC,lE,0)));lB.b("; border-radius:");lB.b(lB.v(lB.d("radiuses.balloon",lC,lE,0)));lB.b("; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b("; background-color:");lB.b(lB.v(lB.d("colors.mainBg",lC,lE,0)));lB.b("; border:");lB.b(lB.v(lB.d("border.size",lC,lE,0)));lB.b(" solid ");lB.b(lB.v(lB.d("colors.border",lC,lE,0)));lB.b("; border-radius:");lB.b(lB.v(lB.d("radiuses.balloon",lC,lE,0)));lB.b("; border-");lB.b(lB.v(lB.d("position.side",lC,lE,0)));lB.b(": none; overflow: hidden;'>");if(lB.s(lB.d("data.customHtml.inner",lC,lE,1),lC,lE,0,776,803,"{{ }}")){lB.rs(lC,lE,function(lG,lH,lF){lF.b(lF.t(lF.d("data.customHtml.inner",lG,lH,0)));});lC.pop();}if(!lB.s(lB.d("data.customHtml.inner",lC,lE,1),lC,lE,1,0,0,"")){lB.b(lB.t(lB.f("outerDiv",lC,lE,0)));lB.b("<div class='walkme-custom-balloon-top-div' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b("; background-color:");lB.b(lB.v(lB.d("colors.mainBg",lC,lE,0)));lB.b("; border-radius:");lB.b(lB.v(lB.d("radiuses.balloon",lC,lE,0)));lB.b(";'><div class='walkme-custom-balloon-content-wrapper' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b("; min-height: ");lB.b(lB.v(lB.d("top.minHeight",lC,lE,0)));lB.b("px;'>");if(lB.s(lB.f("displayX",lC,lE,1),lC,lE,0,1191,1575,"{{ }}")){lB.rs(lC,lE,function(lG,lH,lF){lF.b("<div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close' style='");lF.b(lF.t(lF.f("cssReset",lG,lH,0)));lF.b(" font-size: 12px; color: ");lF.b(lF.v(lF.d("colors.xBtn",lG,lH,0)));lF.b("; position: absolute; ");lF.b(lF.v(lF.d("direction.oppositeSide",lG,lH,0)));lF.b(": 0px; top: 0px; padding-");lF.b(lF.v(lF.d("direction.oppositeSide",lG,lH,0)));lF.b(": ");lF.b(lF.v(lF.d("xBtn.marginHorizental",lG,lH,0)));lF.b("; margin-top: ");lF.b(lF.v(lF.d("xBtn.marginTop",lG,lH,0)));lF.b("; cursor: pointer;font-weight:normal;' title='Stop Walk-thru'>&#215;</div>");});lC.pop();}lB.b("<div class='walkme-custom-balloon-title' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b("; padding-top:");lB.b(lB.v(lB.d("top.title.paddingTop",lC,lE,0)));lB.b("px; padding-");lB.b(lB.v(lB.d("direction.side",lC,lE,0)));lB.b(": 15px; padding-");lB.b(lB.v(lB.d("direction.oppositeSide",lC,lE,0)));lB.b(": 13px; text-align: ");lB.b(lB.v(lB.d("top.textAlign",lC,lE,0)));lB.b("; font-size:14px; color:");lB.b(lB.v(lB.d("colors.header",lC,lE,0)));lB.b(";'>");lB.b(lB.t(lB.d("data.title",lC,lE,0)));lB.b(lB.t(lB.f("title",lC,lE,0)));lB.b("</div>");if(lB.s(lB.d("data.content",lC,lE,1),lC,lE,0,1922,2306,"{{ }}")){lB.rs(lC,lE,function(lG,lH,lF){lF.b("<div class='walkme-custom-balloon-content' style='");lF.b(lF.t(lF.f("cssReset",lG,lH,0)));lF.b(" direction: ");lF.b(lF.v(lF.d("direction.basic",lG,lH,0)));lF.b("; text-align: ");lF.b(lF.v(lF.d("top.textAlign",lG,lH,0)));lF.b("; margin-top: 2px; margin-");lF.b(lF.v(lF.d("direction.side",lG,lH,0)));lF.b(": ");lF.b(lF.v(lF.d("top.content.sideMargin",lG,lH,0)));lF.b("px; margin-");lF.b(lF.v(lF.d("direction.oppositeSide",lG,lH,0)));lF.b(": ");lF.b(lF.v(lF.d("top.content.oppositeSideMargin",lG,lH,0)));lF.b("px; line-height: 18px; font-size:12px; color:");lF.b(lF.v(lF.d("colors.content",lG,lH,0)));lF.b(";overflow: auto;zoom: 1;'>");lF.b(lF.t(lF.d("data.content",lG,lH,0)));lF.b("</div>");});lC.pop();}lB.b("</div></div><div class='walkme-custom-balloon-separator' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" background-color:");lB.b(lB.v(lB.d("colors.separator",lC,lE,0)));lB.b(";  height:1px; margin-top:10px;  font-family: Arial; font-size: 1px;'></div><div class='walkme-custom-balloon-bottom-div' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" background-color:");lB.b(lB.v(lB.d("colors.minorBg",lC,lE,0)));lB.b(";'><div class='walkme-custom-balloon-subtext' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" color: ");lB.b(lB.v(lB.d("colors.stepInfo",lC,lE,0)));lB.b("; font-size: 9px; margin-top: ");lB.b(lB.v(lB.d("bottom.stepIndexMarginTop",lC,lE,0)));lB.b("px; margin-");lB.b(lB.v(lB.d("direction.side",lC,lE,0)));lB.b(": 10px; float: ");lB.b(lB.v(lB.d("direction.side",lC,lE,0)));lB.b(";'>");lB.b(lB.v(lB.d("data.stepIndexText",lC,lE,0)));lB.b("</div><div class='walkme-custom-balloon-top-div-bottom' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" text-align: ");lB.b(lB.v(lB.d("direction.oppositeSide",lC,lE,0)));lB.b("; direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b(";'><div class='walkme-custom-balloon-buttons-wrapper' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" text-align: ");lB.b(lB.v(lB.d("direction.oppositeSide",lC,lE,0)));lB.b("; direction: ");lB.b(lB.v(lB.d("direction.basic",lC,lE,0)));lB.b("; margin-");lB.b(lB.v(lB.d("direction.oppositeSide",lC,lE,0)));lB.b(": 6px;'>");lB.b(lB.t(lB.f("buttonsHtml",lC,lE,0)));lB.b("</div></div><div class='walkme-custom-balloon-bottom-clear' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" clear: both'></div></div>");}lB.b("</div><div class='walkme-custom-side-border' style='");lB.b(lB.t(lB.f("cssReset",lC,lE,0)));lB.b(" background-color:");lB.b(lB.v(lB.d("colors.buttonBg",lC,lE,0)));lB.b("; width: 4px; height: 100%;  top:0px; ");lB.b(lB.v(lB.d("direction.side",lC,lE,0)));lB.b(":0px; border:");lB.b(lB.v(lB.d("border.side.size",lC,lE,0)));lB.b(" solid ");lB.b(lB.v(lB.d("colors.buttonBg",lC,lE,0)));lB.b("; border-");lB.b(lB.v(lB.d("direction.oppositeSide",lC,lE,0)));lB.b(": none; border-top: none; border-bottom: none; position: absolute;'></div></div>");if(lB.s(lB.d("data.customHtml.outter",lC,lE,1),lC,lE,0,3705,3733,"{{ }}")){lB.rs(lC,lE,function(lG,lH,lF){lF.b(lF.t(lF.d("data.customHtml.outter",lG,lH,0)));});lC.pop();}lB.b("</div>");return lB.fl();};return lA;});function lu(lA){lx.Extends(bd,lA);lo=lx._base;}function lz(){lo.buttons().buttonsArr.sort(function(lA,lB){return lA.order-lB.order;});}function lr(lC){var lB=function(lE,lG,lF){var lD=this;lD.b(lF=lF||"");if(lD.s(lD.f("buttons",lE,lG,1),lE,lG,0,12,906,"{{ }}")){lD.rs(lE,lG,function(lI,lJ,lH){lH.b("<button class='");lH.b(lH.v(lH.f("classes",lI,lJ,0)));lH.b(" walkme-click-and-hover' type='button' style='");lH.b(lH.t(lH.f("cssReset",lI,lJ,0)));lH.b(" zoom: 1; border: none; margin-top: 6px; margin-bottom: 6px; height: 21px; font-family: inherit; cursor: pointer; display: inline-block; direction: ");lH.b(lH.v(lH.d("direction.basic",lI,lJ,0)));lH.b(";");if(lH.s(lH.f("normal",lI,lJ,1),lI,lJ,0,277,513,"{{ }}")){lH.rs(lI,lJ,function(lL,lM,lK){lK.b("text-align:center; background-color: ");lK.b(lK.v(lK.d("colors.buttonBg",lL,lM,0)));lK.b("; color: ");lK.b(lK.v(lK.d("colors.buttonText",lL,lM,0)));lK.b("; border-radius:");lK.b(lK.v(lK.d("radiuses.button",lL,lM,0)));lK.b("; margin-");lK.b(lK.v(lK.d("direction.side",lL,lM,0)));lK.b(": 7px; ");if(lK.s(lK.f("isNotIe7",lL,lM,1),lL,lM,0,445,461,"{{ }}")){lK.rs(lL,lM,function(lO,lP,lN){lN.b("min-width: 42px;");});lL.pop();}lK.b(" padding-left: 5px; padding-right: 5px;");});lI.pop();}if(lH.s(lH.f("weak",lI,lJ,1),lI,lJ,0,533,690,"{{ }}")){lH.rs(lI,lJ,function(lL,lM,lK){lK.b("text-align:");lK.b(lK.v(lK.d("direction.oppositeSide",lL,lM,0)));lK.b("; background:none; color: ");lK.b(lK.v(lK.d("colors.footerText",lL,lM,0)));lK.b("; margin-");lK.b(lK.v(lK.d("direction.side",lL,lM,0)));lK.b(": 3px; margin-");lK.b(lK.v(lK.d("direction.oppositeSide",lL,lM,0)));lK.b(": 2px;");});lI.pop();}lH.b("'><span class='walkme-custom-balloon-button-text' style='");lH.b(lH.t(lH.f("cssReset",lI,lJ,0)));lH.b(" direction: ");lH.b(lH.v(lH.d("direction.basic",lI,lJ,0)));lH.b("; text-align:center; font-size: 10px; position:relative; color:inherit;'>");lH.b(lH.t(lH.f("buttonText",lI,lJ,0)));lH.b("</span></button>");});lE.pop();}if(!lD.s(lD.f("buttons",lE,lG,1),lE,lG,1,0,0,"")){lD.b("<div class='walkme-custom-balloon-no-buttons-div' style='");lD.b(lD.t(lD.f("cssReset",lE,lG,0)));lD.b("'></div>");if(lD.s(lD.d("poweredBy.link",lE,lG,1),lE,lG,0,1028,1546,"{{ }}")){lD.rs(lE,lG,function(lI,lJ,lH){if(lH.s(lH.d("poweredBy.showText",lI,lJ,1),lI,lJ,0,1051,1523,"{{ }}")){lH.rs(lI,lJ,function(lL,lM,lK){lK.b("<div class='walkme-custom-powered-by-div' style='");lK.b(lK.t(lK.f("cssReset",lL,lM,0)));lK.b(" cursor: pointer; margin-top:6px; margin-bottom:6px; color:");lK.b(lK.v(lK.d("colors.footerText",lL,lM,0)));lK.b("; font-size:9px; display: inline-block; text-align: ");lK.b(lK.v(lK.d("direction.oppositeSide",lL,lM,0)));lK.b("'><a draggable='false' class='walkme-custom-powered-by walkme-click-and-hover' style='");lK.b(lK.t(lK.f("cssReset",lL,lM,0)));lK.b(" text-decoration:none; font-size: inherit; color:");lK.b(lK.v(lK.d("colors.footerText",lL,lM,0)));lK.b("; display: inline;' href='");lK.b(lK.v(lK.d("poweredBy.link",lL,lM,0)));lK.b("' target='_blank'>By WalkMe</a></div>");});lI.pop();}});lE.pop();}}return lD.fl();};var lA=hs.to_html(lB,lC);return lA;}function lp(lD,lB,lA){if(lD==ly.Shadow){switch(lB){case 0:return"1px 1px 3px 0px rgba(0, 0, 0, 0.2)";case 1:return"0px 0px 13px 0px rgba(0, 0, 0, 0.2)";case 2:return"0px 0px 13px 5px rgba(0, 0, 0, 0.2)";}}else{if(lD==ly.Glow){var lC=lo.lib().getUiUtils().hexToRgba(lA,0.6);switch(lB){case 0:return"0px 0px 7px 0px rgba"+lC;case 1:return"0px 0px 14px 0px rgba"+lC;case 2:return"0px 0px 26px 5px rgba"+lC;}}}}lu.apply(null,arguments);}function be(){this.LocalSVNRevision="$Rev: 3499 $";var l0=new lb(this),lS=l0.Prop.Protected("lib"),lv=l0.Prop.Protected("balloon"),lw=l0.Prop.Protected("balloonClass"),lx=l0.Prop.Protected("balloonSettings"),l1=l0.Prop.Protected("resourceManager"),lU=l0.Prop.Protected("logger"),lY=l0.Prop.Protected("minWidth"),lW=l0.Prop.Protected("maxWidth"),lX=l0.Prop.Public("minPopupWidth"),lu=l0.Prop.Public("arrowHeight"),lt=l0.Prop.Public("arrowBaseWidth"),lR=l0.Prop.Public("hasBorder"),lp=l0.Virtual.Protected("addBalloonDiv"),lT=l0.Virtual.Public("loadResources",function(l4,l3){if(l3){l3();}}),lO=l0.Virtual.Protected("getArrowsColors"),lJ=l0.Virtual.Public("fixSize",function lJ(l3,l5,l6,l8,l7){lK(l3,l5,l6,l8);lH(l3,l7);var l4={width:l3.width(),height:l3.height()};return l4;}),lK=l0.Virtual.Protected("fixWidth",function lK(l3,l5,l6,l7){var l4=0;if(lS().isQuirksMode(l5[0])){l4=lz(l3);}else{l4=l3.width();}var l8=0;if(!l7||l7<=0){l8=400;}else{l8=l7;}var l9=190;if(l4<l9){l4=l9;}if(l4>l8){l4=l8;}l3.css("width",l4+"px");if(!l7||l7<=0){var ma=0;mtjQuery.each(mtjQuery("[width], [style*=width], [style*=WIDTH]",l3),function(mb,mc){if(mtjQuery(mc).width()>ma){ma=mtjQuery(mc).width();}});if(ma>l4){lQ(ma,l3);}}}),lH=l0.Virtual.Protected("fixHeight",function lH(l3,l5){var l4=l3.height();if(l5&&l5>0){l4=l5;}l3.css("height",l4+"px");}),lQ=l0.Virtual.Protected("handleWiderElement",function lQ(l5,l3){var l4=mtjQuery(".walkme-custom-balloon-content",l3);l4.css("width",l5+"px");l3.css("width","auto");}),lM=l0.Public("generateHtml",function lM(l5){var l3={lib:lS(),balloonSettings:lx(),balloonData:l5.balloonData,userGuid:l5.userGuid,settings:l5.settings,end:l5.end,stepType:l5.stepType,contentDiv:l5.contentDiv};var l4={nextButton:l5.nextButton,doneButton:l5.doneButton,backButton:l5.backButton,submitButton:l5.submitButton};lv(new (lw())(l3));lv().initButtons(l4);return lv().generateHtml();}),lV=l0.Public("manipulationsForInlineCss",function lV(l3){return lv().manipulationsForInlineCss(l3);}),lL=l0.Public("generateBalloonDiv",function lL(l5,l4,l9,l7,l8,l6){var l3=lp(lM(l6),l5,l4);lq(l3,l9,l7,l8,l6);return l3;}),lq=l0.Virtual.Protected("addIdentifiers",function lq(l3,l8,l6,l7,l4){l3.attr("id","walkme-balloon-"+l6);l3.addClass("walkme-custom-walkthru-"+l8);l3.addClass("walkme-custom-step-"+l6);var l9=(l7==ke.Popup)?"popup":"simple";l3.addClass("walkme-custom-"+l9+"-step");var l5=lS().getCurrentLanguage()||"default";l3.addClass("walkme-custom-language-"+l5);kY.addBrowserSpecificClasses(l3);ls(l3,l4);}),lo=l0.Virtual.Protected("addArrowClasses",function lo(l3,l4,l5,l6){l3.addClass("walkme-custom-balloon-arrow");l3.addClass("walkme-custom-balloon-arrow-"+l5);l3.addClass("walkme-custom-balloon-arrow-"+l4);l3.addClass("walkme-custom-balloon-arrow-"+l4+"-"+l5);l3.addClass("walkme-custom-step-"+l6);}),lG=l0.Virtual.Public("fixArrows",function(){}),lI=l0.Virtual.Public("fixQuirksMode",function(){}),lF=l0.Virtual.Protected("finalizeArrowsPosition",function(){}),lE=l0.Virtual.Public("drawArrows",function lE(mc,mf,ma,l9,md,l8){var l5=lN(ma,l9,md,mc);var mb={top:l5.top,left:l5.left};if(ma.positionType==h1.Top){mb.top=l5.top;l5.top=l5.top-lx().BalloonBorderWidth+1;mb.left=l5.left-1;}if(ma.positionType==h1.Bottom){l5.top=l5.top+lx().BalloonBorderWidth-1;mb.top=l5.top-lx().BalloonBorderWidth;mb.left=l5.left-1;}if(ma.positionType==h1.Left){if(lS().isQuirksMode(mc[0])){l5.left=l5.left-lx().BalloonBorderWidth+1;mb.left=l5.left+lx().BalloonBorderWidth;mb.top=l5.top-1;}else{l5.left=l5.left-lx().BalloonBorderWidth+1;mb.left=l5.left+lx().BalloonBorderWidth-1;mb.top=l5.top-1;}}if(ma.positionType==h1.Right){l5.left=l5.left+lx().BalloonBorderWidth-1;mb.left=l5.left-lx().BalloonBorderWidth;mb.top=l5.top-1;}lF(ma.positionType,l5,mb);var l3="";var l4=null;var me=ce[ma.positionType];var l7=lO(me);if(lx().BalloonBorderWidth>0){l4=lD(mb,ma,l8,l7.outterArrow,lu()+1,lu()+1);lo(l4,"outer",me,mf);}l3=lD(l5,ma,l8,l7.innerArrow,lu(),lu());lo(l3,"inner",me,mf);cY(mc,"arrowDiv",l3);if(l4){cY(mc,"arrowDiv2",l4);}var l6=[l3];if(l4){l6.push(l4);}return l6;}),lP=l0.Protected("getBalloonBasicWidth",function lP(l3,l5,l6){var l4=0;if(lS().isQuirksMode(l5[0])){l4=lz(l3);}else{l4=l3.width();}var l7=0;if(l6||l6<=0){l7=lW();}else{l7=l6;}if(l4<lY()){l4=lY();}if(l4>l7){l4=l7;}return l4;}),l2=l0.Public("setConfiguration",function l2(l3){lS().FixConfiguration(l3);lx(l3);lT();}),lC=l0.Public("decideWhereToPopForCaptureBalloon",function lC(l8,l3,mh,mb){try{var l6=l8[0];var md=l6.getBoundingClientRect();var l5=ek(l8);var me=eM(l6,l5,window);var l4={width:mh,height:mb};var mg=mtjQuery(document);mg.height=mg.height();mg.width=mg.width();mg.top=0;mg.left=0;var ma=mg;var l9=ej(md,me);var mc=lu()+1;var mf=lB(l9,l4,l3,mc,ma,true);return mf;}catch(l7){ao.Logger.error(l7);}}),lr=l0.Public("addPositionClass",function lr(l3,l5){var l4="walkme-custom-position-"+ce[l5.positionType];l3.addClass(l4);});function lA(l3){lS(l3.lib);l1(l3.resourceManager);lU(l3.logger);lW(400);lR(true);l2(l3.balloonSettings);}function lz(l6){var l7=mtjQuery(".walkme-custom-balloon-title",l6).text();var mf=0;var ma=0;var md=0;var l4=mtjQuery(".walkme-custom-balloon-content",l6);if(l4.length>0){var l5=l4.html().replace(/<br*">/g,"< >").split("< >");for(var mc=0;mc<l5.length;mc++){var me=l5[mc].replace(/(<([^>]+)>)/ig,"").length;if(md<me){md=me;}}var l3=mtjQuery(".walkme-custom-balloon-content span",l6);if(l3.length>0){ma=parseInt(l3.css("font-size").replace(/px/,""));}else{ma=parseInt(l4.css("font-size").replace(/px/,""));}}var l8=mtjQuery(".walkme-custom-balloon-title span",l6);if(l8.length>0){mf=parseInt(l8.css("font-size").replace(/px/,""));}else{mf=parseInt(mtjQuery(".walkme-custom-balloon-title",l6).css("font-size").replace(/px/,""));}var l9=0;if(l7.length*mf>md*ma){l9=l7.length*mf;}else{l9=md*ma;}var mb=parseFloat(e0(ad.Settings,"quirksModeFactor",0.5));l9*=mb;return l9;}function lZ(l4,l5){var l3=0.5;if(l4==h0.Start){l3=1;}else{if(l4==h0.End){l3=0;}}if(l5==2||l5==3){l3=1-l3;}return l3;}function lD(l5,l6,l7,l8,mc,l9){var l3=new cg(mc,l9);l3.color=l8;var mb=l5.top;var ma=l5.left;if(l6.positionType==h1.Bottom){}if(l6.positionType==h1.Right){}l3.point_direction=l6.positionType;l3.angle=lZ(l6.positionOffset,l3.point_direction);var l4=l3.Generate(l7[0].ownerDocument);l4.css("top",mb+"px");l4.css("left",ma+"px");l4.css("display","none");mtjQuery(l7.append(l4));return l4;}function lN(l3,l4,l7,l6){var l8;var ma;if(l3.positionType==h1.Top||l3.positionType==h1.Bottom){var l9=l3.left+l4.width;l8=ly(l3.left,l9,lt(),l3.positionOffset,l7.width,l7.left);if(l3.positionType==h1.Top){ma=l3.top+l4.height;}else{ma=l3.top-lu();}}else{if(l3.positionType==h1.Left||l3.positionType==h1.Right){var l5=l3.top+l4.height;ma=ly(l3.top,l5,lt(),l3.positionOffset,l7.height,l7.top);if(l3.positionType==h1.Left){l8=l3.left+l4.width;if(ao.isQuirksMode(l6[0])){l8=l8-2;}}else{l8=l3.left-lu();}}}return{top:ma,left:l8};}function ly(l7,l6,l3,l8,l4,l5){var l9;if(l8==h0.Center){l9=(l6+l7-l3)/2;}else{if(l8==h0.Start){l9=l5+((l4-l3)/2);}else{if(l8==h0.End){l9=l5+((l4-l3)/2);}else{lU().error(null);}}}return l9;}function ls(l4,l5){var l3=l5.balloonData;if(!l3.title){l4.addClass("walkme-custom-no-title");}if(!l3.content&&(!l3.customHtml||(!l3.customHtml.inner&&!l3.customHtml.outter))){l4.addClass("walkme-custom-no-content");}if(!l5.nextButton&&!l5.backButton&&!l5.doneButton&&!l5.submitButton){l4.addClass("walkme-custom-no-buttons");}}var lB=l0.Public("decideWhereToPop",function lB(l6,l3,l4,mk,l5,mh){var l7=l6.left+l6.width/2;var l8=l6.top+l6.height/2;var l9=l6.bottom+l3.height+mk<l5.height+l5.top;var mc=l6.left-l3.width-mk>l5.left;var mf=l6.right+l3.width+mk<l5.width+l5.left;var mg=l6.top-l3.height-mk>l5.top;var ma=l7-(l3.width/2)>l5.left;var mb=l7+(l3.width/2)<l5.width+l5.left;var me=l8-(l3.height/2)>l5.top;var md=l8+(l3.height/2)<l5.height+l5.top;var mm;var ml;if(l4==h1.Top||l4==h1.Bottom){var mn;var mi;if(ma&&mb){mi=l7-l3.width/2;ml=h0.Center;}else{if(!ma){mi=l6.left;ml=h0.Start;}else{if(!mb){var mj=(l5.width+l5.left)-l6.right;mi=(l6.right-l3.width)+mj-1;ml=h0.End;}}}if(l4==h1.Top){mn=l6.top-l3.height-mk;mm=h1.Top;}else{mn=l6.bottom+mk;mm=h1.Bottom;}if(mh){if((mg&&l4==h1.Top)||(l4==h1.Bottom&&!l9)){mn=l6.top-l3.height-mk;mm=h1.Top;}else{mn=l6.bottom+mk;mm=h1.Bottom;}}return{top:Math.ceil(mn),left:Math.ceil(mi),positionType:mm,positionOffset:ml};}else{if(l4==h1.Right||l4==h1.Left){var mn;var mi;if(md&&me){mn=l8-l3.height/2;ml=h0.Center;}else{if(!md){mn=l6.top-lu()+2;ml=h0.End;}else{if(!me){mn=l6.top-lu()+2;ml=h0.Start;}}}if(l4==h1.Left){mi=l6.left-l3.width-mk;mm=h1.Left;}else{mi=l6.right+mk;mm=h1.Right;}if(mh){if((mc&&l4==h1.Left)||(l4==h1.Right&&!mf)){mi=l6.left-l3.width-mk;mm=h1.Left;}else{mi=l6.right+mk;mm=h1.Right;}}return{top:Math.ceil(mn),left:Math.ceil(mi),positionType:mm,positionOffset:ml};}}});lA.apply(null,arguments);}function a9(){this.LocalSVNRevision="$Rev: 3380 $";var lv=new lb(this),lo,lq=lv.Override("addBalloonDiv",function lq(lz,lx,ly){var lw=mtjQuery(lx[0].ownerDocument.createElement("div"));lw.addClass("walkme-custom-balloon-outer-div");lw.addClass("mt-custom-balloon-outer-div");lw.css("display","none");lw.css("direction","ltr");jF(lw,lo.balloonSettings(),ly);lo.lib().getUiUtils().setLangAttribute(lw);mtjQuery(lx.append(lw));lw.html(lz);return lw;}),lr=lv.Override("addIdentifiers",function lr(lw,lA,ly,lz,lx){lo.addIdentifiers(lw,lA,ly,lz,lx);wmjQuery("*",lw).addClass("walkme-custom-step-"+ly);}),lp=lv.Override("addArrowClasses",function lp(lw,lx,ly,lz){lo.addArrowClasses(lw,lx,ly,lz);lw.addClass("mt-custom-balloon-arrow-"+lx);}),lu=lv.Override("getArrowsColors",function lu(lz){var lw=lo.balloonSettings();var lx=(lw.BalloonColor2=="")?"transparent":lw.BalloonColor2;var ly=lw.BorderColor;switch(lz){case"bottom":lx=(lw.Color=="")?"transparent":lw.Color;break;case"top":break;case"left":case"right":if((lw.Color=="transparent")||(lw.BalloonColor2=="transparent")||(lw.Color=="#00000000")||(lw.BalloonColor2=="#00000000")){lx="transparent";}else{lx=ls(lw.Color,lw.BalloonColor2);}break;}return{innerArrow:lx,outterArrow:ly};});function lt(lw){lv.Extends(be,lw);lo=lv._base;lo.balloonClass(bb);lo.minWidth(190);lo.arrowHeight(13);lo.arrowBaseWidth(26);lo.minPopupWidth(400);}function ls(lz,lA){var lw=function(lK,lL){return(lK+lL)/2;};var lJ=function(lK){return parseInt((""+lK).replace("#",""),16);};var lD=function(lK){return(lK>>0).toString(16);};var lE=lJ(lz);var lF=lJ(lA);var lG=function(lK){return lK>>16&255;};var lB=function(lK){return lK>>8&255;};var lx=function(lK){return lK&255;};var lI=lD(lw(lG(lE),lG(lF)));var lC=lD(lw(lB(lE),lB(lF)));var ly=lD(lw(lx(lE),lx(lF)));var lH="#"+((lI.length<2)?("0"+lI):lI)+((lC.length<2)?("0"+lC):lC)+((ly.length<2)?("0"+ly):ly);return lH;}lt.apply(null,arguments);}function ba(){this.LocalSVNRevision="$Rev: 3440 $";var lC=new lb(this),lo,lp=190,lq=lC.Override("addBalloonDiv",function lq(lI,lG){var lH=lG[0].ownerDocument.createElement("div");lH=wmjQuery(lH);var lF=lH.html(lI).children();lo.lib().getUiUtils().setLangAttribute(lF);lF.css("display","none");lG.append(lF);return lF;}),lB=lC.Override("loadResources",function lB(lH,lF){var lG=lo.balloonSettings().FontsData;if(lG){lo.resourceManager().fonts(lG,lH,lF,lF);}else{if(lF){lF();}}}),lx=lC.Override("fixWidth",function lx(lF,lG,lH,lI){lo.fixWidth(lF,lG,lH,lI);lF.css("width",lF.width()+1+"px");}),ly=lC.Override("getArrowsColors",function ly(lJ){var lF=lo.balloonSettings();var lH=lF.Color;var lI=lF.BorderColor;var lG=lF.direction;switch(lJ){case"bottom":lH=lF.Color;break;case"top":lH=lF.BalloonColor2;break;case"left":if(lG=="ltr"){lH=lF.Color;}else{lH=lF.ButtonBgColor;lI=lF.ButtonBgColor;}break;case"right":if(lG=="ltr"){lH=lF.ButtonBgColor;lI=lF.ButtonBgColor;}else{lH=lF.Color;}break;}return{innerArrow:lH,outterArrow:lI};}),lt=lC.Override("fixArrows",function lt(lL){var lG=lL.balloonDiv;var lF=lL.arrowsDivs;var lM=lL.result;var lI=lL.isInCaptureMode;var lJ=lL.isQuirksMode;var lH=lo.balloonSettings().direction;var lK=((lM.positionType==h1.Left)||(lM.positionType==h1.Right));if(lK){lw(lG,lF,lM,lH,lJ);}else{if(lI&&(lM.positionType==h1.Top)){lu(lF);}}}),lv=lC.Override("fixQuirksMode",function lv(lF){var lH=wmjQuery(".walkme-custom-side-border, .walkme-custom-balloon-bottom-clear",lF);lH.hide();var lM=wmjQuery(".walkme-custom-powered-by-div",lF);if(lM.length>0){var lJ=lM.css("margin-bottom");var lK=lM.css("margin-top");lM.css("margin-bottom","0px").css("margin-top","0px");lM.css("padding-bottom",lJ).css("padding-top",lK);}var lI=wmjQuery(".walkme-custom-balloon-arrow-inner",lF.parent());var lL=wmjQuery(".walkme-custom-balloon-arrow-outer",lF.parent());var lG;if(lI.hasClass("walkme-custom-balloon-arrow-right")){lG="right";}else{if(lI.hasClass("walkme-custom-balloon-arrow-left")){lG="left";}else{return;}}lI.css("border-"+lG+"-color",lo.balloonSettings().Color);lL.css("border-"+lG+"-color",lo.balloonSettings().BorderColor);}),ls=lC.Override("finalizeArrowsPosition",function ls(lG,lF,lH){switch(lG){case h1.Top:lF.top--;break;case h1.Bottom:lF.top++;break;case h1.Left:lF.left--;break;case h1.Right:lF.left++;break;}}),lA=lC.Override("handleWiderElement",function lA(lJ,lF){var lH=mtjQuery(".walkme-custom-balloon-content",lF);var lI=mtjQuery(".walkme-custom-balloon-title",lF);lI.css("width","10px");lH.css("width",lJ+"px");lF.css("width","auto");var lG=lF.width();lF.css("width",lG+"px");lI.css("width","auto");});function lr(lF){lC.Extends(be,lF);lo=lC._base;lo.balloonClass(bc);lo.minWidth(190);lo.minPopupWidth(300);lo.arrowHeight(10);lo.arrowBaseWidth(18);lo.hasBorder(false);}function lw(lJ,lF,lR,lO,lQ){lJ.show();var lM=wmjQuery(".walkme-custom-balloon-bottom-div",lJ);var lN=lM[0]?lM[0].offsetHeight:0;var lH=lo.arrowBaseWidth();var lG=parseFloat(lF[0].css("top"));var lL=parseFloat(lJ.css("top"));var lK=lJ[0]?lJ[0].offsetHeight:0;var lS=lG-lL;var lI=lK-lN;lJ.hide();if((lI-lS<lH)&&(lI>lS)){var lP=lL-(lI-lS+1);lJ.css("top",lP+"px");lz(lF,lO,lR.positionType,lQ);}else{if(lI<=lS){lz(lF,lO,lR.positionType,lQ);}}}function lz(lF,lG,lL,lK){var lJ=((lL==h1.Left)&&(lG=="ltr"))||((lL==h1.Right)&&(lG=="rtl"));if(lJ||lK){var lH=(lL==h1.Left)?"left":"right";lF[0].css("border-"+lH+"-color",lo.balloonSettings().BalloonColor2);}for(var lI=0;lI<lF.length;lI++){lF[lI].addClass("walkme-custom-balloon-arrow-footer");}}function lu(lF){lF[0].css("border-top-color",lo.balloonSettings().Color);}function lD(lF,lI){function lG(lL,lM){function lK(lO,lP,lN){if(lP.top){lO.css(lN+"-top",lP.top);}if(lP.bottom){lO.css(lN+"-bottom",lP.bottom);}if(lP.left){lO.css(lN+"-left",lP.left);}if(lP.right){lO.css(lN+"-right",lP.right);}}lK(lL,lM.margins,"margin");lK(lL,lM.paddings,"padding");}var lJ=wmjQuery(".walkme-custom-balloon-title",lF);lG(lJ,lI.title);var lH=wmjQuery(".walkme-custom-balloon-content",lF);lG(lH,lI.text);}function lE(lF){function lG(lM){function lK(lO,lP,lN){lP.top=lO.css(lN+"-top");lP.bottom=lO.css(lN+"-bottom");lP.left=lO.css(lN+"-left");lP.right=lO.css(lN+"-right");lO.css(lN,"");}var lL={};lL.margins={};lL.paddings={};lK(lM,lL.margins,"margin");lK(lM,lL.paddings,"padding");return lL;}var lH={};var lJ=wmjQuery(".walkme-custom-balloon-title",lF);lH.title=lG(lJ);var lI=wmjQuery(".walkme-custom-balloon-content",lF);lH.text=lG(lI);return lH;}lr.apply(null,arguments);}function bH(){this.LocalSVNRevision="$Rev: 3262 $";var lo=this;function lq(){}function lr(ls,lu,lt){wmjQuery(ls).css(lu,lt);}lo.addClickAndHover=function lp(lD){var lu=lD.cssProperty,lE=lD.regularColor,lB=lD.hoverColor,lt=lD.clickColor,lw=lD.elemSelector,lC=false,ls=lD.balloonDiv;var lv=ls.find(lw);lv.mouseenter(lx);lv.mouseleave(ly);lv.mouseup(lA);lv.mousedown(lz);function lx(lF){lC=true;var lG=wmjQuery(".walkme-click-and-hover:active")[0]==lF.currentTarget;if(lG){lr(lF.currentTarget,lu,lt);}else{lr(lF.currentTarget,lu,lB);}}function ly(lF){lC=false;lr(lF.currentTarget,lu,lE);}function lz(lF){lr(lF.currentTarget,lu,lt);}function lA(lF){if(lC){lr(lF.currentTarget,lu,lB);}else{lr(lF.currentTarget,lu,lE);}}};lq.apply(null,arguments);}function cT(){var lU=this;lU.LocalSVNRevision="$Rev: 3730 $";var lx=null;var lz=false;var lF=false;var lT=null;var lC=null;var lO=null;var lK=null;var lL=null;var lN;var lR=null;var lE=null;var lA=null;var ls=null;var lD=null;var lB;var lt;var lQ;var lM=null;var lS=null;var lo=false;var lG=null;var lJ=null;var lI=null;var lH=null;var lq=null;var lP=null;var lp;var lr;var ly=false;var lw;var lu,lV;var lv={type:"shape",data:{shape:"round-question-mark",color:"blue"}};var me={Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8};var mE={Outside:0,Inside:1};var mb=0;var l6="condHide";var l7="PlayLauncherConditionTree";var mA="isSticky";function mg(mU){lO.Logger.error(mU);}this.getId=function ml(){return lM;};function l9(mU){lx=mU.element;lT=mU.settings;lC=mU.html;lO=mU.lib;lR=mU.position;lM=mU.launcherId;lV=mU.userGuid;lF=mU.isCapturingMode;lS=mU.positionHelper;lo=mU.addFunctionality;lq=mU.cdnServer;lr=mU.clickAuditManager;lp=bP.isTrue(lT,"animated",false);ly=bP.isTrue(lT,"embedInParent",false);mK();if((lx.data("iframe"))){lz=lO.shouldHandlePageAsFramesets()||ly;}else{lz=true;}}function mK(){var mU=e0(lT,"imageObject",lv);var mV=mD()+mU.data.shape+"-"+mU.data.color;mI(mU,mV);if(!lF){mJ(mU,mV);}}function mD(){return lq+"/player/resources/launchers/";}function mI(mU,mV){if(mU.type=="shape"){lE=mV+".png";}else{if(mR(mU.data.url)){lE=mU.data.url;}else{lE=mD()+mU.data.url;}lE=lE?encodeURI(lE):lE;}}function mJ(mU,mV){if(mU.type=="shape"){my(mU,mV);}else{ms(mU);}}function my(mU,mV){if(bP.isValueTrue(mU.data.hover)){lA=mV+"-hover.png";}if(bP.isValueTrue(mU.data.click)){ls=mV+"-click.png";}}function ms(mU){lA=mi(mU,"hover");lA=lA?encodeURI(lA):lA;ls=mi(mU,"click");ls=ls?encodeURI(ls):ls;}function mi(mU,mV){var mW=null;if(mU.data[mV]){if(mR(mU.data[mV])){mW=mU.data[mV];}else{mW=mD()+mU.data[mV];}}return mW;}function mR(mU){return mU.indexOf("http")==0;}function mm(mW,mV){var mU=wmjQuery("<img />");mU.load(function(){var mX={width:this.width,height:this.height};mV(mX);mU.unbind("load");});mU.attr("src",mW);}function mu(){if(lF){mQ(true);}else{var mU=e0(ad.Settings,"hlType","none");var mV=(e0(lT,"hlType",mU)=="rect");if(mV){mQ(false);}}}function mQ(mV){if(!lO.isQuirksMode(lx[0])){var mU=[{id:lM,idName:"launcher",classPropertyName:"hlLauncherClass"}];fO.highlight(lx,mV?null:lT,lM,mU,"launcher");}}function lY(mW,mX){mW.prepend(mX);var mY=mX.position();var m0=mY.top;var mZ=mY.left;mX.remove();mW.append(lL);mY=mX.position();var mV=mY.top;var mU=mY.left;lQ.top-=mV-m0;lQ.left-=mU-mZ;}function lX(){lu=mh();if(ly){lL=mtjQuery(lu[0].ownerDocument.createElement("div"));lL.css("position","relative");lL.addClass("walkme-launcher-container");lL.addClass("walkme-launcher-container-id-"+lM);var mU=mtjQuery(lu);lY(mU,lL);lu=lL;}lK=mtjQuery(document.createElement("div"));var mW=e0(lT,"tooltip","");mW=cy(mW,["&",'"',"'",">","<"]);lK.attr("title",mW);lK.addClass("walkme-custom-launcher-outer-div");var mX="walkme-launcher-id-"+lM;lK.addClass(mX);lK.css("display","none");lO.getUiUtils().setLangAttribute(lK);lu.append(lK[0].outerHTML);lK=lu.find("."+mX);lK.html(lC);if(lo){bP.addTabIndex(lK);}var mV=mj();mH(mV);lN=lK.find(".walkme-launcher-image-div");mL(lE,lD.width,lD.height);l2(lD.width,lD.height);lN.css("background-repeat","no-repeat");mv();}function mh(){var mU;if(ly){if(l1(lx)){mU=lx;}else{mU=lx.parent();}}else{if(!lz){mU=ff(null,true);}else{mU=ff(lx);}}if(gl("jsp")&&!lF){mU=dp(lx,mU);}return mU;}function l1(mU){var mV=lx.prop("tagName");switch(mV){case"INPUT":case"BUTTON":case"A":case"IMG":return false;break;default:return true;break;}return true;}function mv(){if(lA){mm(lA,mz);}if(ls){mm(ls,l5);}}function mz(mU){lB=mU;lN.hover(function(){l3(lA,lB.width,lB.height,true);},function(){l3(lE,lD.width,lD.height);});}function l5(mU){lt=mU;lN.mouseup(function(){var mV=mo();l3(mV.url,mV.width,mV.height);}).mousedown(function(){l3(ls,mU.width,mU.height);});}function mo(){var mV;var mW;var mU;if(lA){mV=lA;mW=lB.width;mU=lB.height;}else{mV=lE;mW=lD.width;mU=lD.height;}return{url:mV,width:mW,height:mU};}function l3(mX,mV,mU,mW){if(lp){lN.stop();}mL(mX);mt(mV,mU);l2(mV,mU,mW);}function mL(mW,mV,mU){lN.css("background-image","url("+mW+")");lK.css("top",lQ.top+"px");lK.css("left",lQ.left+"px");}function mt(mW,mV){var mU=mk(mW,mV);lK.css("top",(lQ.top+mU.top)+"px");lK.css("left",(lQ.left+mU.left)+"px");}function mk(mX,mW){var mU=parseInt(e0(lT,"direction",me.BottomRight));var mV={top:0,left:0};if(lp){mU=me.Right;}switch(mU){case me.Top:mV.top+=lD.height-mW;mV.left+=((lD.width/2)-(mX/2));break;case me.Right:mV.top+=(lD.height/2)-(mW/2);break;case me.Bottom:mV.left+=((lD.width/2)-(mX/2));break;case me.Left:mV.top+=(lD.height/2)-(mW/2);mV.left+=lD.width-mX;break;case me.TopLeft:mV.top+=lD.height-mW;mV.left+=lD.width-mX;break;case me.TopRight:mV.top+=lD.height-mW;break;case me.BottomRight:break;case me.BottomLeft:mV.left+=lD.width-mX;break;case me.Center:mV.top+=(lD.height/2)-(mW/2);mV.left+=((lD.width/2)-(mX/2));break;default:break;}return mV;}function l2(mV,mU,mW){lN.css("height",mU+"px");if(mW&&lp){lN.animate({width:mV+"px"});}else{lN.css("width",mV+"px");}}function mM(){lK.css("top",lQ.top+"px");lK.css("left",lQ.left+"px");var mU=e0(lT,"z-index","2147483627");jJ(lK,mU);lK.css("display","inline");}this.show=function mP(mU){mm(lE,function mV(mX){lD=mX;if(!lC){lC=mn();}mu();var mW=ly?lS.getEmbedInElementPosition(lx,lT):lS.getElementBounds(lx,lz,window,lT);lQ=ma(mW);if(ly){mG(lQ,lx);if(!l1(lx)){mG(lQ,lx.parent());}}lX();mx();mM();lZ();if(mU){mU(lu);}});};function l8(){var mU=lS.getElementBounds(lx,lz,window,lT);lQ=ma(mU);var mV=mj();mH(mV);mx();mM();mu();}this.updateOffset=function mT(mV,mU){lQ.top+=mV;lQ.left+=mU;};this.destroy=function mc(mU){try{cJ(lK);}catch(mW){}try{if(lw){lw.clear();}cK(lL||lK,function(){fO.unhighlightElement(lx,"launcher",lM);if(mU){mU();}});}catch(mV){if(mU){mU();}}};this.isDrawn=function(){try{return mC()&&l0();}catch(mU){return false;}};function l0(){if(!ly){return true;}if(!lx){return false;}var mV=true;var mU=lx.data("iframe");while(mU&&mV){mV=mV&&mU&&(mU.parents("html").length>0);mU=mU.data("iframe");}return mV;}function mC(){return(lK.parents("html").length>0);}function mx(){if(ly){mw();}else{if(gl("jsp")&&lu.hasClass("jspPane")){lQ.top=lQ.top-lu.offset().top;lQ.left=lQ.left-lu.offset().left;}}}function mw(){var mV=lx.offsetParent();if(mV.length>0){var mU=mV.prop("tagName")=="BODY";if(mU){mr(mV);}else{mS(mV);}}}function mr(mU){if(mU.css("position")!="static"){mS(mU);}else{if(ly&&!l1(lx)){lW();}}}function lW(){var mV=lx.parent().offset();var mU=lx.offset();lQ.top+=mU.top-mV.top;lQ.left+=mU.left-mV.left;}function mS(mV){if(ly){if(!l1(lx)){lW();}return;}var mU=mV.offset();lQ.top-=mU.top;lQ.left-=mU.left;}function mn(){var mU="<div class='walkme-launcher-image-div'></div>";return mU;}function ma(mU){var mW=e0(lT,"context",mE.Outside);var mV=(mW==mE.Outside)?mq(mU):mp(mU);return mV;}function mG(mX,mU){var mW=parseInt(mU.css("padding-top").replace("px",""));var mV=parseInt(mU.css("padding-left").replace("px",""));mX.top-=mW;mX.left-=mV;}function mq(mU){var mX=mb+1;var mV=h2.getCenterPositionByBounds(mU);var mY;var mW;switch(lR){case me.Top:mW=mV.left-lD.width/2;mY=mU.top-lD.height-mX;break;case me.Right:mY=mV.top-lD.height/2;mW=mU.right+mX;break;case me.Bottom:mY=mU.bottom+mX;mW=mV.left-lD.width/2;break;case me.Left:mY=mV.top-lD.height/2;mW=mU.left-lD.width-mX;break;case me.TopLeft:mW=mU.left-lD.width-mX;mY=mU.top-lD.height-mX;break;case me.TopRight:mW=mU.right+mX;mY=mU.top-lD.height-mX;break;case me.BottomRight:mW=mU.right+mX;mY=mU.bottom+mX;break;case me.BottomLeft:mW=mU.left-lD.width-mX;mY=mU.bottom+mX;break;}return{top:mY,left:mW};}function mp(mU){var mV=h2.getCenterPositionByBounds(mU);var mX;var mW;switch(lR){case me.Top:mX=mU.top;mW=mV.left-lD.width/2;break;case me.Right:mX=mV.top-lD.height/2;mW=mU.right-lD.width;break;case me.Bottom:mX=mU.bottom-lD.height;mW=mV.left-lD.width/2;break;case me.Left:mX=mV.top-lD.height/2;mW=mU.left;break;case me.TopLeft:mX=mU.top;mW=mU.left;break;case me.TopRight:mX=mU.top;mW=mU.right-lD.width;break;case me.BottomRight:mX=mU.bottom-lD.height;mW=mU.right-lD.width;break;case me.BottomLeft:mX=mU.bottom-lD.height;mW=mU.left;break;case me.Center:mX=mV.top-lD.height/2;mW=mV.left-lD.width/2;break;}return{top:mX,left:mW};}function lZ(){if(lo){lK.css("cursor","pointer");lK.click(function(mU){if(ly){mU.stopPropagation();}wmjQuery(this).blur();_makeTutorial.getLauncherAction(lM).doAction();lr.SendClickAudit(cF.Launcher,lM,lV);});}else{if(ly){lK.click(function(mU){mU.stopPropagation();});}}}this.setTimeoutOn=function mN(mU){if(ly){return;}mU=mU?mU:800;lw=gV(mf,mU);};function mF(){var mU=mj();if(md(mU)){l8();}mH(mU);}function md(mU){return(lI!=mU.top)||(lH!=mU.left)||(lG!=mU.height)||(lJ!=mU.width);}function mH(mU){lI=mU.top;lH=mU.left;lG=mU.height;lJ=mU.width;}function mj(){var mW;var mV;var mY=false;if(!lz){var m0=lS.getPosRelativeToWindow(lx[0],window,true);mW=m0.top;mV=m0.left;var mY=mB();}else{var mZ=lx.offset();mW=Math.floor(mZ.top);mV=Math.floor(mZ.left);}var mU=lx.height();var mX=lx.width();return{top:mW,left:mV,height:mU,width:mX,elementIsScrolledOut:mY};}function mB(){var mU=lx.data("iframe");return mU&&lS.isElementScrolledOut(lx,mU,lR);}function mf(){var mU=lS.isElementVisible(lx);if(mU&&mO()){mU=l4();}if(mU){mF();lw=gV(mf,800);}else{lU.actionInProgress=true;lU.destroy(function(){lU.actionInProgress=false;});}}function mO(){return e0(lT,l6,false);}function l4(){var mU=e0(lT,l7,null);if(mU){conditionMet=lO.evaluateConditionTree(mU);return conditionMet;}return true;}l9.apply(null,arguments);}function a5(){this.LocalSVNRevision="$Rev: 3906 $";var lz;var lu=this;this._currentPlayGUID="";var ls=null;var lr=null;var lq=null;var lt={type:kd.NONE};var ly=_makeTutorial.Logger.wrapCustomerLog(g4);var lp,lo;function lx(lI){lz=lI.cookieSeconds;ls=lI.lib;lr=lI.getPermutationId;lq=lI.getEndUserGuid;lp=lI.dataSenderManager;}lu.init=function lC(){lo=lp.register("sa",{beforeSendingManipulationFunc:lE,actionUrl:"/Statistics/AddStepLogs",technicalSuccessHandler:lH,defaultDataStorageLifeSeconds:lz,prefixForStorage:"sa",sendingThreshold:5,dataType:"step audit",dataIdFieldName:"Id",requestParamsFunc:function(lI){return{stepActionsSerialized:kL(lI),source:dQ(),customFieldsSerialized:kL(f),browser:dZ(),os:eN(),domain:window.location.host,permutationId:lr(),endUserGuid:lq()};}});};function lH(lI,lK,lL,lJ){if(gA(lI)){lJ(parseInt(lI));}else{if(lI=="error"){ly("Steps Audit - Parsing problem - logical error",3);lK();}else{if(lI=="error2"){ly("Steps Audit - Internal Error",3);lL();}else{ly("Steps Audit - Unknown Error",3);lK();}}}}function lE(lI,lK){var lJ=lF(lI,lK);lw(lJ,lK);}this.auditStep=function lv(lL,lI,lN,lJ){if(lI!=kf.SkippedByActionStep){je("CheckNewStep",lL);}if(f6()){ly("Audit steps manager - Auditing is disabled, doing nothing",3);return true;}if(lL.TutorialId<0){ly(dD("Audit steps manager - Step with id {0} has negative tutorial id ({1})",lL.Id,lL.TutorialId),3);return;}if(lu._currentPlayGUID==undefined||lu._currentPlayGUID.length==0){lu._currentPlayGUID=ls.generateNewPlayGuid(lL.TutorialId);}try{var lM=lA(lL,lI,lN,lJ,this._currentPlayGUID);lo.sendData(lM);}catch(lK){_makeTutorial.Logger.error(lK);}};this.setPlayInitiator=function lG(lI){lt=lI;};function lA(lL,lI,lN,lJ,lK){var lM={};lM.tutorialID=lL.TutorialId;lM.stepId=lL.Id;lM.stepIndex=lL.StepIndex+1;lM.totalSteps=lN;lM.playGuid=lK;lM.TicksSince1970=eb();lM.StepStatus=lI;lB(lM);if(cE(lJ,false)){lM.isFirstStepError=true;}return lM;}function lB(lI){if(lt.type!=kd.NONE){lI.playInitiator=lt.type;if(lt.objectId!=undefined&&lt.objectId>-1){lI.initObjId=lt.objectId;}lt={type:kd.NONE};}}lu.removeAllStepAuditsLogs=function lD(){lo.clearAndStopSavingData();};function lF(lK,lL){var lI=[];if(lK.length<=0){return lI;}for(var lJ=0;lJ<lK.length;lJ++){if(lK[lJ].stepIndex==lL.stepIndex&&lK[lJ].playGuid==lL.playGuid){lI.push(lK.splice(lJ,1)[0]);lJ--;}}return lI;}function lw(lL,lK){for(var lI=0;lI<lL.length;lI++){var lJ=lL[lI];if(lJ.playInitiator!=undefined&&lJ.playInitiator!=kd.NONE){lK.playInitiator=lJ.playInitiator;if(lJ.initObjId!=undefined){lK.initObjId=lJ.initObjId;}}}}lx.apply(null,arguments);}function da(){this.LocalSVNRevision="$Rev: 3656 $";var lw=this,lv,lq,lu,lr,lp,lx,lt,lo,ls,lA="wm-ueug",lz="wm-fgug",lI="endUser";function ly(lL){lv=lL.storageManager;lu=lL.logger;lr=lL.generateGuidFunc;lx=lL.userGuid;lt=lL.jQueryElementFinder;lo=lL.cookiesManager;}this.setEndUserSettings=function lJ(lL){lq=lL;};this.getEndUserSettings=function lF(){return lq;};lw.getEndUserGuid=function lD(lM){if(lp){if(!lM||!ls){return lp;}}var lL=lC(lq);if(lL){lp=lL;lu.customerLog("getEndUserGuid: retrieved endUserGuid-"+lL,3,lI);if(!lM||!ls){return lp;}}lu.customerLog("Could not retrieve endUserGuid",3,lI);return false;};function lB(){var lL=lr();lu.customerLog("getEndUserGuid: Forced generating new user guid-"+lL,3,lI);lK(lL,true);return lL;}function lC(lO){if(!lO){return;}var lL;var lM=lO.Method;var lN=lO.Parameters;switch(lM){case"var":if(lN.VarName){lL=fy(lg.Var,lN.VarName);if(lH(lL)){lu.customerLog("endUserGuid - invalid variable name",1,lI);lL=undefined;}}else{}break;case"salesforce":lL=lG();break;case"cookie":if(lN.VarName){lL=fy(lg.Cookie,lN.VarName);}else{}break;case"jquery":if(lN.VarName){lL=lt.getjQueryElementText(lN.VarName);}else{}break;case"walkme":case"none":lL=lE();if(!lL){lL=lr();lu.customerLog("endUserGuid wasn't found in storage. was generated and stored in storage "+lL,3,lI);}break;}if(lL){lK(lL);}else{lL=lE();if(!lL){lL=lr();lu.customerLog("getEndUserGuid: Forced generating new user guid-"+lL,3,lI);lK(lL,true);}}return lL;}function lG(){if(window.walkme_sf_vars){return window.walkme_sf_vars.userId;}}function lH(lL){return lL&&lL.nodeType;}function lK(lL,lM){lv.saveData(lA,lL,b4);if(lM){ls=true;lv.saveData(lz,1,b4);}else{ls=false;lv.removeData(lz);}}function lE(){ls=lv.getData(lz);return lv.getData(lA);}ly.apply(null,arguments);}function c8(){this.LocalSVNRevision="$Rev: 3532 $";var ls=this,lp,lr,lq,lt,lo,lG=10*1000,lD="endUser",lv="wm-euaf";function lu(lI){lp=lI.getPermutationId;lr=lI.storageManager;lq=lI.logger;lt=lI.userGuid;lo=lI.endUsersManager;}function ly(){if(window.walkme_sf_vars){return window.walkme_sf_vars.organizationName;}}function lx(){if(window.walkme_sf_vars){return window.walkme_sf_vars.organizationId;}}function lz(){if(window.walkme_sf_vars){return window.walkme_sf_vars.roleId;}}function lA(){if(!window.walkme_sf_vars){return;}var lI=bJ(window.walkme_sf_vars);delete lI.organizationName;delete lI.organizationId;delete lI.userId;return lI;}function lC(){if(window.walkme_sf_vars&&window.walkme_sf_vars.walkme_error){return true;}return false;}function lw(){return lv+lo.getEndUserGuid();}function lF(){var lI=window.walkme_sf_vars;var lJ="walkme_sf_error:"+kL(lI);lq.customerLog(lJ,1,lD);}ls.reportEndUser=function lE(lM){var lJ=ad.EndUserSettings?ad.EndUserSettings.auditFreq:null;var lI=lB();if(!lJ||lI){return;}if(lI===0){if(lM){lM();}return;}if(lC()){lF();return;}var lK={permutationId:lp(),endUserGuid:lo.getEndUserGuid(),domain:window.location.host,source:dQ(),browser:dZ(),os:eN(),userGuid:lt,organizationName:ly(),organizationId:lx(),roleId:lz(),extraData:lA()};var lL=kL(lK);var lN=aw.execute({dataType:"jsonp",url:Z+"/EndUser/AddEndUserData",data:{endUsersDataSerialized:lL},timeout:lG,success:function(lO){if(lO=="true"){lH(lJ,1);}else{if(lO=="false"){lH(lJ,0);if(lM){lM();}}}}});};function lH(lJ,lI){lr.saveData(lw(),lI,lJ*60);}function lB(){return lr.getData(lw());}lu.apply(null,arguments);}var aZ={};aZ.fixed=function du(lp){var lo=new aZ.regular();lo.setValue(lp);return lo;};aZ.noMemory=function hw(){var lq=this;var lo;var lp;var lr;function lt(ly){lr=ly;}lq.onGotValue=function lw(ly){};lq.getValue=function lu(){return lr();};lq.hasValue=function lv(){return true;};lq.onResourceClean=function lx(ly){lp=ly;};lq.cleanResources=function ls(){if(lp){lp();}};lt.apply(null,arguments);};aZ.regular=function il(){var lr=this;var lp=false;var ls;var lo;var lq;function lu(){}lr.onGotValue=function lx(lA){lo=lA;if(lr.hasValue()){lo(lr.getValue());return true;}};lr.setValue=function lz(lA){ls=lA;lp=true;if(lo){lo(lr.getValue());}};lr.getValue=function lv(){return ls;};lr.hasValue=function lw(){return lp;};lr.onResourceClean=function ly(lA){lq=lA;};lr.cleanResources=function lt(){if(lq){lq();}};lu.apply(null,arguments);};aZ.complex=function bR(){var ls=this;var lo;var lq;var lr;var lp;function lt(lA,lB,lz){lq=lA;lr=lB;lp=lz;lq.onGotValue(ly);lr.onGotValue(ly);}function ly(){var lz=(ls.hasValue()&&lo)?true:false;if(lz){lo(ls.getValue());}}ls.getValue=function lu(){return lp(lq.getValue,lr.getValue);};ls.onGotValue=function lw(lz){lo=lz;if(ls.hasValue()){lo(ls.getValue());}};ls.hasValue=function lv(){return lp(lq.hasValue,lr.hasValue);};ls.cleanResources=function lx(){lq.cleanResources();lr.cleanResources();};lt.apply(null,arguments);};this.ConditionFunctions=function bU(mB,mi){this.LocalSVNRevision="$Rev: 3672 $";var lo=this;var lF=function lF(){var ns={Id:-1,TutorialId:-1,StepText:"",StepTitle:"",ElementDescription:"",StepIndex:-1,ConfigurationId:"1",Configuration:null,StepSensitivity:1,Type:-1,Settings:{},Duration:4,Delay:0};return ns;};function mc(ns,nt){ns=mI(ns);nt=mI(nt);ns=parseFloat(ns);nt=parseFloat(nt);if(gA(ns)&&gA(nt)){return(ns>nt);}else{return false;}}function me(ns,nt){ns=mI(ns);nt=mI(nt);ns=parseFloat(ns);nt=parseFloat(nt);if(gA(ns)&&gA(nt)){return(ns<nt);}else{return false;}}function mI(ns){if(!ns||(typeof ns!=="string")||!ns.replace){return ns;}return ns.replace(/,|\$|\u20AC|\u20AA|¥|¢|£/g,"");}function md(nt,ns){return bP.isLike(nt,ns);}function mb(nu){var nv=nu.split(":");var ns=Number(nv[0]);var nt=Number(nv[1]);return((ns*60)+nt);}this.getElementTextForEditor=function ma(nt){var ns=jb(nt);return lo.getElementText(ns);};this.getElementStrength=function l8(nv){var nt=jb(nv);var nu=lE(nt);var nw={score:-1};var ns=mB.findElement(nu,null,nw);if(ns){return nw.score;}};this.getElementText=function l9(nt){var nu=lE(nt);var ns=mB.findElement(nu,false);if(ns===false){return false;}else{return bu(wmjQuery(ns));}};function mJ(nt){var ns=new RegExp("[ \t"+String.fromCharCode(160)+"\r\n\v\f]+","gi");nt=nt.replace(ns," ");nt=wmjQuery.trim(nt);return nt;}function mk(nu,nt){var ns=mi.findElementsByjQueryComplexSelector(nu.jQuerySelector);if(ns.length===0){return new aZ.noMemory(function(){return false;});}return lt(ns,nt);}var mj=function mj(ns){return mk(ns,"hover");};var mg=function mg(ns){return mk(ns,"click");};var mv=function mv(ns){return(mi.findElementsByjQueryComplexSelector(ns.jQuerySelector).length>0);};var mh=function mh(ns){return(mi.findElementsByjQueryComplexSelector(ns.jQuerySelector).length==0);};var ml=function ml(ns){return(mi.findElementsByjQueryComplexSelector(ns.jQuerySelector).length>parseInt(ns.jQueryLength));};var mo=function mo(ns){return(mi.findElementsByjQueryComplexSelector(ns.jQuerySelector).length<parseInt(ns.jQueryLength));};var mm=function mm(ns){return(mi.findElementsByjQueryComplexSelector(ns.jQuerySelector).length==parseInt(ns.jQueryLength));};var mn=function mn(ns){return(mi.findElementsByjQueryComplexSelector(ns.jQuerySelector).length!=parseInt(ns.jQueryLength));};var mZ=function mZ(ns){var nu=parseInt(ns.StepId);for(var nt=0;nt<ai.length;nt++){if(ai[nt].Id==nu){return true;}}return false;};var mY=function mY(ns){return !mZ(ns);};var lG=function lG(nt){var ns=new Date(cy(nt.DateInput,["&"]));var nu=new Date();nu.setHours(0,0,0,0);return((ns-nu)==0);};var lL=function lL(ns){return !lG(ns);};var lH=function lH(nt){var ns=new Date(cy(nt.DateInput,["&"]));var nu=new Date();nu.setHours(0,0,0,0);return(nu>=ns);};var lM=function lM(nt){var ns=new Date(cy(nt.DateInput,["&"]));var nu=new Date();nu.setHours(0,0,0,0);return(nu<=ns);};var lI=function lI(ns){var nt=new Date();return(Number(ns.DateInput)==nt.getDay());};var lJ=function lJ(ns){var nt=new Date();return(Number(ns.DateInput)==nt.getMonth());};var lK=function lK(ns){var nt=new Date();return(Number(ns.DateInput)==nt.getFullYear());};var m2=function m2(ns){var nu=new Date();var nt=(nu.getHours()*60)+nu.getMinutes();return(nt>=mb(ns.TimeInput));};var m3=function m3(ns){var nu=new Date();var nt=(nu.getHours()*60)+nu.getMinutes();return(nt<=mb(ns.TimeInput));};var m5=function m5(nt){var ns=cy(nt.UrlInput,["&"]);return(iJ(ns.toLowerCase())==iJ(fz().toLowerCase()));};var m8=function m8(ns){return !m5(ns);};var m4=function m4(nt){var ns=cy(nt.UrlInput,["&"]);return(iJ(fz()).toLowerCase().indexOf(iJ(ns).toLowerCase())>=0);};var m7=function m7(ns){return !m4(ns);};function lE(ns){var nt=lF();if(ns.IdentifySettings){nt.ElementDescription=jb(kL(ns.IdentifySettings.ElementDescription));nt.IsIgnoreText=parseInt(ns.IdentifySettings.IgnoreText);nt.StepSensitivity=parseInt(ns.IdentifySettings.Sensitivity);nt.IsIgnoreId=parseInt(ns.IdentifySettings.IgnoreId);nt.IgnorePosition=parseInt(ns.IdentifySettings.IgnorePosition);nt.IsIdentifyByText=parseInt(ns.IdentifySettings.IsIdentifyByText);}else{nt.ElementDescription=jb(kL(ns.ElementDescription));}return nt;}var lO=function lO(ns){var nt=lE(ns);return(mB.findElement(nt,false)!=false);};function lt(nt,nv){var nu=".mtCond";var nw=new aZ.regular();var ns=function(){nw.setValue(true);};nt.bind(nv+nu,ns);nw.onResourceClean(function(){try{nt.unbind(nv+nu,ns);}catch(nx){}});return nw;}function lQ(nu,nt){var nv=lE(nu);var ns=mB.findElement(nv,null);if(!ns){return new aZ.noMemory(function(){return false;});}return lt(ns,nt);}var lP=function lP(ns){return lQ(ns,"hover");};var lN=function lN(ns){return lQ(ns,"click");};var lR=function lR(ns){return !lO(ns);};var lZ=function lZ(ns){var nt=lE(ns);return(mB.findElement(nt,true)!=false);};var lS=function lS(ns){return !lZ(ns);};var lU=function lU(nu){var nt=lo.getElementText(nu);var ns=cy(nu.ElementText,["&",'"',"'",">","<"]);if(nt===false){return false;}else{return(mJ(nt.toLowerCase())==mJ(ns.toLowerCase()));}};var lW=function lW(ns){return !lU(ns);};var lT=function lT(nt){var ns=lo.getElementText(nt);if(ns===false){return false;}else{return mc(ns,nt.ElementText);}};var lY=function lY(nt){var ns=lo.getElementText(nt);if(ns===false){return false;}else{return me(ns,nt.ElementText);}};var lV=function lV(nu){var nt=lo.getElementText(nu);var ns=cy(nu.ElementText,["&",'"',"'",">","<"]);if(nt===false){return false;}else{return md(mJ(nt),mJ(ns));}};var lX=function lX(ns){return !lV(ns);};var m6=function m6(nu){var ns=cy(nu.UrlInput,["&"]);if(ns.indexOf("regexp:")==0){return gw(ns);}var nv=iJ(fz());var nt=iJ(ns);return md(nv,nt);};var m9=function m9(ns){return !m6(ns);};var mq=function mq(nt){var ns=cy(nt.jQueryText,["&",'"',"'"]);return(mJ(mi.getjQueryElementText(nt.jQuerySelector).toLowerCase())==mJ(ns.toLowerCase()));};var ms=function ms(ns){return !mq(ns);};var mp=function mp(ns){return mc(mi.getjQueryElementText(ns.jQuerySelector),ns.jQueryText);};var mu=function mu(ns){return me(mi.getjQueryElementText(ns.jQuerySelector),ns.jQueryText);};var mr=function mr(nt){var ns=cy(nt.jQueryText,["&",'"',"'"]);return md(mJ(mi.getjQueryElementText(nt.jQuerySelector)),mJ(ns));};var mt=function mt(ns){return !mr(ns);};var mD=function mD(nt){var ns=cy(nt.UrlInput,["&"]);return(iJ(ns.toLowerCase())==iJ(eU().toLowerCase()));};var mG=function mG(ns){return !mD(ns);};var mC=function mC(nt){var ns=cy(nt.UrlInput,["&"]);return(iJ(eU().toLowerCase()).indexOf(iJ(ns.toLowerCase()))>=0);};var mF=function mF(ns){return !mC(ns);};var mE=function mE(nu){var ns=cy(nu.UrlInput,["&"]);var nv=iJ(eU());var nt=iJ(ns);return md(nv,nt);};var mH=function mH(ns){return !mE(ns);};var lq=function lq(ns){return md(dZ(),"*"+ns.BrowserName+"*");};var lr=function lr(ns){return !lq(ns);};var lu=function lu(ns){return(window.self!==window.top);};var lv=function lv(ns){return !lu(ns);};var mA=4000;var ni=function ni(nt){var nu=kp.getData(ht);if(!nu){return false;}var nv=(new Date().getTime()-nu)/2;var ns=(nv>mA)?mA:ls(nv,mA)*mA;return(av+ns)>nu;};var nj=function nj(ns){return !ni(ns);};function ls(ns,nt){ns/=nt;ns--;return Math.sqrt(1-ns*ns);}var lx=function lx(nu){var ns=b5.getCookie(nu.CookieName);var nt=cy(nu.CookieInput,["&",'"',"'"]);if(ns===false){return false;}else{return(ns.toLowerCase()==nt.toLowerCase());}};var lA=function lA(ns){return !lx(ns);};var lw=function lw(nt){var ns=b5.getCookie(nt.CookieName);if(ns===false){return false;}else{return mc(ns,nt.CookieInput);}};var lD=function lD(nt){var ns=b5.getCookie(nt.CookieName);if(ns===false){return false;}else{return me(ns,nt.CookieInput);}};var lz=function lz(nu){var ns=b5.getCookie(nu.CookieName);var nt=cy(nu.CookieInput,["&",'"',"'"]);if(ns===false){return false;}else{return md(ns,nt);}};var lC=function lC(ns){return !lz(ns);};var ly=function ly(nt){var ns=b5.getCookie(nt.CookieName);return(ns!==false);};var lB=function lB(ns){return !ly(ns);};var nb=function nb(nt){var nu=kp.getData(nt.DataKey,undefined);if(nu===undefined){return false;}if(nu===null){nu="null";}var ns=cy(nt.DataValue,["&",'"',"'"]);return(nu.toString().toLowerCase()==ns.toLowerCase());};var ne=function ne(ns){return !nb(ns);};var na=function na(ns){var nt=kp.getData(ns.DataKey,undefined);if(nt===undefined){return false;}return mc(nt,ns.DataValue);};var nh=function nh(ns){var nt=kp.getData(ns.DataKey,undefined);if(nt===undefined){return false;}return me(nt,ns.DataValue);};var nd=function nd(nt){var nu=kp.getData(nt.DataKey,undefined);if((nu===undefined)||(nu===null)){return false;}var ns=cy(nt.DataValue,["&",'"',"'"]);return md(nu,ns);};var ng=function ng(ns){return !nd(ns);};var nc=function nc(ns){var nt=kp.getData(ns.DataKey,undefined);return(nt!==undefined);};var nf=function nf(ns){return !nc(ns);};var nl=function nl(nt){var nu=fy(lg.Var,nt.WindowVarName);var ns=cy(nt.WindowVarInput,["&",'"',"'"]);if((nu===undefined)||(nu===null)){return false;}else{return(nu.toString().toLowerCase()==ns.toLowerCase());}};var no=function no(ns){return !nl(ns);};var nk=function nk(ns){var nt=fy(lg.Var,ns.WindowVarName);if(nt===undefined){return false;}else{return mc(nt,ns.WindowVarInput);}};var nr=function nr(ns){var nt=fy(lg.Var,ns.WindowVarName);if(nt===undefined){return false;}else{return me(nt,ns.WindowVarInput);}};var nn=function nn(nt){var nu=fy(lg.Var,nt.WindowVarName);var ns=cy(nt.WindowVarInput,["&",'"',"'"]);if((nu===undefined)||(nu===null)){return false;}else{return md(nu.toString(),ns);}};var nq=function nq(ns){return !nn(ns);};var nm=function nm(ns){var nt=fy(lg.Var,ns.WindowVarName);if((nt===undefined)||(nt===null)){return false;}else{return true;}};var np=function np(ns){return !nm(ns);};var mw=function mw(nu){var nv=null;var ns=cy(nu.LanguageName,["&",'"',"'"]);try{nv=walkme_get_language();}catch(nt){nv="default";}return(ns.toLowerCase()==nv.toLowerCase());};var my=function my(ns){return !mw(ns);};var mx=function mx(nu){var nv=null;var ns=cy(nu.LanguageName,["&",'"',"'"]);try{nv=walkme_get_language();}catch(nt){nv="default";}return md(nv,ns);};var mz=function mz(ns){return !mx(ns);};var mU=function mU(ns){var nu=parseInt(ns.StepId);var nw=parseInt(ns.TutorialId);var nx=fk(nw);var nv=e6(nu,nw);if(nx>-1&&nv>-1){var nt=aq[nx].Steps[nv];return mB.findElement(nt,false)!==false;}return false;};var mX=function mX(ns){return !mU(ns);};var mT=function mT(ns){var nu=parseInt(ns.StepId);var nw=parseInt(ns.TutorialId);var nx=fk(nw);var nv=e6(nu,nw);if(nv>-1&&nx>-1){var nt=bw(nx,nv);if(nt>=0){return true;}}return false;};var mS=function mS(ns){return !mT(ns);};var mW=function mW(ns){var nu=parseInt(ns.StepId);var nw=parseInt(ns.TutorialId);var nx=fk(nw);var nv=e6(nu,nw);if(nx>-1&&nv>-1){var nt=aq[nx].Steps[nv];return mB.findElement(nt,true)!==false;}return false;};var mV=function mV(ns){return !mW(ns);};var l5=function(ns){var nt=parseInt(ns.GoalId);return b&&b.isGoalReached(nt);};var l4=function(ns){return !l5(ns);};var m1=function m1(ns){return mf(ns);};var m0=function m0(ns){return !mf(ns);};var mf=function mf(ns){var nu=parseInt(ns.TaskId);var nt=parseInt(ns.GoalId);return ap.isTaskGoalReached(nu,nt);};var mL=function mL(nu){var nt=wmjQuery("#tsidLabel");var ns=cy(nu.SfTabInput,["&",'"',"'",">","<"]);if(nt.length==0){return false;}else{return(mJ(nt.text().toLowerCase())==mJ(ns.toLowerCase()));}};var mN=function mN(ns){return !mL(ns);};var mK=function mK(nu){var nt=wmjQuery("#tsidLabel");var ns=cy(nu.SfTabInput,["&",'"',"'",">","<"]);if(nt.length==0){return false;}else{return(mJ(nt.text().toLowerCase()).indexOf(mJ(ns.toLowerCase()))>=0);}};var mM=function mM(ns){return !mK(ns);};var mR={Accounts:"salesforce.com/001/",Contacts:"salesforce.com/003/",Opportunities:"salesforce.com/006/",Documents:"salesforce.com/015/",Cases:"salesforce.com/500/",Solutions:"salesforce.com/501/",Contracts:"salesforce.com/800/",Reports:"salesforce.com/00O/",Leads:"salesforce.com/00Q/",Dashboards:"salesforce.com/01Z/",CustomTabs1:"salesforce.com/a00/",Products:"salesforce.com/a01/"};var mP={MainPage:"o",New:"e"};var mO=function mO(ns){var nt={};nt.UrlInput=""+mR[ns.SfType]+mP[ns.SfModoule];return(m4(nt));};var mQ=function mQ(ns){return !mO(ns);};var l7={jQueryTrue:mv,jQueryFalse:mh,jQueryLengthBigger:ml,jQueryClicked:mg,jQueryHovered:mj,jQueryLengthSmaller:mo,jQueryLengthEquals:mm,jQueryLengthNotEquals:mn,jQueryTextEquals:mq,jQueryTextNotEquals:ms,jQueryTextBigger:mp,jQueryTextSmaller:mu,jQueryTextLike:mr,jQueryTextNotLike:mt,StepPlayed:mZ,StepNotPlayed:mY,StepCanPlay:mT,StepCannotPlay:mS,StepIsVisible:mW,StepIsNotVisible:mV,StepExists:mU,StepNotExists:mX,UrlEquals:m5,UrlNotEquals:m8,UrlContains:m4,UrlNotContains:m7,UrlLike:m6,UrlNotLike:m9,DateEquals:lG,DateNotEquals:lL,DateFrom:lH,DateUntil:lM,DateIsDay:lI,DateIsMonth:lJ,DateIsYear:lK,TimeFrom:m2,TimeUntil:m3,ReferrerUrlEquals:mD,ReferrerUrlNotEquals:mG,ReferrerUrlContains:mC,ReferrerUrlNotContains:mF,ReferrerUrlLike:mE,ReferrerUrlNotLike:mH,ElementExists:lO,ElementNotExist:lR,ElementVisible:lZ,ElementNotVisible:lS,ElementClicked:lN,ElementHovered:lP,ElementTextEquals:lU,ElementTextNotEquals:lW,ElementTextBigger:lT,ElementTextSmaller:lY,ElementTextLike:lV,ElementTextNotLike:lX,BrowserEquals:lq,BrowserNotEquals:lr,ContainerIsIframe:lu,ContainerNotIframe:lv,WindowIsNew:ni,WindowIsNotNew:nj,CookieExists:ly,CookieNotExists:lB,CookieEquals:lx,CookieNotEquals:lA,CookieBigger:lw,CookieSmaller:lD,CookieLike:lz,CookieNotLike:lC,WalkMeDataExists:nc,WalkMeDataNotExists:nf,WalkMeDataEquals:nb,WalkMeDataNotEquals:ne,WalkMeDataBigger:na,WalkMeDataSmaller:nh,WalkMeDataLike:nd,WalkMeDataNotLike:ng,LanguageEquals:mw,LanguageNotEquals:my,LanguageLike:mx,LanguageNotLike:mz,WindowVarEquals:nl,WindowVarNotEquals:no,WindowVarBigger:nk,WindowVarSmaller:nr,WindowVarLike:nn,WindowVarNotLike:nq,WindowVarExists:nm,WindowVarNotExists:np,TaskGoalReached:m1,TaskGoalNotReached:m0,ExperimentGoalReached:l5,ExperimentGoalNotReached:l4,SalesforceTabEquals:mL,SalesforceTabNotEquals:mN,SalesforceTabContains:mK,SalesforceTabNotContains:mM,SalesforceUrlEquals:mO,SalesforceUrlNotEquals:mQ};var l6=[];l6.StepPlayed=false;l6.StepNotPlayed=false;l6.StepCanPlay=false;l6.StepCannotPlay=false;l6.LanguageEquals=false;l6.LanguageNotEquals=false;l6.LanguageLike=false;l6.LanguageNotLike=false;l6.TaskGoalReached=false;l6.TaskGoalNotReached=false;l6.jQueryClicked=false;l6.jQueryHovered=false;l6.ElementClicked=false;l6.ElementHovered=false;l6.ExperimentGoalReached=false;l6.ExperimentGoalNotReached=false;var lp=["ElementClicked","ElementHovered","jQueryClicked","jQueryHovered"];this.isFuncAsync=function(ns){return(wmjQuery.inArray(ns,lp)>=0);};this.getFunctionsByLibNameType=function(ns){return l7[ns];};this.canAssertFunction=function(ns){return((l6[ns]==undefined)||(l6[ns]!=false));};this.evaluationPreviewForEditor=function l1(ns){if(!kp){kp=getStorageManager();}var nt=jb(ns);return lo.evaluationPreview(nt);};this.evaluationPreview=function l0(nt){var ns=this.getFunctionsByLibNameType(nt.funcName);var nu=[];nu.push(nt.funcArgs);if(!this.canAssertFunction(nt.funcName)){return h6.CANNOT_ASSERT;}return(ns.apply(this,nu)?h6.TRUE:h6.FALSE);};this.evaluationTreePreviewForEditor=function l3(ns){var nt=jb(ns);return lo.evaluationTreePreview(nt);};this.evaluationTreePreview=function l2(ns){function nt(nu){if(nu.nodeType=="Func"){return lo.evaluationPreview(nu);}var nv=nt(nu.leftSon);var nw=nt(nu.rightSon);if(nu.nodeType=="And"){if((nv==h6.TRUE)&&(nw==h6.TRUE)){return h6.TRUE;}if((nv==h6.CANNOT_ASSERT)||(nw==h6.CANNOT_ASSERT)){return h6.CANNOT_ASSERT;}return h6.FALSE;}if(nu.nodeType=="Or"){if((nv==h6.TRUE)||(nw==h6.TRUE)){return h6.TRUE;}if((nv==h6.CANNOT_ASSERT)||(nw==h6.CANNOT_ASSERT)){return h6.CANNOT_ASSERT;}return h6.FALSE;}}if(ns==null){return h6.TRUE;}return nt(ns);};};function bT(){this.LocalSVNRevision="$Rev: 1318 $";var lo=this;this.supportedFunctions={isExistJQ:lr,isTextValueJQ:lu,isLocationMatch:ls,isStepPlayed:lt};var lp=new dj();this.setExpression=function(lw){if(lw==undefined||lw.length<=0){throw"Ilegal Expression";}var lz=0;for(var ly in this.supportedFunctions){if(this.supportedFunctions.hasOwnProperty(ly)){var lA=lv(lw,ly,lz);lw=lA[1];for(var lB=lz;lB<lA[0].length;lB++){var lx=lq(lA[0][lB]);lp.setFunction(lx,lz++);}}}lp.setExpression(lw);};this.evaluate=function(){if(lp!=undefined){return lp.evaluate();}throw"Evaluator is undefined";};function lv(lx,ly,lz){var lD=Array();var lC=lz;var lB=lx.indexOf(ly);while(lB>-1){if(lx.charAt(lB+ly.length)!="("){throw"Ilegal function definition in expression";}var lE=lB+ly.length+1;var lF=Array();var lA=lE;while(!(lx.charAt(lA)==")"&&lF.length==0)&&lA<lx.length){if(lx.charAt(lA)=="'"||lx.charAt(lA)=='"'){if(lF.length==0){lF.push(lx.charAt(lA));}else{var lw=lF.pop();if(lw!=lx.charAt(lA)){lF.push(lw);lF.push(lx.charAt(lA));}}}lA++;}if(lx.charAt(lA)==")"){lD[lC]=lx.substring(lB,lA+1);lx=lx.substring(0,lB)+"["+lC+"]"+lx.substr(lA+1);lC++;}else{throw"Ilegal function definition in expression";}lB=lx.indexOf(ly);}return[lD,lx];}function lq(lx){if(lx==undefined||lx.length<=0){throw"Ilegal function definition";}var lw=lx.substr(0,lx.indexOf("("));var lz=lx.substring(lx.indexOf("(")+1,lx.length-1).split(",");for(var ly=0;ly<lz.length;ly++){lz[ly]=lz[ly].replace(/^\s+|\s+$/g,"");if((lz[ly].charAt(0)=="'"&&lz[ly].charAt(lz[ly].length-1)=="'")||(lz[ly].charAt(0)=='"'&&lz[ly].charAt(lz[ly].length-1)=='"')){lz[ly]=lz[ly].substring(1,lz[ly].length-1);}}return function(){return lo.supportedFunctions[lw].apply(this,lz);};}function lr(lw,lx){if(lx==undefined){lx=1;}return mtjQuery(lw).length>=lx;}function lu(lw,lx){return mtjQuery(lw).text()==lx;}function ls(lw){return gw(lw);}function lt(lx){lx=parseInt(lx);for(var lw=0;lw<ai.length;lw++){if(ai[lw].Idx==lx){return true;}}return false;}}var dj=function dj(){this.LocalSVNRevision="$Rev: 1318 $";this.functions=Array();this.treeNode=null;this.errorStack=Array();var lo=this;this.setFunction=function(lA,lB){if((lA==undefined)||(lB==undefined)||(lB<0)){throw"Wrong arguments.";}this.functions[lB]=lA;return true;};this.evaluate=function(){if(this.treeNode!=null){return this.treeNode.evaluate();}throw"Evaluation tree doesn't exist - No expression was set.";};this.setExpression=function(lB){if((lB!=undefined)&&(lB.length>0)&&(lw(lB))){this.treeNode=lq(lB);if(this.treeNode){return true;}else{var lA=this.errorStack.join("\n");this.errorStack=this.errorStack.splice();throw lA;}}else{this.errorStack.push("Ilegal expression!");return false;}};function ls(lC){var lB=new RegExp("^\\[\\d+\\]$","i");if(lB.test(lC)){var lA=parseInt(lC.substring(1,lC.length-1));if(lo.functions.length>=lA&&lo.functions[lA]!=undefined){return new lv(lo.functions[lA]);}else{lo.errorStack.push("Function id doesn't exist!");return false;}}lo.errorStack.push("function token isn't in the form [funcId]. recieved:"+lC);return false;}function lt(lA){if(lA){return new ly(lA);}lo.errorStack.push("Failed to create NOT node.");return false;}function lr(lB,lA,lC){if(lA&&lC){if(lB.toUpperCase()=="OR"){return new lz(lA,lC);}else{if(lB.toUpperCase()=="AND"){return new lp(lA,lC);}}}lo.errorStack.push("Failed to create "+lB.toUpperCase()+" node.");return false;}function lw(lA){var lC=Array();for(var lB=0;lB<lA.length;lB++){if(lA.charAt(lB)=="("){lC.push("(");}else{if(lA.charAt(lB)==")"){if(lC.length==0){return false;}lC.pop();}}}return lC.length==0;}function lu(lA){lA=mtjQuery.trim(lA);lA=lA.replace("  "," ");lA=lA.replace("( ","(");lA=lA.replace(/not\(/gi,"not (");lA=lA.replace(/and\(/gi,"and (");lA=lA.replace(/or\(/gi,"or (");if(lA.charAt(0)!="("||lA.charAt(lA.length-1)!=")"){return lA;}var lB=lA.substring(1,lA.length-1);if(lw(lB)){return lB;}else{return lA;}}function lq(lB){var lA=lu(lB);var lG=lA.split(" ");switch(lG.length){case 0:lo.errorStack.push("Error - a try to build tree with empty expression");break;case 1:return ls(lG[0]);break;case 2:if(lG[0].toUpperCase()=="NOT"){return lt(lq(lG[1]));}else{lo.errorStack.push("Ilegal expression");return false;}break;case 3:if(lG[0].toUpperCase()=="NOT"){return lt(lq(lG[1]+" "+lG[2]));}return lr(lG[1],lq(lG[0]),lq(lG[2]));break;default:var lF=Array();for(var lD=0;lD<lG.length;lD++){if(lD==0&&lG[lD].length>=3&&lG[lD].substr(0,3).toUpperCase()=="NOT"){return lt(lq(lG.join(" ").substr(3)));}var lC=false;for(var lE=0;lE<lG[lD].length;lE++){if(lG[lD].charAt(lE)=="("){lC=true;lF.push("(");}else{if(lG[lD].charAt(lE)==")"){lC=true;lF.pop();}}}if(!lC&&lF.length==0&&lx(lG[lD])){return lr(lG[lD],lq(lG.splice(0,lD).join(" ")),lq(lG.splice(1,(lG.length-1)).join(" ")));}}lo.errorStack.push("Ilegal expression");return false;}}function lx(lA){if(lA.match(/not/i)||lA.match(/or/i)||lA.match(/and/i)){return true;}return false;}function lp(lA,lB){this.leftSon=lA;this.rightSon=lB;this.evaluate=function(){return this.leftSon.evaluate()&&this.rightSon.evaluate();};}function lz(lA,lB){this.leftSon=lA;this.rightSon=lB;this.evaluate=function(){return this.leftSon.evaluate()||this.rightSon.evaluate();};}function ly(lA){this.son=lA;this.evaluate=function(){return !this.son.evaluate();};}function lv(lA){this.func=lA;this.evaluate=function(){return this.func();};}};function fN(){this.LocalSVNRevision="$Rev: 3676 $";var lZ=null;var lo=null;var lq=this;var lp;lq._iframe=null;lq._iframeReady=false;lq._origin=null;lq._path=null;var mi=function(){},ls,lG=null,lU="walkme-hidden-iframe",mk="wm-sync",mm=15*1000,lS,lB,lr=[];function lI(mr,mp,mq){ls=mr;lZ=new hp();lG=new b7();sessionCookiesStorage=new jm();lo=[];lp=lQ(mp,mq);co("Storage mode: "+lp+", ["+(mq?"from db/feature":"auto detected")+"]",3);lq._origin=lX(p)?(window.location.origin+p):p;lq._path="/player/resources/CD/CDhiddenIframe_v13.html";lq._saveCookiePath="/player/resources/CD/saveCookie.html";}function lQ(mq,mr){var mp=dZ();if(mq&&mp.indexOf("Safari")>-1){return cd.Cookies;}if(mr){return mr;}if(mq&&(mp=="IE 11"||mp=="IE 10")){return cd.IndexedDB;}return cd.LocalStorage;}function lX(mq){var mp=mq.indexOf("/")===0;return mp;}lq.refreshGetData=function(mq,mp){mj(mp);if(lB===true){lM(mq);}else{lz();}};function lY(mq){for(var mp=0;mp<lr.length;mp++){lr[mp].push(mq);}}lq.saveData=function(mq,ms,mp,mr){if(mp>0){l5(mq,mr);l8(mq,ms,mp,mr);lZ.saveData(mq,ms,mp,mr);lY(mq);}else{l3(mq,mr);sessionCookiesStorage.saveData(mq,ms,mp);}};lq.getData=function(mp,mq){var mr=lZ.getData(mp,mq);if(mr===undefined){mr=sessionCookiesStorage.getData(mp,mq);}return mr;};lq.removeData=function(mp,mq){l3(mp,mq);l5(mp,mq);};function l3(mp,mq){lJ(mp,mq);lZ.removeData(mp,mq);lY(mp);}function l5(mp,mq){sessionCookiesStorage.removeData(mp,mq);}lq.setSyncFlag=function(mq){var mp=l2(mk,1,10,mq);l9(mp);};lq.addToDictionary=function lu(ms,mt,mv,mr,mu){var mq=lq.getData(ms,mu)||{};if(mq&&typeof mq=="string"){mq=jb(mq)||{};}mq[mt]=mv;mq=kL(mq);if(mr>0){var mp={};mp[mt]=mv;lv(ms,mp,mr,mu);lZ.saveData(ms,mq,mr,mu);}else{sessionCookiesStorage.saveData(ms,mq,mr);}};lq.getAll=function lL(mr){var mq=sessionCookiesStorage.getAll(mr);var mp=lZ.getAll(mr);return wmjQuery.extend(mq,mp);};function lv(ms,mq,mr,mt){var mp={requestType:"add",userGuid:mt,key:ms,keyValues:mq,saveObj:{value:{},saveTime:new Date().getTime(),expireSeconds:mr}};mb(mp);}this.sessionSetData=function me(mq,ms,mr){var mp={requestType:"setSession",userGuid:mr,key:mq,value:ms};mb(mp);};var ly={};this.sessionGetData=function md(mr,mq,ms,mp){mc({requestType:"getSession",userGuid:ms,key:mr,defaultValue:mq},mp);};function ma(mq,mp){l9(lt(mq,mp));}function mc(mq,mp){mb(lt(mq,mp));}function lt(mr,mq){var mp=lP();mr.actionId=mp;ly[mp]=mq;return mr;}var lx=0;function lP(){lx+=1;if(lx>1000){lx=1;}return lx;}function lE(mq){if(mq&&ly[mq.actionId]){var mp=ly[mq.actionId];delete ly[mq.actionId];mp(mq.value);}}this.init=function(mp){lq._iframeReady=false;mi=mp;if(lW()){lq._iframe=lO(ls);if(lq._iframe){lV();}else{lq._iframe=lH(ls,function(){lV();});}}else{co("Cannot run cross-domain Walk-Thrus on this browser. Removing WalkMe.");return false;}};function lW(){return window.postMessage&&window.localStorage;}function lO(){var mp=document.getElementById(lU);return mp;}function lH(ms,mp){var mr=document.createElement("iframe");mr.id=lU;mr.className="walkme-to-remove";mr.style.cssText="display:none;";var mq=ff(null,true)[0];mq.appendChild(mr);if(window.addEventListener){mr.addEventListener("load",mp,false);window.addEventListener("message",function(mt){lT(mt);},false);}else{if(mr.attachEvent){mr.attachEvent("onload",mp,false);window.attachEvent("onmessage",function(mt){lT(mt);});}}mr.src=lq._origin+lq._path;return mr;}function l2(mq,ms,mp,mr){return{requestType:"set",userGuid:mr,key:mq,saveObj:{value:ms,saveTime:new Date().getTime(),expireSeconds:mp}};}function l8(mr,mt,mq,ms){var mp=l2(mr,mt,mq,ms);mb(mp);}function lJ(mp,mq){mb({requestType:"delete",userGuid:mq,key:mp});}function l6(mp){var mu=lr.shift();if(mp){for(var mv in mp){var mw=mp[mv];if(mw&&mw.length&&(mw.length>0)&&(mw[0].saveObj!=undefined)){for(var mt=0;mt<mw.length;mt++){var mr=mw[mt].key;if(wmjQuery.inArray(mr,mu)==-1){var mq=mw[mt].saveObj;var ms=lN(mq);if(ms>0){lZ.saveData(mr,mq.value,(ms/1000),mv);}else{lq.removeData(mr,mv);}}}}}}}function lN(mp){var mr=new Date().getTime();var mq=mp.saveTime+(mp.expireSeconds*1000)-mr;return mq;}function mb(mp){if(lq._iframeReady&&lq._iframe.contentWindow){if(lB!==false){l9(mp);}}}function l9(mp){lq._iframe.contentWindow.postMessage(kL(mp),"*");}function lM(mq){lr.push([]);var mp={requestType:"getAllMultiple",usersToLoad:mq};mb(mp);}function lC(){var mp={requestType:"checkCanSave",saveMode:lp,userGuids:ls};mb(mp);}function lV(){if(mtjQuery.browser.msie&&window.opener){mn();gV(lK,3000);}else{lK();}}function mn(){if(!lq._iframeReady){lR();gV(mn,100);}}function lR(){l9({requestType:"get",key:mk,userGuids:ls,saveMode:lp});}function lK(){if(!lq._iframeReady){lq._iframeReady=true;mg();lC();}}function mg(){lD();lS=gV(mh,mm);}function mh(){co("storage failed loading, removing walkme",3);lD();lB=false;l9({requestType:"terminate"});_makeTutorial.removeWalkMe("storageFailedLoading");}var l1=false;function lw(){window.open(lq._origin+lq._saveCookiePath,"_blank");l1=true;window.focus();mtjQuery(document).unbind("click.wmpopup");mo();}function mo(mp){mp=mp||0;if(mp>10){mh();}else{if(lB!==true){mp++;lC();gV(function(){mo(mp);},200);}}}function lD(){if(lS){lS.clear();lS=null;}}var l7;function lA(mp){lD();if(!mp.canSave&&!l1){if(lp=="cookies"){if(l7===undefined){mf();}l7=gV(lC,500);}else{mh();}}else{if(mp.canSave){clearTimeout(l7);l4();mg();lM(ls);}}}var l0="wm-popup";var ml=60*60*24*365*10;function mf(){var mp=parseInt(lG.getData(l0)||0);if(mp<3){mp++;lG.saveData(l0,mp.toString(),ml);mtjQuery(document).bind("click.wmpopup",lw);}else{mh();}}function l4(){mtjQuery(document).unbind("click.wmpopup");}function lT(mq){if(lq._origin.indexOf(mq.origin)>-1){var mp=jb(mq.data);if(mp.key=="checkCanSave"){lA(mp);}else{if(mp.key=="getAllMultiple"){lB=true;lD();l6(mp.allValues);lG.removeData(l0);lG.removeData(cO);if(mi){var mr=mi;mi=null;mr();}lz();}else{if(mp.actionId!==undefined){lE(mp);}else{if(mp.key=="get"){if(lN(mp.saveObj)>0){lF(mp.dataKey,mp.saveObj.value);}else{lq.removeData(mp.dataKey,userGuid);}}}}}}}function lF(mp,mq){if(mp==mk){if(mq){lK();}}}function mj(mp){if(mp){lo.push(mp);}}function lz(){if(lo.length>0){var mp=lo.shift();if(mp){mp();}}}lI.apply(null,arguments);}function hp(){this.LocalSVNRevision="$Rev: 3580 $";var lo=this;var ls=null;function lp(){ls={};}this.saveData=function(lw,ly,lv,lx){var lt={};lt.value=ly;lt.saveTime=new Date().getTime();lt.expiresSeconds=lv;var lu=lr(lx);lu[lw]=lt;};this.getData=function(lw,ly){var lu=lr(ly);var lt=lu[lw];if(lt){var lx=new Date().getTime();var lv=lt.saveTime+(lt.expiresSeconds*1000)-lx;if((lt.expiresSeconds==0)||(lv>0)){return lt.value;}else{lo.removeData(lw,ly);}}return undefined;};this.removeData=function(lu,lv){var lt=lr(lv);delete lt[lu];};this.getAll=function lq(lv){var lu={};var lt=lr(lv);wmjQuery.safeEach(lt,function(lw,lx){lu[lw]=lo.getData(lw,lv);});return lu;};function lr(lt){if(ls[lt]===undefined){ls[lt]={};}return ls[lt];}lp.apply(null,arguments);}function kq(){this.LocalSVNRevision="$Rev: 3580 $";var lp=this,lo=null,lq=false;function lt(lD,lE){lp.dataManager=lD;lo=lE;}this.init=function lx(lD){lD=lD||function(){};if(lq){lD();return;}lq=true;if(lp.dataManager.init){return lp.dataManager.init(lD);}else{lD();}};this.refreshGetData=function ly(lE,lD){lE=(lE&&lE.length>0)?lE:[lw()];if(lp.dataManager.refreshGetData){lp.dataManager.refreshGetData(lE,lD);}else{if(lD){lD();}}};this.saveData=function lA(lE,lG,lD,lF){lE=mtjQuery.trim(lE);lF=lw(lF);if(lG===undefined){lp.removeData(lE,lF);return;}lp.dataManager.saveData(lE,kL(lG),lD,lF);};this.getData=function lv(lE,lD,lG){lE=mtjQuery.trim(lE);lG=lw(lG);var lF=lp.dataManager.getData(lE,lG);if(lF===undefined||lF===""){return lD;}return jb(lF);};this.addToDictionary=function lr(lF,lG,lI,lE,lH){lF=mtjQuery.trim(lF);lH=lw(lH);if(lp.dataManager.addToDictionary){lp.dataManager.addToDictionary(lF,lG,lI,lE,lH);}else{var lD=lp.getData(lF,lH);if(lD===null||typeof lD!="object"){lD={};}lD[lG]=lI;lp.saveData(lF,lD,lE,lH);}};this.removeData=function lz(lD,lE){lD=mtjQuery.trim(lD);lE=lw(lE);lp.dataManager.removeData(lD,lE);};this.addToQueue=function ls(lF,lI,lG,lD,lH){lF=mtjQuery.trim(lF);lH=lw(lH);var lE=lp.getData(lF,[],lH);if(!lE){lE=[];}lE.push(lI);lE.splice(0,(lE.length-lG));lp.saveData(lF,lE,lD,lH);};lp.getAll=function lu(lE){var lD=lp.dataManager.getAll(lw(lE));wmjQuery.safeEach(lD,function(lF,lG){if(lG!==undefined&&lG!==""){lG=jb(lG);}lD[lF]=lG;});return lD;};lp.sessionSetData=function lC(lD,lF,lE){lD=mtjQuery.trim(lD);if(lp.dataManager.sessionSetData){lp.dataManager.sessionSetData(lD,lF,lE);}else{window.sessionStorage[lE+lD]=lF;}};lp.sessionGetData=function lB(lF,lE,lG,lD){lF=mtjQuery.trim(lF);if(lp.dataManager.sessionGetData){lp.dataManager.sessionGetData(lF,lE,lG,lD);}else{if(lD){lD(window.sessionStorage[lG+lF]||lE);}}};lp.setSyncFlag=function(lD){if(lp.dataManager.setSyncFlag){lp.dataManager.setSyncFlag(lD);}};function lw(lD){return cE(lD,lo);}lt.apply(null,arguments);}function dv(){var lq=this;lq.LocalSVNRevision="$Rev: 3636 $";var lp;var lo;function lr(lv,lw){lp=lw;lo=lv;}lq.saveToStorage=function lu(lw,lx,lv){lo.saveData(lw+lp,lx,lv);};lq.getFromStorage=function ls(lw,lv){return lo.getData(lw+lp,lv);};lq.removeFromStorage=function lt(lv){return lo.removeData(lv+lp);};lr.apply(null,arguments);}function iy(lG,lF,lx,lw){this.LocalSVNRevision="$Rev: 3521 $";var lt=this,lo,ls,lr,lq,lp;function lv(){ls=lG;lr=lF;lq=lx;lp=lw;}var lu=function lu(lK){if(!lK){return;}var lJ=arguments;gV(function(){lK.apply(this,Array.prototype.slice.call(lJ,1));},0);};var lE={};function lA(lK,lL,lJ){if(!lE[lK]){lE[lK]={success:[],fail:[]};}if(lL){lE[lK].success.push(lL);}if(lJ){lE[lK].fail.push(lJ);}}function lB(lN,lO){var lK=lO?lE[lN].success:lE[lN].fail;var lJ=[].splice.call(arguments,2,arguments.length-2);for(var lM=0;lM<lK.length;lM++){try{lu.apply(this,[lK[lM]].concat(lJ));}catch(lL){}}lE[lN]=undefined;}function ly(lJ){return !!lE[lJ];}this.loadServerData=function lz(lN,lK,lL,lO,lM,lP){var lJ=ly(lL);lA(lL,lO,lM);if(lJ){return;}aw.execute({url:lN,data:lK,traditional:lP,success:function(lQ,lS,lR){if(!lQ.ErrorMessage){lt.updateLocalData(lL,lQ);lB(lL,true,lQ);}else{lB(lL,false,lQ.ErrorMessage);}},error:function(lR,lS,lQ){lB(lL,false,lS);}});};this.retrieveData=function lC(lM,lJ,lK,lO,lL,lP){if(lo!==undefined){if(lO){lO(lo);}return;}var lN=ls.getData(lK,null);if(lN){var lJ=(lp)?lp(lN):lN;if(lO){lO(lJ);}}else{lt.loadServerData(lM,lJ,lK,lO,lL,lP);}};this.retrieveLocalData=function lD(lJ){if(lo!==undefined){return lo;}var lK=ls.getData(lJ,null);return(lp&&lK)?lp(lK):lK;};this.updateLocalData=function lH(lK,lJ){lo=lJ;var lL=(lq&&lJ)?lq(lJ):lJ;ls.saveData(lK,lL,lr);};this.updateRemoteData=function lI(lL,lJ,lM,lK){aw.execute({url:lL,data:lJ,success:function(lN,lP,lO){(!lN.ErrorMessage)?lu(lM):lu(lK,lN.ErrorMessage);},error:function(lO,lP,lN){lu(lK,lP);}});};lv.apply(null,arguments);}function kJ(lH,lI,lO,lF,lE,lC,lB){this.LocalSVNRevision="$Rev: 3506 $";var lu=this,lt,ls,lv,lr,lq,lp,lo,ly=60*60,lM="/ToDoList/UserCompletedTasks";function lx(){lt=lH;ls=new iy(lI,ly,lA,lz);lv=lO;lr=lF;lq=lE;lp=lC;lo=lB;}function lD(lP){return"wm_ct_"+lv+"_"+lP;}function lN(lP){return{userGuid:lv,endUserId:lP,source:lo()};}function lA(lP){var lQ=[];mtjQuery.each(lP,function(lS,lT){if(!lT.TaskId){return;}var lR=mtjQuery.extend(true,{},lT);lG(lR,"TaskId","t");lG(lR,"IsCompleted","c");lG(lR,"CompletedGoals","g");lQ.push(lR);});return lQ;}function lz(lQ){var lP={};mtjQuery.each(lQ,function(lS,lR){if(!lR.t){return;}var lT=mtjQuery.extend(true,{},lR);lG(lT,"t","TaskId");lG(lT,"c","IsCompleted");lG(lT,"g","CompletedGoals");lP[lT.TaskId]=lT;});return lP;}function lG(lP,lQ,lR){if(lP.hasOwnProperty(lQ)){lP[lR]=lP[lQ];delete lP[lQ];}}this.asyncRetrieveCompletedTasks=function lw(lP,lR,lQ){ls.retrieveData(lt+lM,lN(lP),lD(lP),lR,lQ);};this.syncRetrieveCompletedTasks=function lJ(lQ){var lP=ls.retrieveLocalData(lD(lQ));if(lP){return lP;}ls.loadServerData(lt+lM,lN(lQ),lD(lQ));return null;};this.updateTaskCompleted=function lL(lS,lV,lT,lP){var lR=lD(lS);ls.updateLocalData(lR,lP);var lQ={userGuid:lv,endUserId:lS,taskId:lV,goalId:lT,permutationId:lq(),endUserGuid:lp(),source:lo()};ls.updateRemoteData(lt+"/ToDoList/UpdateUserTaskCompleted",lQ,null,function lU(lW){lF({},lW);});};this.tempClearUserCompletedTasks=function lK(lP){ls.updateLocalData(lD(lP),{});};lx.apply(null,arguments);}function az(){this.LocalSVNRevision="$Rev: 3613 $";var lu=this,lt,ls,lw,lr,lq,lp,lo,lv,lz=60*60*24,lF="p",lE="g";function ly(lJ){lt=lJ.serverAddress;lw=lJ.lib.getUserGuid();lr=lJ.lib.Logger.error;lq=lJ.getPermutationId;lp=lJ.getEndUserGuid;lo=lJ.getAuditSource;lv=lt+"/AbTesting/UserCompletedGoals";ls=new iy(lJ.storageManager,lz);}function lA(lJ){return"wm_abg_"+lw+"_"+lJ;}function lD(lJ,lK){return{userGuid:lw,endUserId:lJ,source:lo(),permutationId:lq(),goalsToCheck:lK};}this.asyncRetrieveCompletedGoals=function lx(lL,lN,lO,lM){var lK=function lK(lQ){var lP=lA(lL);var lR=lC(lQ);ls.updateLocalData(lP,lR);lO&&lO(lQ);};var lJ=lD(lL,lN);ls.loadServerData(lv,lJ,lA(lL),lK,lM,true);};this.syncRetrieveCompletedGoals=function lG(lJ){var lK=lB(lJ);if(lK){return lK[lE];}return null;};this.updateGoalCompleted=function lI(lL,lM){var lK=lA(lL);var lJ=lB(lL)||lC([]);lJ[lE].push(lM);ls.updateLocalData(lK,lJ);};function lC(lJ){var lK={};lK[lF]=lq();lK[lE]=lJ;return lK;}this.tempClearUserCompletedGoals=function lH(lJ){ls.updateLocalData(lA(lJ),{});};function lB(lJ){var lK=ls.retrieveLocalData(lA(lJ));if(lK&&lq()==lK[lF]){return lK;}return null;}ly.apply(null,arguments);}function kE(){this.LocalSVNRevision="$Rev: 3643 $";var lo=null;var lq=null;var ls;function lr(lx){lo=lx.goalsManager;lq=lx.todoListManager;ls=_makeTutorial.Logger.wrapCustomerLog(hf);}var lp=this;function lt(lx){return(lx.GoalsNotCompleted)?lx.GoalsNotCompleted:[];}var lu=function lu(lx){lq.updateGoalCompleted(lx);};this.startWatchingTasks=function lw(){var lx=lq.getTasksGoalsNotCompleted();mtjQuery.each(lx,function(ly,lz){if(!lz.TaskId){return;}lp.startWatchingTask(lz);});};this.startWatchingTask=function lv(lx){var ly=lt(lx);if(ly.length>0){lo.addGoalsWatch(ly,undefined,lu);}ls("Started watching Task : "+lx.Name,2);};lr.apply(null,arguments);}function dH(){this.LocalSVNRevision="$Rev: 3504 $";var lJ=7000,lI=5,ly=null,lH=[],lt=undefined,lO=null,lp=undefined,lr=this,lq,lw,lo;function lv(lR,lQ){lq=lR;lw=lq.wrapCustomerLog(g9);lo=lQ;}this.isFramesetsPage=function lF(){if(lp===undefined){lp=wmjQuery("frameset").length>0;}return lp;};this.checkIfAnyFrameIsUnloaded=function(lQ){gV(lM,lQ);lt=lA();lH=[];ly=hT(lu,5);if(lO!=null){lO.clear();}lO=gV(lN,lJ);};this.isLoadingFrames=function lG(){return(lH.length>0);};this.isFrameActive=function lD(lQ){if(lQ==null){lw("Frame is not active (Frame is null)",lI);return false;}else{if(lQ.contentWindow==null){lw("Frame is not active (frame.contentWindow is null)",lI);return false;}else{if(lQ.contentWindow.document==null){lw("Frame is not active (frame.contentWindow.document is null)",lI);return false;}else{if(mtjQuery("head",lQ.contentWindow.document).length==0){lw('Frame is not active (mtjQuery("head", frame.contentWindow.document).length == 0)',lI);return false;}else{if((mtjQuery("body",lQ.contentWindow.document).length==0)&&(mtjQuery("frameset",lQ.contentWindow.document).length==0)){lw('Frame is not active (mtjQuery("body", frame.contentWindow.document).length == 0)',lI);return false;}}}}}return true;};this.getAllFramesDocuments=function lB(){var lQ=[];var lR=lA();for(var lS=0;lS<lR.length;lS++){lQ.push(lR[lS].contentWindow.document);}return lQ;};function lA(lQ,lR){if(lR===undefined){lR=[];}mtjQuery("frame",lQ).each(function(){try{if(mtjQuery("frame, frameset",this.contentWindow.document).length>0){lR=lA(this.contentWindow.document,lR);}lR.push(this);}catch(lS){lw("Frame is cross-domain, we can't access it",lI);}});return lR;}function lu(){for(var lR=0;lR<lt.length;lR++){var lQ=lt[lR];if(!(lr.isFrameActive(lQ))){if((lQ!=null)&&(lQ.contentWindow!=null)){ls(lQ);}}}}function ls(lQ){if(!lE(lQ)){lH.push(lQ);if(wmjQuery.browser.msie&&lo.isBelowIeVersion(9)){if(lQ.addEventListener){lQ.addEventListener("load",lK,false);}else{lQ.attachEvent("onload",lK);}}else{mtjQuery(lQ).bind("load.walkme",function(){lz(lQ);});}}}function lK(lQ){lz(lQ.currentTarget);}function lP(lQ){if(wmjQuery.browser.msie&&lo.isBelowIeVersion(9)){if(lQ.removeEventListener){lQ.removeEventListener("load",lK,false);}else{lQ.detachEvent("onload",lK);}}else{mtjQuery(lQ).unbind("load.walkme");}}function lz(lQ){lP(lQ);lL(lQ);}function lE(lQ){for(var lR=0;lR<lH.length;lR++){if(lH[lR]==lQ){return true;}}return false;}function lL(lQ){for(var lR=0;lR<lH.length;lR++){if(lH[lR]==lQ){lH.splice(lR,1);}}}function lM(){if(ly!=null){ly.clear();ly=null;}}function lN(){for(var lQ=0;lQ<lH.length;lQ++){mtjQuery(lH[lQ]).unbind("load.walkme");}lH=[];}this.findBiggestFrame=function lx(lR,lS){lR=lR?lR:document;var lQ=lS?lC(lS):-1;mtjQuery("frame",lR).each(function(){try{if(mtjQuery("frame, frameset",this.contentWindow.document).length>0){var lU=this.contentWindow.document;if(lU){lS=lr.findBiggestFrame(lU,lS);lQ=lS?lC(lS):-1;}}else{var lV=lC(this);if(lV>lQ){lQ=lV;lS=this;}}}catch(lT){}});return lS;};function lC(lQ){var lR=0;if(lQ.height!==undefined&&lQ.width!==undefined){lR=lQ.height*lQ.width;}else{lR=mtjQuery(lQ).height()*mtjQuery(lQ).width();}return lR;}lv.apply(null,arguments);}function kB(){var lr=this;lr.LocalSVNRevision="$Rev: 3700 $";var lq;var lp;var lo;var lx=10*1000;function lv(lE,lD,lC){lq=lE;lp=lD;lo=lC;}this.handleSurveyPlay=function lw(lJ,lE,lH,lD){co("Checking if need to open survey");var lG=lu(lJ,lE);if(lG.shouldStart){co("Starting survey");var lI={};lI.surveyJson=lG.survey;lI.tutorialId=lJ.Id;lI.stepIndex=lH;lI.lastStepIndex=lJ.Steps.length-1;lI.eventSource=lE;lI.submitResults=lB;lI.submitExit=lA;lI.drawBalloonFunc=jZ;var lC=lz(lI,lD);if(lC){for(var lF=0;lF<lG.cookiesToSave.length;lF++){lG.cookiesToSave[lF]();}}}};function lB(lC){if(lC.answers.length>0){ly("SurveyCompleted",lC);ls(lC.surveyGuid);return true;}return false;}function lA(lC){ly("SurveyExited",lC);}function ly(lC,lE){if(f6()){return;}lE.permutationId=lp();lE.endUserGuid=lo();var lF=kL(lE);var lD=aw.execute({url:Z+"/Survey/"+lC,data:{surveyDataSerialized:lF},timeout:lx});lD.success(function(lG){});lD.error(function(lG,lH,lI){});}function ls(lD){var lC="wm-SrvSmt-"+lD;kp.saveData(lC,1,hz);}function lu(lG,lE){var lF={shouldStart:false,cookiesToSave:[],survey:null};var lH=e0(lG.Settings,"survey",undefined);if(!lH){co("No survey defined on walkthru: "+lG.Name,3,"survey");return lF;}if(lH.startCondition==lE||lH.startCondition==kz.Both){lF.survey=fc(lH.surveyId);if(!lF.survey){co("Couldn't find survey with id:"+lH.surveyId,0,"survey");return lF;}var lD="wm-SrvRep-"+lF.survey.Id;var lC=lt(lD,lF.survey.Settings);if(lC&&lC.shouldStart){lF.cookiesToSave.push(lC.store);lD="wm-SrvWtRep-"+lG.TutorialId+"-"+lF.survey.Id;lC=lt(lD,lH);lF.cookiesToSave.push(lC.store);lF.shouldStart=lC.shouldStart;}}return lF;}function lt(lC,lE){var lD=lE.repeat||"visit";return lq.checkRepeatCookie(lC,lD);}function lz(lH,lD){var lC=true;var lF=window.walkmeExternalSurvey;if(lF){co("Starting external survey");lH.playGuid=a4._currentPlayGUID;lH.source=dQ();var lE=lF(lH,lD);if(lE===false){lC=false;}}else{co("Starting regular survey");var lG=new ky(lq,lH,lD);lG.show();}return lC;}lv.apply(null,arguments);}function ky(){var lv=this;var lp;var ls;var lt;var lw;var lo;var lr;var lq;var lu;var lJ={FreeText:0,RadioButton:1,CheckBox:2};function lC(lV,lW,lU){lp=lV;ls=lW.surveyJson;lt=new lS();lu=[];lw=lW.tutorialId;lo=lU;lr=lW.submitResults;lq=lW.submitExit;}function lD(){var lU=mtjQuery("<div></div>");lU.css("width","500px");lU.attr("id","walkme-survey-"+ls.Guid);lU.addClass("walkme-survey");return lU;}function lH(){var lU=mtjQuery("<div></div>");lU.addClass("walkme-survey-title");lU.html(ls.Name);lU.css("margin-bottom","8px");lU.css("font-weight","bold");lU.css("font-size","24px");return lU;}function lE(){var lX=mtjQuery("<div></div>");lX.addClass("walkme-survey-questions");lX.css("height","300px");lX.css("overflow-y","auto");lX.css("overflow-x","hidden");lX.css("margin-bottom","10px");for(var lU=0;lU<ls.Questions.length;lU++){var lV=lt.getSurveyQuestion(ls.Questions[lU]);lu.push(lV);lX.append(lF(lU,"before"));var lW=lV.Generate();lW.css("margin-bottom","12px");lX.append(lW);lX.append(lF(lU,"after"));}return lX;}function lF(lU,lW){var lV=mtjQuery("<div></div>");lV.addClass("walkme-survey-question-separator-"+lW);lV.attr("id","walkme-survey-question-separator-"+lW+"-"+lU);return lV;}function lG(){var lU=lD();var lW=lH();lU.append(lW);var lV=lE();lU.append(lV);lx(lU);return lU;}function lx(lW){for(var lV=0;lV<4;lV++){var lU=mtjQuery("<div></div>");lU.addClass("walkme-survey-extra-div-"+lV);lW.append(lU);}}function lI(){var lU=mtjQuery("<div></div>");lU.append(lG());return lU;}lv.show=function lM(){var lU=lI();var lV={popupStepButtons:[{id:0,action:4}]};if(ls.Settings&&ls.Settings.fadeBackground){lV.fadeBackground=ls.Settings.fadeBackground;}jZ({htmlContent:lU},600,lV,ly);};function lz(lX){var lV={};var lW=[];lV.playGuid=a4._currentPlayGUID;lV.surveyGuid=ls.Guid;lV.tutorialId=lw;lV.source=dQ();lV.customVarsData=fy(lg.Var,ls.Settings.customVar);lV.customCookiesData=fy(lg.Cookie,ls.Settings.customCookie);if(lX){for(var lY=0;lY<lu.length;lY++){var lU=lu[lY].getAnswers();lW=lW.concat(lU);}}lV.answers=lW;return lV;}function lN(){var lU=lz(true);if(lr){if(lr(lU)){co("Submit results");lB();}}else{co("No submit function!",3);lB();}}function lP(){co("Survey exited");var lU=lz(false);lq(lU);lB();}function lA(lV){var lU=mtjQuery("#"+lV);var lW=lU.parent();mtjQuery("input:checked",lW).removeAttr("checked");var lX=mtjQuery(".walkme-survey-answer-radiobutton",lU);lX.attr("checked","checked");lX.change();}function lK(lY,lV){var lX=mtjQuery("#"+lY).parent();var lU=lX.parent();var lW=lU.parent();if(lV){mtjQuery(".selected",lW).removeClass("selected");}lX.addClass("selected");lU.addClass("selected");}function lB(){lp.releaseBalloons();if(lo){lo();}}function ly(lU){mtjQuery(".walkme-action-submit",lU).click(lN);mtjQuery(".walkme-action-close",lU).attr("onclick","").unbind("click");mtjQuery(".walkme-action-close",lU).click(lP);lL(lU);mtjQuery(".walkme-survey-answer-radiobutton",lU).change(function(){lK(this.id,true);});mtjQuery(".walkme-survey-radiobutton-answer",lU).click(function(){lA(this.id);});mtjQuery("input:checked.walkme-survey-answer-radiobutton",lU).change();lU.addClass("walkme-survey-balloon");}function lL(lU){mtjQuery(".walkme-custom-balloon-close-button",lU).attr("title","Stop Survey");}function lS(){var lU=this;lU.getSurveyQuestion=function(lV){var lW;switch(lV.QuestionType){case lJ.FreeText:lW=new lQ(lV);break;case lJ.CheckBox:lW=new lO(lV);break;case lJ.RadioButton:lW=new lT(lV);break;}return lW;};}function lR(){var lU=this;lV=function lV(l0){lU._question=l0;lU._questionDiv=mtjQuery("<div></div>");};lU.getQuestionDivFromWindow=function lX(){var l1=mtjQuery("#walkme-survey-"+ls.Guid);var l0=mtjQuery("#"+lU._questionDiv.attr("id"),l1);return l0;};lU.setTitle=function lZ(l0){var l1=mtjQuery("<div></div>");l1.addClass("walkme-survey-question-title");l1.css("font-weight","bold");l1.css("margin-bottom","4px");l1.html(l0);lU._questionDiv.append(l1);};lU.setSubTitle=function lY(l0){var l1=mtjQuery("<div></div>");l1.addClass("walkme-survey-question-sub-title");l1.css("margin-bottom","10px");l1.html(l0);lU._questionDiv.append(l1);};lU.Generate=function lW(){lU._questionDiv=mtjQuery("<div></div>");lU._questionDiv.attr("Id","walkme-survey-question-"+lU._question.Id);lU._questionDiv.addClass("walkme-survey-question");lU.setTitle(lU._question.Title);lU.setSubTitle(lU._question.SubTitle);return lU._questionDiv;};lV.apply(null,arguments);}function lQ(){var lU=this;var lW=500;function lV(lZ){k8.extend(lU,lR,lZ);}lU.Generate=function lX(){lU._questionDiv=lU._base.Generate();var lZ=mtjQuery("<div></div>");lZ.addClass("walkme-survey-question-freetext-answers");lZ.attr("id","walkme-survey-question-freetext-answers-"+lU._base._question.Id);var l0=mtjQuery('<textarea rows="4" cols="20" maxlength="'+lW+'"></textarea>');l0.css("resize","none");l0.attr("id","walkme-survey-question-freetext-"+lU._base._question.Id);l0.addClass("walkme-survey-answer-textarea");l0.css("width","100%");l0.css("max-width","97%");lZ.append(l0);lU._questionDiv.append(lZ);return lU._questionDiv;};lU.getAnswers=function lY(){var lZ={};var l0=lU._base.getQuestionDivFromWindow();var l1=mtjQuery(".walkme-survey-answer-textarea",l0).val();if(l1!=""){lZ.questionId=lU._base._question.Id;lZ.answerText=l1;return[lZ];}return[];};lV.apply(null,arguments);}function lO(){var lU=this;function lV(lY){k8.extend(lU,lR,lY);}lU.Generate=function lW(){lU._questionDiv=lU._base.Generate();var l1=mtjQuery("<div></div>");l1.addClass("walkme-survey-question-checkbox-answers");l1.attr("id","walkme-survey-question-checkbox-answers-"+lU._base._question.Id);var l0=lU._base._question.Answers;for(var l3=0;l3<l0.length;l3++){var lZ=mtjQuery("<div></div>");lZ.addClass("walkme-survey-question-checkbox-answer");lZ.attr("id","walkme-survey-answer-"+l0[l3].Id);var l2=mtjQuery("<label><label/>");l2.attr("for","walkme-survey-answer-checkbox-"+l0[l3].Id);l2.addClass("walkme-survey-answer-text");l2.html(l0[l3].Title);var lY=mtjQuery('<input type="checkbox"/>');lY.addClass("walkme-survey-answer-checkbox");lY.attr("value",l0[l3].Id);lY.attr("id","walkme-survey-answer-checkbox-"+l0[l3].Id);lZ.append(lY);lZ.append(l2);l1.append(lZ);}lU._questionDiv.append(l1);return lU._questionDiv;};lU.getAnswers=function lX(){var l2=lU._base.getQuestionDivFromWindow();var l0=mtjQuery("input:checkbox:checked",l2);var lZ=[];for(var l1=0;l1<l0.length;l1++){var lY={};lY.answerId=l0[l1].value;lY.questionId=lU._base._question.Id;lZ.push(lY);}return lZ;};lV.apply(null,arguments);}function lT(){var lU=this;function lV(lY){k8.extend(lU,lR,lY);}lU.Generate=function lW(){lU._questionDiv=lU._base.Generate();var l2=mtjQuery("<div></div>");l2.attr("id","walkme-survey-question-radiobutton-answers-"+lU._base._question.Id);l2.addClass("walkme-survey-question-radiobutton-answers");var l1=lU._base._question.Answers;for(var l6=0;l6<l1.length;l6++){var lY=mtjQuery("<div></div>");lY.addClass("walkme-survey-radiobutton-answer");lY.attr("id","walkme-survey-question-answer-"+l1[l6].Id);var l4=mtjQuery("<div></div>");l4.addClass("walkme-survey-answer-text");l4.attr("id","walkme-survey-answer-text-"+l1[l6].Id);var l5=mtjQuery("<label></label>");l5.attr("for","walkme-survey-answer-radiobutton-"+l1[l6].Id);l5.addClass("walkme-survey-answer-title");l5.html(l1[l6].Title);var l3=mtjQuery("<label></label>");l3.attr("for","walkme-survey-answer-radiobutton-"+l1[l6].Id);l3.addClass("walkme-survey-answer-subtitle");l3.html(l1[l6].SubTitle);l4.append(l5);l4.append("<br/>");l4.append(l3);var l0=mtjQuery("<div></div>");l0.addClass("walkme-survey-answer-radiobutton-div");l0.attr("id","walkme-survey-answer-radiobutton-div-"+l1[l6].Id);var lZ=mtjQuery('<input type="radio"/>');lZ.addClass("walkme-survey-answer-radiobutton");lZ.attr("value",l1[l6].Id);lZ.attr("name","walkme-survey-question-group-"+lU._base._question.Id);lZ.attr("id","walkme-survey-answer-radiobutton-"+l1[l6].Id);if(l6==0){lZ.attr("checked","checked");}l0.append(lZ);lY.append(l0);lY.append(l4);l2.append(lY);}lU._questionDiv.append(l2);return lU._questionDiv;};lU.getAnswers=function lX(){var lY={};var lZ=lU._base.getQuestionDivFromWindow();var l0=mtjQuery("input[name='walkme-survey-question-group-' + _this._base._question.Id]:checked",lZ).val();if(l0){lY.answerId=l0;lY.questionId=lU._base._question.Id;return[lY];}return[];};lV.apply(null,arguments);}lC.apply(null,arguments);}function k8(){this.LocalSVNRevision="$Rev: 3499 $";function lq(lt,ly){var lx={};for(var lw in ly){lx[lw]=ly[lw];var lu=(typeof(ly[lw])==="function");var lv=(typeof(lt[lw])==="function");if(lu&&!lv){lt[lw]=ly[lw];}else{if(lu&&lv&&ly[lw].WM_VIRTUAL){ly[lw]=lt[lw];}}}return lx;}this.extend=function lp(lA,lx,lt,lu,lv,lw){var ly=new lx(lt,lu,lv,lw);var lz=lq(lA,ly);lA._base=lz;};this.VIRTUAL=function lr(lt){lt.WM_VIRTUAL=true;return lt;};var lo=this.VIRTUAL(function ls(){throw"Function is pure virtual. must override";});this.WM_PURE_VIRTUAL=function ls(){return lo;};}var k8=new k8();function hS(){var lq=this;lq.LocalSVNRevision="$Rev: 2877 $";var lo;var lp;function lr(lw){lo=lw.checkIfExists;lp=lw.getTutorialByIndex;}lq.findFirstStep=function ls(lz,ly,lw){if(gl("firststep")&&(!ly||ly==0)){var lx=lt(lz);if(lx>0){return lx;}}ly=ly?ly:0;return lo(lz,ly,undefined,undefined,lw);};lq.handlePermalink=function lu(lw){if(lw&&gA(lw)){gV(function(){WalkMeAPI.startWalkthruById({id:parseInt(lw),fromStep:0,playInitiator:{type:kd.PERMALINK}});},1);return true;}return false;};function lt(lA){var lz=lp(lA);var lw=lz.Steps.length-1;while(lw>0){var ly=lz.Steps[lw];var lx=ly.Settings.firstInPage;if(lx&&lv(lA,lw)){co("first step for page, step index: "+(lw+1));return lw;}lw--;}return lw;}function lv(ly,lx){var lw=lo(ly,lx);return lw==lx;}lr.apply(null,arguments);}function hJ(){var lZ=new lb(this);this.LocalSVNRevision="$Rev: 3536 $";var l4=2000,lY=3600,lU=2,l5=3000,lV=1100,l0="wm-cdplay",md="wm-cdstop",lz=this,ls,lA,lp,lv,lo,lB,ly,lu,lq,lr,lw=false,lx=0,lt,lJ;var lT=lZ.Prop.Protected("isRunning",false);var me=lZ.Prop.Protected("storageManager",false);var lC=lZ.Prop.Protected("allUserGuids",{});var lH=lZ.Prop.Protected("crossDomainSampleRate",{});function lI(mj){lH(lN());lo=mj.errorHandler;lB=mj.userGuid;ly=mj.terminateTutorialFunction;lu=mj.restoreStateFunc;lq=mj.isFeatureEnabled;lv=mj.resumeAfterUnloadFunc;lp=mj.getStepFunc;lt=mj.peekNextCookieStepFunc;me(mj.storageManager);lC(mj.allUserGuids);lr=(mj.topWindow==mj.owner);lJ=mj.logger.wrapCustomerLog(hc);}var lN=lZ.Virtual.Protected("getSampleRate",function lN(){return 200;});lZ.Public("enabled",function lK(){if(!lq("cd_play")){return false;}return true;});lZ.Virtual.Public("start",function mb(){if(!lz.enabled()){return;}lJ("starting cross domain listening...");lx+=1;lW(lx);});lZ.Public("stop",function mc(){lx=0;});lZ.Public("canStartPlaying",function lE(mj){if(!lz.enabled()){return true;}return y==ka.WAITING_FOR_OWNERSHIP;});lZ.Virtual.Public("reset",function l2(mj){if(!lz.enabled()){return;}l7(true);l3();gV(function(){l7(false);},lV);});lZ.Virtual.Public("switchOwner",function mf(mk,mj){if(!lz.enabled()){return;}lJ("switching owner...");l8(mk);if(mj){lz.loseOwnership();l1();me().setSyncFlag(lB);}});lZ.Virtual.Public("loseOwnership",function lX(mj,mk){if(!lz.enabled()){return;}lJ("losing ownership...");if(lT()){if(mj){lJ("reset state: reseting the ownership condition");l3();}lT(false);if(mk){l6();}}});var l1=lZ.Virtual.Protected("removeOwner",function l1(){});lZ.Virtual.Public("walkthruStarted",function mh(mj){if(mj){mj();}});lZ.Public("handlePermalink",function lO(mj){if(mj&&gA(mj)){gV(function(){WalkMeAPI.startWalkthruById({id:parseInt(mj),fromStep:0,playInitiator:{type:kd.PERMALINK}});},lH()*2);return true;}return false;});function l6(){lJ("savining data to resume after unload",3);l8(ls);lw=true;ls=null;lG();}function lG(){lx+=1;setTimeout(function(){lJ("continue listening after "+l5+" milliseconds",3);lW(lx);},l5);}var mg=lZ.Virtual.Protected("terminate",function mg(){lJ("owner killed, terminating tutorial and losing ownership",3);ly();lz.loseOwnership();});var lL=lZ.Virtual.Protected("gainOwnership",function lL(){lJ("gaining ownership with state "+y,3);lT(true);if(lw){lw=false;lv();}else{lJ("ownership granted to: "+mi(),3);lu(lB);}});var mi=lZ.Virtual.Protected("windowIdentifier",function mi(){return window.location.href;});var lW=lZ.Virtual.Protected("listen",function lW(mj){lJ("listening with runId: "+mj,5);me().refreshGetData(lC(),function(){if(!l9(mj)){return;}var mk=ma();if(lT()){if(mk){mg();}}else{if(!mk&&(lR()||lF())){lL();}else{if(mk){lJ("waiting for other owner to die before gaining ownership...",3);}else{if(lw){lw=false;}}}}gV(function(){lW(mj);},lD());});});var l9=lZ.Protected("shouldContinueListening",function l9(mj){if(mj==lx){return true;}lJ("stop listening...",3);return false;});var lD=lZ.Protected("calculateDomainListenInterval",function lD(){return(lw)?l4:lH();});var lF=lZ.Protected("checkOwnership",function lF(){try{var mk=lM();if(mk){return lP(mk.stepId,mk.tutorialId);}else{if(lQ()){lJ("no ownership condition, owner by default",5);return true;}}}catch(mj){lo(mj,"Error determining the owner of a cross domain step");}return false;});var lR=lZ.Protected("isOwnerByPeeking",function lR(){var mj=lq("po_peek")&&lz.isPassOwnershipStep(lt());if(mj){lJ("[passownership] owner by peeking",5);}return mj;});lz.isPassOwnershipStep=function lS(mj){if(mj&&mj.Settings&&mj.Settings.action){return mj.Settings.action.actionType=="passOwnership";}return false;};function lP(mk,ml){var mj=lp(mk,ml);if(mj!==null){return _makeTutorial.evaluateConditionTree(mj.Settings.action.arguments.condition);}}function lQ(){return lr;}function ma(){var mj=me().getData(md,false,lB);return mj;}function l7(mj){me().saveData(md,mj,lU,lB);}function lM(){ls=me().getData(l0,false,lB);return ls;}function l8(mj){ls=mj;me().saveData(l0,mj,lY,lB);}var l3=lZ.Protected("resetOwnershipCondition",function l3(){me().saveData(l0,false,lY,lB);});lI.apply(null,arguments);}function kC(){var l0=new lb(this);this.LocalSVNRevision="$Rev: 3580 $";var lY=3600,mg=300,l3,mo,lZ,lV="wm-po-p",lH="wm-po-r",l2="wm-po-q",mh="wm-setPriority",l5="priority",l6="wm-qp-req",l7="wm-qp-res",l4="walkme-priority-check-",lA={checking:1,taken:2},lz=100,lB=700,mt=1,l1=10,lu=this,lo,lt,lw,ls,lp,mq,ly,lT,lq,lv,lr=0,lJ;function lG(mz){l0.Extends(hJ,mz);lo=l0._base;lo.crossDomainSampleRate(lN());l3=lo.crossDomainSampleRate()*2;mo=lR()?5000:800;lZ=lR()?20000:5000;lp=mz.errorHandler;lw=mz.userGuid;mq=lo.storageManager;ly=lo.allUserGuids;lT=lo.isRunning;lJ=mz.logger.wrapCustomerLog(hc);mb();}l0.Virtual.Public("getPriority",function lM(){return lt;});function lR(){var mz=dZ();return lU()||mz=="IE 10"||mz=="IE 11";}var lU=l0.Protected("isSlowerBrowser",function lU(){var mz=dZ();if(mz=="IE 8"||mz=="IE 9"){return true;}return false;});var lN=l0.Override("getSampleRate",function lN(){var mz=lo.getSampleRate();if(lU()){mz*=2;}return mz;});l0.Override("start",function mp(){lQ(function(){l9();lo.start();});});l0.Override("reset",function me(){if(!lu.enabled()){return;}lq=0;lJ("reset ownership",4);lo.resetOwnershipCondition();mc();});l0.Override("walkthruStarted",function mx(mz){lF();mv(null,mz);});var lW=l0.Override("listen",function lW(mz){lo.storageManager().refreshGetData(ly(),function(){if(!lo.shouldContinueListening(mz)){return;}var mA=lK();if(!mw()){if(lT()){if(lt!=mA){lo.terminate();}}if(!lT()){if((!mA&&lo.checkOwnership())||lS()){ma();}else{if(lt==mA&&mm()){lo.gainOwnership();mv();}}}}gV(function(){lW(mz);},lo.calculateDomainListenInterval());});});var mm=l0.Virtual.Protected("shouldRegainOwnership",function mm(){return lo.checkOwnership();});function lS(){if(lo.isOwnerByPeeking()){lr++;return lr>=l1;}lr=0;}function mw(){if(!lq){return false;}lq--;return true;}l0.Override("switchOwner",function ms(mA,mz){if(mz){lF();}lo.switchOwner(mA,mz);});function mu(){lo.storageManager().refreshGetData(ly(),function(){lv=null;var mA=lL();var mz=lK();var mB=lS();if(mA&&lt==mA&&(!mz||mB)){lJ("priority is highest, gaining ownership - "+lt,4);mj(lt);lo.gainOwnership();}else{if(!mB&&mz&&mz!=lt){lF();}}});}l0.Override("windowIdentifier",function my(){return lt+":"+window.location.href;});l0.Override("removeOwner",function md(mz,mA){lo.removeOwner();mc();});function lQ(mz){mf(function(mB){var mA=parseInt(mB,10)||0;lJ("got priority "+mA+" from sessionStorage",4);lC(mA,function(mC){if(mA===0||mC){lJ((mC?"inherited priority from parent":"priority is zero")+", getting a new priority",4);mv();}else{lt=mA;}l8();if(mz){mz();}});});}var mf=l0.Virtual.Protected("restorePriority",function mf(mz){lo.storageManager().sessionGetData(l5,0,lw,mz);});var mr=l0.Virtual.Protected("storePriority",function mr(mz){mq().sessionSetData(l5,mz,lw);});function ml(){return dZ().indexOf("IE")===0;}function l9(){if(ml()){lX();}}function lX(){var mz=mq().getData(l4+lt,undefined,lw);if(mz==lA.checking){mq().saveData(l4+lt,lA.taken,lY,lw);}gV(lX,mg);}function lE(mC,mz){var mA=l4+mC;mq().saveData(mA,lA.checking,lY,lw);var mD=true;function mE(){if(!mD){return;}mq().refreshGetData(ly(),function(){if(!mD){return;}var mG=mq().getData(mA,undefined,lw);if(mG==lA.taken){mB(true);}gV(mE,lz);});}var mF=gV(mB,lB);function mB(mG){mG=!!mG;mq().removeData(mA,lw);mD=false;if(mF){mF.clear();}if(mz){mz(mG);}}mE();}function lC(mA,mz){if(!mA){if(mz){mz(false);}}if(ml()){lJ("checking if priority is inherited using storageManager",4);lE(mA,mz);}else{lJ("checking if priority is inherited using window.opener",4);lD(mA,mz);}}function lD(mB,mz){if(window.opener){var mD;var mC;function mA(mE){lJ("parent priority is "+mE,4);if(mC){mC.clear();}if(mD){mD();}if(mz){mz(mB==mE);}}mD=bP.registerEventHandler("message",function(mG){try{var mE=jb(mG.data);if(mE.requestType==l7){mA(mE.priority);}}catch(mF){lJ("Error in priority inherited message event "+mF,4);}});mC=gV(mA,100);bP.postMessageToAllFramesChain(window.opener,JSON.stringify({requestType:l6}));}else{if(mz){mz(false);}}}var mn=l0.Virtual.Protected("shouldRegisterFocusEvents",function mn(){return window==top;});function l8(){if(mn()){mtjQuery(window).bind("focus",mv);mtjQuery(window).bind("mouseenter",mv);}}function mb(){bP.registerEventHandler("message",lO);}function lO(mB){var mz;try{mz=jb(mB.data);switch(mz.requestType){case mh:lP(mz.priority);break;case l6:mB.source.postMessage(JSON.stringify({requestType:l7,priority:lt}),"*");break;}}catch(mA){if(mz){lp(mA,"error handling priority message from parent");}}}var lP=l0.Virtual.Protected("handleSendPriorityRequest",function lP(mz){lJ("frame got new priority from parent window: "+mz,4);lt=mz;mi(mz);});var mv=l0.Virtual.Protected("updatePriority",function mv(mA,mz){mq().refreshGetData(ly(),function(){try{var mE=lt;var mC=mq().getData(lV,0,lw)||0;if(mC===0||mC!==lt){var mD=mC+1;lJ("updating priority from "+mE+" to "+mD,4);mk(mD);lx(mD,mE);}}catch(mB){lp(mB,"Error updating priority");}if(mz){mz(lt);}});});var lx=l0.Virtual.Protected("afterUpdatingPriority",function lx(mz){mi(mz);});function mk(mz){lt=mz;mq().saveData(lV,lt,lY,lw);mr(lt);if(lT()){lJ("is running during set priority - setting current owner",4);mj(lt);}lJ("updated priority: "+lt,4);}function mi(mA){var mz={requestType:mh,priority:mA};lJ("sending priority to all frames: "+mA,4);mtjQuery("iframe").each(function(mC,mB){mB.contentWindow.postMessage(kL(mz),"*");});}function lK(){return mq().getData(lH,false,lw);}function mj(mz){lJ("setting owner to: "+mz,4);lq=mt;return mq().saveData(lH,mz,lY,lw);}function mc(){lJ("removing current owner",4);mq().saveData(lH,null,lY,lw);}function ma(){lJ("register in queue with priority "+lt,4);mq().addToDictionary(l2,lt,lI(),lY,lw);if(!lv){lv=gV(mu,l3);}}function lI(){return new Date().getTime();}function lF(){lJ("po_tabs - clear priorities queue",4);mq().saveData(l2,null,lY,lw);}function lL(){var mz=mq().getData(l2,false,lw);lJ("registered priorities: "+kL(mz),4);var mA=0;var mB=mo;while(!mA&&mB<lZ){for(var mC in mz){if(mz.hasOwnProperty(mC)){priority=parseInt(mC,10);if(lI()-mz[mC]<mB&&priority>mA){mA=priority;}}}mB+=l3;}return mA;}lG.apply(null,arguments);}function dE(){var lx=new lb(this);this.LocalSVNRevision="$Rev: 3667 $";var ls,lo,ly="walkme-priorities";function lr(lF){lx.Extends(kC,lF);_base=lx._base;ls=lF.logger.wrapCustomerLog(hc);}lx.Override("getPriority",function lt(){return _base.getPriority()||lo;});lx.Override("restorePriority",function lA(lF){ls("[po_frames] restoring priority, temp priority is: "+lo);if(window==top){_base.restorePriority(lF);}else{var lH=lu();if(lH&&lH.length){var lI=lv(top);lH.sort(function(lJ,lK){if(lJ>lK){return -1;}else{if(lJ<lK){return 1;}else{return 0;}}});ls("[po_frames] used priorities: "+kL(lH));for(var lG=0;lG<lH.length&&!lo;lG++){if(wmjQuery.inArray(lH[lG],lI)==-1){lI.push(lH[lG]);sessionStorage.setItem(ly,kL(lI));lo=lH[lG];}}}lE(lo,lF);}});function lu(){var lF=sessionStorage.getItem(ly);ls("[po_frames] getting session priorities: "+lF,4);if(lF){return jb(lF);}}function lE(lG,lF){if(lG&&!lq(lG)){if(lF){lF(lG);}}else{_base.updatePriority(null,function(lH){lE(lH,lF);});}}function lq(lF){return wmjQuery.inArray(lF,lv(top))!=-1;}lx.Override("storePriority",function lD(lG){lG=parseInt(lG,10);if(window==top){_base.storePriority(lG);}else{var lF=jb(sessionStorage.getItem(ly)||"[]");if(wmjQuery.inArray(lG,lF)==-1){lF.push(lG);}ls("[po_frames] storing priority "+lG+" in the session",4);sessionStorage.setItem(ly,kL(lF));}});function lv(lI){var lH=[];try{var lK=lI._makeTutorial.crossDomainManager.getPriority();if(lI!=window&&lK){lH.push(parseInt(lK,10));}}catch(lF){}var lJ=lI.frames;for(var lG=0;lG<lJ.length;lG++){lH=lH.concat(lv(lJ[lG]));}return lH;}lx.Override("afterUpdatingPriority",function lp(lG,lF){lz(lF);});function lz(lG){var lF=lu();ls("[po_frames] removing priority "+lG+" from session",4);if(lF&&lG){var lH=wmjQuery.inArray(lG,lF);if(lH>=0){lF.splice(lH,1);sessionStorage.setItem(ly,kL(lF));}}}lx.Override("handleSendPriorityRequest",function lw(lF){});lx.Override("shouldRegisterFocusEvents",function lC(){return true;});lx.Override("shouldRegainOwnership",function lB(lG,lF){return true;});lr.apply(null,arguments);}function kl(){this.LocalSVNRevision="$Rev: 3369 $";var lu=2000;var lq=this;var lp={};var lo=false;function lr(){}lq.registerSticky=function lw(ly){if(!lt(ly.stickinessType)){co(dD("Sticky with id={0} has an invalid stickiness type={1}",ly.identifier,ly.stickinessType),1,hg);return;}co(dD("registerSticky for sticky with identifier {0}: stickinessType={1}",ly.identifier,ly.stickinessType),1,hg);lp[ly.identifier]=ly;lx();};function lt(lz){var lA=eh(kk);for(var ly=0;ly<lA.length;ly++){if(lA[ly]==lz){return true;}}return false;}function lx(){if(lo){return;}lo=true;co(dD("Started watching stickies with identifiers:{0}",kL(ef(lp))),1,hg);gV(lv,lu);}function lv(){wmjQuery.each(lp,function(lz,lA){ls(lA);});var ly=eg(lp);if(ly>0){gV(lv,lu);}else{lo=false;}}function ls(lA){var lz=lA.shouldDrawFunction();var ly=dD("handleStickinessTypes, stickyIdentifier={0}. stickinessType={1}. shouldDraw={2}",lA.identifier,lA.stickinessType,lz);co(ly,3,hg);if(lz){var lB=lA.redrawFunction();if(lB&&(lA.stickinessType==kk.soft)){co(dD("Sticky with identifier {0} was drawn and removed from stickies list",lA.identifier),3,hg);delete lp[lA.identifier];}}}lr.apply(null,arguments);}var kl=new kl();function b0(){this.LocalSVNRevision="$Rev: 3659 $";var lu=this,l0="ContentPlayMode",lV="walkme-content-light-box",lX="walkme-content-light-box-top-bar",lA="walkme-ajax-loader",mc="walkme-ajax-taking-long",l2="walkme-ligth-box-reload",md="walkmeLightBox",lY="LightboxWidth",lW="LightboxHeight",lZ="walkme-content-background",lU="keyup.walkme",l9=8000,l1=15000,lq,lo,lr,lp,lt,ls,lI;function lH(me){lq=me.lib;lo=me.cdnServer;lp=me.clickAuditManager;lI=lq.Logger.wrapCustomerLog(g7);}lu.getContentTypeName=k8.WM_PURE_VIRTUAL();lu.createContentElement=k8.WM_PURE_VIRTUAL();lu.needsNewTabButton=k8.WM_PURE_VIRTUAL();lu.defaultLightboxSize=k8.WM_PURE_VIRTUAL();lu.cannotPlayInLightbox=function lC(mf){var me=(window.location.href.indexOf("https://")==0&&mf.indexOf("https://")!=0);if(me){lI("Can't play content in lightbox");}return me;};lu.activateContent=function lv(me){var mf=parseInt(e0(me.Settings,l0,hP.NewTab));lI(dD("Started playing content, play mode is :{0}",mf));lp.SendClickAudit(cF.Content,me.Id,me.userGuid);me.Url=cy(me.Url,["&"]);lI(dD("Content url is :{0}",me.Url));switch(mf){case hP.Widget:ly(me);break;case hP.LightBox:if(lu.cannotPlayInLightbox(me.Url)){lI("Falling back to playing content in a new tab instead");lx(me);}else{lw(me);}break;case hP.NewTab:lx(me);break;}};function lw(mf){var me=ff(null,false);lF(me,mf);lq.centerElementInPage(lr,false);}function lF(mf,mg){var mj=lK(mg);lr=mtjQuery(mj);h2.registerResizeAndScrollEvents({element:lr,eventNameSuffix:md});var me=lJ(lr);h2.centerElementInParent(me,lr);me.css("left","0");lz(lr,mg);lq.getUiUtils().setLangAttribute(lr);var ml=lG();lr.append(ml);lR(mg,mf);lS();lB(mf);var mh=lu.createContentElement(mg);mh.hide();var mi=lT(mh);lr.append(mi);mh.load(function(){l7(true);lJ(lr).remove();mh.show();});mf.append(lr);var mk=wmjQuery("#"+l2);mk.click(function(){var mm=mh.get(0);mm.src=mm.src;lJ(lr).show();l7(false);l8();});h2.centerElementInParent(mk,lr);mk.css("left","0");l8();}function l8(){lt=gV(ma,l9);ls=gV(l3,l1);}function l7(mf){if(ls){ls.clear();}if(lt){lt.clear();}var me=wmjQuery("#"+l2);var mg=wmjQuery("#"+mc);if(mf){me.remove();mg.remove();}else{me.css("display","none");mg.css("display","none");}}function l3(){wmjQuery("#"+l2).css("display","block");ls.clear();lJ(lr).hide();}function ma(){var me=wmjQuery("#"+mc);h2.centerElementInParent(me,lr);me.css("left","0");me.css("display","block");lt.clear();}function lT(me){var mf=/iPhone|iPod|iPad/.test(navigator.userAgent);if(mf){return lN(me);}else{return me;}}function lN(me){var mf={width:me.attr("width"),height:me.attr("height"),overflow:"auto","-webkit-overflow-scrolling":"touch"};var mg=wmjQuery("<div />").css(mf);mg.append(me);return mg;}function lJ(){var me=mtjQuery("#"+lA,lr);return me;}function lK(me){var mj=lu.getDimensionSize("width",me);var mf=lu.getDimensionSize("height",me);var mi=parseFloat(mj)+4;var mh="<div id='{{lightboxDivId}}' style='float:left; width:{{lightboxWidth}}px; height:{{lightboxHeight}}px; padding: 2px; z-index:{{zIndex}}; background-color:white; box-shadow:4px -4px 19px -1px #494949;'><div id='{{lightboxTopbarDivId}}' style='position: absolute; top: -23px; left: 0px; height: 25px; width: {{topbarWidth}}px; background-color:#646464;'></div><div id='{{ajaxLoaderDivId}}' style='background:url({{{cdnServer}}}/player/resources/images/ajax-loader_v2.gif) no-repeat center;width:100%; height:100px; position:relative; text-align:center; vertical-align: bottom; margin-top: -30px;'><span style='display: inline-block; color: #99d3fe; font-size: 14px; font-family: Arial; font-weight: bold; margin-top: 108px;'>Loading</span></div><div id='{{reloadDivId}}' style='display: none; direction: ltr; cursor: pointer; position: relative; text-align: center; margin-top: -20px; color: #168dce; font-size: 14px; font-family: Arial;'><img style='vertical-align: -11px; margin-right: 3px' src='{{{cdnServer}}}/player/resources/images/reload.png' />Reload Page</div><div id='{{waitingDivId}}' style='display: none; font-size: 14px; font-family: Arial; color: #464646; text-align: center; position: relative; font-weight: bold;'>This is taking longer than expected</div></div>";var mg=hs.to_html(mh,{lightboxDivId:lV,lightboxWidth:mj,lightboxHeight:mf,zIndex:hW,lightboxTopbarDivId:lX,topbarWidth:mi,ajaxLoaderDivId:lA,waitingDivId:mc,reloadDivId:l2,cdnServer:lo});return mg;}function lz(mf){var me=dD("walkme-{0}-light-box-{1}",lu.getContentTypeName(),mf.Id);lr.addClass(me);lr.addClass("walkme-to-remove");lr.addClass("walkme-to-destroy");}function lE(mf,mg){var me=(mg?"#404040":"#646464");mf.css("backgroundColor",me);}function lG(){var mf="walkme-light-box-x-button";var me=dD("<div id={0} title='Close' style='position:absolute; height: 17px; width: 17px; right: 5px; top: -19px; cursor: pointer; z-index: 2147483632; vertical-align: top;'><img src='{1}/player/resources/images/blue-x-button.png' style='margin: 4px;' /></div>",mf,lo);var mg=mtjQuery(me);mg.click(lD);mg.mouseover(function(){lE(mg,true);});mg.mouseout(function(){lE(mg,false);});return mg;}function lR(mf,me){if(lu.needsNewTabButton()){var mi="walkme-open-in-new-tab-button";var mg=dD("<div id={0} title='Open in a new tab' style='position:absolute;height:17px; width:17px; right:25px; top:-19px; cursor:pointer; z-index:2147483632; vertical-align: top;'><img src='{1}/player/resources/images/open-in-new-tab.png' style='margin: 4px;'></div>",mi,lo);var mh=mtjQuery(mg);mh.click(function(){lu.removeContent(me);lx(mf);});mh.mouseover(function(){lE(mh,true);});mh.mouseout(function(){lE(mh,false);});lr.append(mh);}}function lS(){var me=kY.canDisplayOverlay();if(me){var mf=kY.displayOverlay(hW,false,lZ);mf.click(function(){lu.removeContent();});}}function lB(me){me.bind(lU,function(mf){if(mf.keyCode==27){lu.removeContent();}});}function lD(){lu.removeContent();}lu.removeContent=function l4(me){if(!me){me=ff(null,false);}l7(false);l5(me);l6();mb(me);};function l5(me){var mf=mtjQuery("#"+lV,me);mf.find("iframe").attr("src","");mf.remove();h2.removeScrollAndResizeEvents(md);}function l6(){mtjQuery("#"+lZ).remove();}function mb(me){me.unbind(lU);}function lx(me){if(lq.getCommonUtils().isValidUrl(me.Url)){lI(dD("Opening content in new tab. Url: {0}",me.Url));window.open(me.Url,"_blank");}else{lI(dD("Content url is invalid: {0}",me.Url));}}function ly(me){throw"activateContentInWidget is unimplemented";}lu.getLightboxSizeInPixels=function lO(){return{width:lr.css("width").replace("px",""),height:lr.css("height").replace("px","")};};lu.getDimensionSize=function lM(mg,me){var mf=lu.defaultLightboxSize();var mk=lQ(mg);var mj=lP(me,mk);var mh=lL(mg);var mi=e0(me.Settings,mh,mf[mg]);if(mj=="%"){var ml=h2.getWindowSize();mi=ml[mg]*mi/100;}return mi;};function lQ(me){return me+"Unit";}function lP(me,mf){return e0(me.Settings,mf,"px");}function lL(me){return settingKey=(me=="height")?lW:lY;}lH.apply(null,arguments);}function k0(){this.LocalSVNRevision="$Rev: 3653 $";var lp=this;var lo=null;var lq;var lr,lu;var lC="VideoParameters";var lD=420;var lB=315;function lt(lE){k8.extend(lp,b0,lE);lo=lE.lib;lq=lE.vendorName;lr=lE.videoId;lu=lo.Logger.wrapCustomerLog(g7);}lp.getContentTypeName=function lw(){return"video";};lp.createContentElement=function(lE){return ls(lE);};lp.needsNewTabButton=function lA(){return false;};lp.defaultLightboxSize=function lv(){return{width:lD,height:lB};};function ls(lF){var lI=ly(lF);var lE=dD("[{0} {1}]{2}[/{3}]",lq,lI,lr,lq);var lG=lo.parseBBCode(lE);var lH=mtjQuery(lG);return lH;}function ly(lE){var lF=e0(lE.Settings,lC,"");lF=lz(lF,lE);lF+=' wmode="opaque"';return lF;}function lz(lG,lF){lG=lG.replace(/&quot;/gi,'"');lG=lG.replace(/((width|height)="[^\\"]+)"/gi,"");var lE=lx();lG+=" "+lE;return lG;}function lx(){var lE=lp.getLightboxSizeInPixels();var lF=dD('width="{0}" height="{1}"',lE.width,lE.height);return lF;}lt.apply(null,arguments);}function aY(){this.LocalSVNRevision="$Rev: 3653 $";var lp=this;var lo=null;var ls;var lu=900;var lt=500;function lr(ly){k8.extend(lp,b0,ly);lo=ly.lib;ls=lo.Logger.wrapCustomerLog(g7);}lp.getContentTypeName=function lw(){return"article";};lp.createContentElement=function(ly){return lq(ly);};lp.needsNewTabButton=function lx(){return true;};lp.defaultLightboxSize=function lv(){return{width:lu,height:lt};};function lq(ly){if(!lo.getCommonUtils().isValidUrl(ly.Url)){return;}var lB=lp.getLightboxSizeInPixels();var lC='<div class="embed-container"> <iframe frameborder="0" src="{{{url}}}" style="width: {{{width}}}px; height: {{{height}}}px;"></iframe></div>';var lA=hs.to_html(lC,{width:lB.width,height:lB.height,url:encodeURI(ly.Url)});var lz=mtjQuery(lA);return lz;}lr.apply(null,arguments);}function ax(){this.LocalSVNRevision="$Rev: 3656 $";var lu=this;var lo;var lt;var lp;var lr;var lI="ABTesting";var lM="wm-ABPer";var ly="wm-frcd";var ls=-1;var lq=false;var lK=10*1000;function lv(lP,lN,lO){lo=lO.Logger.wrapCustomerLog(lI);lt=lP;lp=lN;lr=lO;}lu.initGetPermutation=function lG(lQ,lO,lP,lN){lz(lQ,lO,lP,function(lR){ls=lR;lN(lR);});};lu.getPermutation=function lB(lO,lN){return ls;};lu.getPermutationById=function lC(lP,lO){for(var lN=0;lN<lP.length;lN++){if(lP[lN].PermutationId==lO){return lP[lN];}}return false;};function lA(lN,lO){return ly+"-"+lN+"-"+lO;}function lF(lN){return lM+"-"+lN;}function lz(lX,lQ,lT,lP){if(!lX){lP(-1);return;}var lS=lp.getEndUserGuid(true);if(lS===false){lo("WalkMe ABTesting - Cannot retrieve end user. Stopping execution",1);lr.removeWalkMe("AbTesting - Cannot fetch EndUser");return;}var lY=lF(lS),lU=lT!=null,lO,lN=lE(lX,lQ),lW=lD(lY,lN);if(lW!=undefined&&!lU){ls=lW;lo("using permutation from storage: "+lW,1);lP(lW);return;}if(lU){lq=true;var lV=lL(lS,lT,lW);if(!lV){lo("using permutation from activation rule: "+lT,1);ls=lT;lP(lT);return;}lo("got permutation from activation rule: "+lT,2);lO=lT;}else{lO=lw(lX);lo("permutation was drawn: "+lO,1);}lo("sending permutation id to server: "+lO,2);var lR=lQ?lQ.PermutationId:undefined;lJ(lS,lO,lN,lR,lU,function(l0){lo("server returned permutation id : "+l0,2);lo("saving permutation in storage : "+l0,3);lt.saveData(lY,l0,b4);if(lU){lo("Activation rule was used.",2);var lZ=lA(lS,lT);lt.saveData(lZ,1,b4);ls=lO;}else{ls=l0;}lo("Final permutation: "+ls,1);lP(ls);});}function lL(lN,lO,lQ){if(lQ==lO){return false;}var lP=lA(lN,lO);return(lt.getData(lP)!=1);}function lD(lP,lO){var lN=parseInt(lt.getData(lP));if(!isNaN(lN)){if(fT(lN,lO)>-1){lo("permutation exists in storage: "+lN,1);return lN;}lo("permutation exists in storage but was out of date: "+lN,1);}lo("no valid permutation exists in storage",2);return undefined;}function lJ(lP,lR,lN,lO,lQ,lT){var lS=aw.execute({url:Z+"/AbTesting/SaveEndUserPermutation",dataType:"jsonp",data:{endUser:lP,walkmeUserGuid:au,source:dQ(),permutationId:lR,isForcedPermutation:lQ,availablePermutationsSerialized:kL(lN),browser:dZ(),os:eN(),timeout:lK,defaultPermutation:lO}});lS.success(function(lU){if(lU==="error"){lx();}else{lT(lU);}});lS.error(function(lU,lV,lW){lx();});}function lx(){lo("WalkMe ABTesting - Error when saving end-user permutation. Removing WalkMe",1);lr.removeWalkMe("AbTesting - Cannot fetch EndUser Permutation");}function lE(lP,lN){var lQ=[];for(var lO=0;lO<lP.length;lO++){lQ.push(lP[lO].PermutationId);}if(lN){lQ.push(lN.PermutationId);}return lQ;}function lH(lO,lP){for(var lN=0;lN<lP.length;lN++){if(lP[lN].PermutationId==lO){return true;}}return false;}function lw(lO){var lQ=0;var lP=Math.random();for(var lN=0;lN<lO.length;lN++){lQ+=lO[lN].Percentage;if(lQ>=lP){return lO[lN].PermutationId;}}return lO[lO.length-1].PermutationId;}lv.apply(null,arguments);}function aA(){this.LocalSVNRevision="$Rev: 3656 $";var lv=this,lu,lr,lo,ls,lq,lt,lp=[],lD="ABTesting";function ly(lG){lr=lG.deployablesGoalManager;ls=lG.experiments;lu=lG.lib;lt=lG.getEndUserGuid;lq=lu.Logger.wrapCustomerLog(lD);lo=new az({lib:lu,serverAddress:lG.serverAddress,getPermutationId:lG.getPermutationId,getEndUserGuid:lG.getEndUserGuid,getAuditSource:lG.getAuditSource,storageManager:lG.storageManager});}var lB=function lB(lG){if(lG.GoalType==cF.AbExperiment||lC(lG.Id)){var lI=lt();var lH=lo.syncRetrieveCompletedGoals(lI);if(fT(lG.Id,lH)==-1){lq("Experiment Goal was completed! Goal ID:"+lG.Id+", Goal Name : "+lG.Name,1);lo.updateGoalCompleted(lI,lG.Id);}}};function lC(lG){return(fT(lG,lp)>-1);}function lA(lJ,lG){var lH=[];var lL=[];for(var lK=0;lK<lJ.Goals.length;lK++){var lI=lJ.Goals[lK];if(fT(lI.Id,lG)>-1){lH.push(lI);}else{lL.push(lI);}}lJ.Goals=lL;lJ.CompletedGoals=lH;}function lE(lG){for(var lI=0;lI<ls.length;lI++){var lH=ls[lI];lA(lH,lG);}}function lz(lJ,lG,lM){for(var lI=0;lI<lJ.length;lI++){var lH=lJ[lI];for(var lL=0;lL<lH.Goals.length;lL++){var lK=lH.Goals[lL];lG.push(lK.Id);if(lK.IsLinkedGoal==1){lM.push(lK.Id);}}}}var lx=false;this.startWatching=function lF(lH){if(lx){return;}lx=true;var lG=[];lz(ls,lG,lp);if(lG.length==0){lq("No AbTesting goals were defined");lH&&lH();return;}lr.onGoalCompleted(lB);var lI=lt();var lK=lo.syncRetrieveCompletedGoals(lI);if(lK){lq("Completed goals data exists. Starting goals watch");lw(lK,lH);}else{lq("No completed goals data exists locally. Fetching from server");lo.asyncRetrieveCompletedGoals(lI,lG,function lL(lM){lq("Completed goals data recieved. Starting goals watch");lw(lM,lH);},function lJ(){lq("WalkMe ABTesting - Error when fetching end-user goals. Removing WalkMe",1);lu.removeWalkMe("AbTesting - Cannot fetch EndUser Goals");});}};lv.isGoalReached=function(lH){var lG=lo.syncRetrieveCompletedGoals(lt());for(var lI=0;lI<lG.length;lI++){if(lG[lI]==lH){return true;}}return false;};function lw(lI,lG){lE(lI);for(var lJ=0;lJ<ls.length;lJ++){var lH=ls[lJ];lq("Start watching Experiment goals. ExperimentID : "+lH.Id,2);lr.startWatchingDeployable(lH,undefined);}lG&&lG();}ly.apply(null,arguments);}function c1(){var lq=this;var lp,lo,lw;lq.LocalSVNRevision="$Rev: 3649 $";function lv(l8,l7){lp=l8;lo=l7;lw=lp.Logger.wrapCustomerLog(g8);}lq.findElement=function lD(md,ma,mb){try{if(gB(md)){return eS();}if(f4(md)){return dM(md).isValid();}var l9=md.ElementDescription;var me=lR(md.StepSensitivity);lw(md,5);var l8=false;var mf=lW(md,ma);if(md.IsJquerySelector){if(mf.length>0){return mf[0];}}ls(mf,"red");mf=ly(mf,md);ls(mf,"yellow");var mc=lT(md);var mg=hk(mf,function(mi){return[lS(mc,mi,l9),mi];});var mh=hm(mg,function(mi){return mi[0].sum;});if(mh&&mb){mb.score=mh[0].sum;mb.details=mh[0].scores;}if(mh&&(mh[0].sum>me)){l8=mh[1];ls([l8],"green");}else{if(mh){ls([mh[1]],"black");if(mb){mb.score=mh[0];}}}return l8;}catch(l7){lp.Logger.error(l7);}};function lR(l7){switch(l7){case 0:return 0;case 1:return 1.45;case 2:return 3;default:return 1.45;}}var lW=function lW(mb,ma){lB(mb.ElementDescription);var l7=[];if(!mb.IsJquerySelector){l7=lQ(mb,ma);}var md=lV(mb,l7);var mc=[];for(var l9=0;l9<md.length;l9++){var l8=md[l9];lr(l8(mb,l7,ma),mc);}dC(mc,function(me){me.data("iframe",mb.ElementDescription.extended.elementIframe);});return mc;};var lV=function lV(l8,l7){var l9=[];if(gz(l8.ElementDescription["data-walkmeid"])){l9=[lL];return l9;}l9=[lJ];if(l7.length<2000){l9.push(lM);}else{l9.push(lF);}if(l8.IsIdentifyByText){l9=[lK];}else{if(l8.IsJquerySelector){l9=[lH];}else{if(l8.IsIdentifyById){l9=[lG];l9.push(lI);}else{if(!l8.IsIgonreId){l9.push(lG);l9.push(lI);}if(!l8.IsIgnoreText){l9.push(lK);}}}}return l9;};var lJ=function lJ(l8,l7){return lC(l7,"src",l8.ElementDescription.src,l8.ElementDescription.extended.elementType,l8.ElementDescription.extended.elementIframe);};var lI=function lI(l8,l7){return lC(l7,"name",l8.ElementDescription.elementName,l8.ElementDescription.extended.elementType,l8.ElementDescription.extended.elementIframe);};var lQ=function lQ(ma,l8){var l9=ma.ElementDescription.extended.elementType.replace(":","\\:");if((l8==undefined)||(l8)){l9+=":mt_visible";}var l7;if(ma.ElementDescription.extended.elementIframe){l7=mtjQuery(l9,ex(ma.ElementDescription.extended.elementIframe));}else{l7=mtjQuery(l9);}return l7;};var lM=function lM(ma,l7){var mb=[];var l8;for(var l9=0;l9<l7.length;l9++){l8=bg(l7[l9],ma.ElementDescription);if(l8.NumNodeRemove<=lj){mb.push(l7[l9]);}}return mb;};function lF(l9,l7){var ma=[];var l8=dn(l9.ElementDescription.extended.xpathArray);if(l8){ma.push(l8);}return ma;}var lK=function lK(l9,l7){if(!l9.ElementDescription.textArray||l9.ElementDescription.textArray.length==0){return[];}var l8=dl(l7,function(mb){var mc=lp.getElementTextArray(mb);if(l9.ElementDescription.textArray.length>0&&mc.length>0){var mc=mc[0];var ma=l9.ElementDescription.textArray[0];ma=cy(ma,["&",'"',"'",">","<"]);return mc==ma;}return false;});return l8;};var lB=function lB(l7){var ma=ln(l7.elementXpath);var l8=lN(ma);var l9=ma[ma.length-1]["tag"];l7.extended=new Object();l7.extended.xpathArray=ma;l7.extended.xpathArrayToIframe=lO(ma);l7.extended.xpathArrayToIframeNoBodyAndHtml=iB(l7.extended.xpathArrayToIframe);l7.extended.elementIframe=l8;l7.extended.elementType=l9;};function ly(mb,ma){var l8=lP(ma);function l9(mc){for(var md=0;md<l8.length;md++){if(l8[md](mc,ma.ElementDescription)){return false;}}return true;}var l7=dl(mb,l9);return l7;}var lr=function lr(l7,l9){for(var l8=0;l8<l7.length;l8++){l9.push(mtjQuery(l7[l8]));}};function lS(mc,l7,l8){var l9=false;var ma=[];var mb=hk(mc,function(me){if(l9){return 0;}if(me.weight==0){return 0;}var mf=me.func(l7,l8);if(mf==i7){l9=true;}return mf*me.weight;});var md;if(l9){ls([l7],"pink");md=i7;}else{md=kx(mb);}return{sum:md,scores:ma};}function l6(mg,mc,l8){var me=mg.split(mc);var mb=dl(me,function(mh){return mtjQuery.trim(mh);});var ma=hk(mb,function(mh){return mh.split(l8);});var mf={};for(var l7=0;l7<ma.length;l7++){var md=ma[l7];var l9=mtjQuery.trim(md[0]);var mg="";if(md[1]){mg=mtjQuery.trim(md[1]);}mf[l9]=mg;}return mf;}function l1(l7,l8,mb,ma){function l9(mc,md){if(!md[l8]||!mc.attr(l7)){return 0;}var me=lt(md[l8],mc.attr(l7),mb,ma);if(me==1){return 1;}else{return 0;}}l9.attributeName=l7;return l9;}function lt(me,l8,mf,l9){var md=l6(me,mf,l9);var l7=l6(l8,mf,l9);var mb=0;var mc=0;for(var ma in md){if(md.hasOwnProperty(ma)){mc++;if(md[ma]==l7[ma]){mb++;}}}return mb/mc;}function lT(l8){var l7=[];if(l8.IgnorePosition==0){l7.push(new lY(lX,1));}l7.push(new lY(l5,1),new lY(l2,0.7),new lY(lZ("src","src"),3),new lY(lZ("alt","alt"),1),new lY(l1("class","class"," "),0.7),new lY(l1("style","style",";",":"),0.5),new lY(lZ("colspan","colspan"),0.3),new lY(lZ("cellpadding","cellpadding"),0.3),new lY(lZ("cellspacing","cellspacing"),0.3),new lY(lZ("border","border"),0.3),new lY(lZ("dir","dir"),0.3),new lY(lZ("width","width"),0.3),new lY(lZ("value","value"),10),new lY(lZ("placeholder","placeholder"),3),new lY(lZ("data-walkmeid","data-walkmeid"),1000),new lY(l0("href","href","#"),3));if(!l8.IsIgnoreId){l7.push(new lY(lZ("id","elementId"),10));l7.push(new lY(lZ("name","elementName"),8));}if(!l8.IsIgnoreText){l7.push(new lY(l3,3));l7.push(new lY(lZ("title","title"),3));}return l7;}var lY=function(l7,l8){this.func=l7;this.weight=l8;};var lZ=function(l7,l8){function l9(ma,mb){if(mb[l8]&&ma.attr(l7)&&mb[l8].length>0&&ma.attr(l7)==mb[l8]){return 1;}return 0;}l9.attributeName=l7;return l9;};function l0(l7,l8,mb){var ma=lZ(l7,l8);function l9(mc,md){if(md[l8]==mb){return 0;}else{return ma(mc,md);}}l9.attributeName=l7;return l9;}var lH=function lH(mn,l7,mg){if(mn.JquerySelector==undefined){return[];}var mm=mn.JquerySelector;mm=mm.replace(/&quot;/gi,'"');mm=mm.replace(/&apos;/gi,"'");mm=mm.replace(/&#39;/gi,"'");mm=mm.replace(/&amp;/gi,"&");mm=mm.replace(/&gt;/gi,">");var md;var l9="context:";var mc=",element:";var mf="func:";if(j9(mm,l9)){var ma=mm.substr(l9.length);var me=ma.substr(ma.indexOf(mc)+mc.length);ma=ma.substr(0,ma.indexOf(mc));var l8=mtjQuery(ma);if(l8.length>0){if(eo(l8[0])=="IFRAME"){mn.ElementDescription.extended.elementIframe=l8;}else{mn.ElementDescription.extended.elementIframe=false;}l8=l8.contents();md=mtjQuery(me,l8);lw("jQuery selector found these elements:",5);lw(mk,5);}else{return[];}}else{if(j9(mm,mf)){try{var mj=mm.substr(mf.length);var mi=mtjQuery.parseJSON(mj);var ml=f2(mi);if(ml.iframe){mn.ElementDescription.extended.elementIframe=mtjQuery(ml.iframe);}var mk=mtjQuery(ml.result);if((mg==undefined)||(mg)){mk=mk.filter(":mt_visible");}lw("func selector found these elements:",5);lw(mk,5);return mk;}catch(mb){if(M){console.log("Using jQuery selector with function raised an exception:");console.log(mb);}else{lw("Using jQuery selector with function raised an exception:");lw(mb);}return[];}}else{var mh=lo.getJqueryFindElementObject(mm);md=lo.findjQueryElement(mh,mn);}}if(md.length>0){if((mg==undefined)||(mg)){md=md.filter(":mt_visible");}}lw("jQuery selector found these elements:",5);lw(md,5);return md;};var lG=function lG(l8,l7){return lC(l7,"id",l8.ElementDescription.elementId,l8.ElementDescription.extended.elementType,l8.ElementDescription.extended.elementIframe);};function lL(l8,l7){return lC(null,"data-walkmeid",l8.ElementDescription["data-walkmeid"],"",l8.ElementDescription.extended.elementIframe);}var lC=function lC(l7,l8,l9,mc,ma){if(!l9){return[];}var md=dD("{0}[{1}='{2}']",mc,l8,l9);var mb;if(l7){mb=mtjQuery(l7).filter(md);}else{mb=mtjQuery(md);}return hk(mb,mtjQuery);};var lO=function(l9){if(l9.length==1){return null;}for(var l8=l9.length-2;l8>=0;l8--){if((l9[l8]["tag"]=="iframe")||(l9[l8]["tag"]=="frame")){break;}}if(l8<=0){return l9;}var l7=l9.slice(l8+1);return l7;};var l5=function l5(l8,l9){var l7=bg(l8[0],l9);if(l7.NumNodeRemove>lj){return 0;}var ma=1-(l7.NumNodeRemove+l7.SumNodeDiff/10)*0.1;return ma<0?0:ma;};var l3=function l3(l9,ma){if(ma.textArray===undefined){l4(l9,ma);}var mc=lp.getElementTextArray(l9[0]);var l8=ma.textArray;if(mc&&l8){var l7=l8[0];var mb=mc[0];l7=cy(l7,["&",'"',"'",">","<"]);return(l7==mb)?1:0;}return 0;};var l4=function l4(l7,l8){var l9=mtjQuery(l7).text();l9=mtjQuery.trim(l9);descriptionText=mtjQuery.trim(l8.elementText);if(l9.length>0&&(l9==descriptionText)){return 1;}return 0;};var l2=function l2(l7,l8){var mc=["div","table","tr","td","tbody","th"];if(fT(l8.extended.elementType,mc)==-1){return 0;}else{var ma=l7.width();var l9=l7.height();if(ma*l9!=0){var me=lU(ma,l8.elementWidth)/2;var mb=lU(l9,l8.elementHeight)/2;var md=me+mb;return(md>=0.6)?md:0;}return 0;}};var lX=function lX(ma,mb){var l7=mb.relativeLeft;var mc=eV(ma);var l9=Math.abs(l7-mc);var mf=mb.centeredElementWidth;if(mf){var me=mf/5;me=(me<30)?30:me;if(l9>me){return 0;}else{var mh=1-(l9/20);var l8=mb.elementAbsY;var md=mtjQuery(ma).offset().top;var l9=Math.abs(l8-md);var mi=1-(l9/20);var mj=0.3;if(mh>0.9){mj=0.9;}var mg=(mh*(1-mj))+mi*mj;return(mg<0)?0:mg;}}return 0;};var lP=function(l8){var l7=[];if(l8.IsJquerySelector||l8.IsIdentifyByText||gz(l8.ElementDescription["data-walkmeid"])){return l7;}if(!l8.IsIgnoreId){l7.push(lx);}return l7;};function lx(l7,l8){var l9=l7.attr("id");if(l9&&l9.length>0&&l9.length<30){if(l9!=l8.elementId){return true;}}}function lN(ma){if(ma.length==1){return null;}for(var l7=ma.length-2;l7>=0;l7--){if((ma[l7]["tag"]=="iframe")||(ma[l7]["tag"]=="frame")){break;}}if(l7<=0){return null;}var l9=ma.slice(0,l7+1);var l8=dn(l9);if(!mtjQuery(l8).is(":mt_visible")){l8=false;}if(l8){return l8;}else{return lE(ma,null);}}function lE(md,l9){for(var ma=0;ma<=md.length-1;ma++){if((md[ma]["tag"]=="iframe")||(md[ma]["tag"]=="frame")){break;}}if(ma>=md.length-1){return l9;}var mb=md.slice(0,ma+1);var l7=md.slice(ma+1);var l8;if(l9){l8=mtjQuery("iframe,frame",ex(l9));}else{l8=mtjQuery("iframe,frame");}l8=l8.filter(":mt_visible");if(l8.length==0){return false;}var mc=hq(l8,function(mf){var me=bh(mf);return lm(fB(new ll(),me,me.length-1,mb,mb.length-1));});if(l9&&l9.length>0){mtjQuery(mc).data("iframe",l9);}return lE(l7,mtjQuery(mc));}var ls=function(l8,l7){};function lu(l7){var l8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return((l8.exec(l7))!=null);}function lz(mb){var l7=mb.charCodeAt(0);var l9=l7.toString(16).toUpperCase();var ma=l9.length>2;var l8="\\"+(ma?"u":"x")+("0000"+l9).slice(ma?-4:-2);return l8;}lq.escapeSurrogatePairs=function lA(mb){if(!lu(mb)){return mb;}var l8=-1;var l9=mb.length;var ma="";while(++l8<l9){var l7=mb.charAt(l8);if(!/[\uD800-\uDBFF]/.test(l7)&&!/[\uDC00-\uDFFF]/.test(l7)){ma+=l7;continue;}ma+=lz(l7);}return ma;};var lU=function(l8,l7){var l9=l8/l7;if(l9>1){l9=1/l9;}var ma=Math.pow(l9,4);return ma;};lv.apply(null,arguments);}function c2(){var lq=this;lq.LocalSVNRevision="$Rev: 3404 $";var lv=".ui-dialog.ui-widget.ui-widget-content.ui-corner-all.ui-front:visible";var lp=true;var lo=[];function ls(){}function lx(){if(lp){var lC=[];for(var lB=0;lB<lo.length;lB++){try{lw(lo[lB],lB);}catch(lA){lC.push(lB);}}for(var lB=lC.length-1;lB>=0;lB--){lo.splice(lB,1);}}if(lo.length){gV(lx,3000);}}function lt(lA){return lA.nextAll(lv).length>0;}function lw(lA,lC){var lB=lA.parent();var lD=lB.contents().length;if(!lt(lA)&&(lu(lA[0])+lC+1)!=lD){lA.appendTo(lB);}}function lu(lA){var lB=0;while(lA=lA.previousSibling){lB++;}return lB;}lq.addElement=function lr(lA){if(!lo.length){gV(lx,3000);}lo.push(lA);};lq.removeElement=function ly(lA){var lB=wmjQuery.inArray(lA,lo);if(lB!=-1){lo.splice(lB,1);}};lq.setState=function lz(lA){lp=lA;};ls.apply(null,arguments);}function a0(){var lw="wm-ag-rep";var lG="TrianglePosition";var lu=this;var lr;var lv;var lq;var lt;var lo;var lp;function ly(lJ){lr=lJ.config;lv=lJ.utils;lq=lv.getCommonUtils();lt=lJ.player;}function lz(lJ){var lK=ff();lK.append("<div id='walkme-attengrab' class='walkme-to-destroy' style='display: none;'><img src='"+lJ.filename+"' /></div>");lo=mtjQuery("#walkme-attengrab",lK);lv.getUiUtils().setLangAttribute(lo);lq.libSetTimeout(function(){lB(lJ);},100);}var ls=0;function lB(lJ){if(lK(lt)){ls++;if(ls>10){return;}lq.libSetTimeout(function(){lB(lJ);},500);}else{lA(lJ);}function lK(){var lL=lF();var lM=(lt.attr("data-inanimation")=="1");return lL||lM;}}function lF(){return(lt.width()==0)||(lt.width()==28)||(lo.width()==0)||(lo.width()==28)||((lo.width()==24)&&(lo.width()==24));}function lA(lJ){var lS="0px",lQ="0px",lK="0px",lO="0px";var lT="auto",lR="auto",lL="auto",lP="auto";var lN=parseInt(lJ.hOffset);var lU=parseInt(lJ.vOffset);var lV=(lt.width()-lo.width())/2;var lM=(lt.height()-lo.height())/2;lL=lD(lL,"bottom",lM,lU);lT=lD(lT,"top",lM,lU);lR=lD(lR,"right",lV,lN);lP=lD(lP,"left",lV,lN);if(lr[lG].indexOf("center")>-1){lP="50%";lO=lx(lO,"margin-left",lV,lN);lO=lC("width",lO);}if(lr[lG].indexOf("middle")>-1){lT="50%";lS=lx(lS,"margin-top",lM,lU);lS=lC("height",lS);}lo.css({position:"fixed",top:lT,right:lR,bottom:lL,left:lP,"margin-top":lS,"margin-right":lQ,"margin-bottom":lK,"margin-left":lO});lo.show();if(parseFloat(lJ.timeout)>0){lq.libSetTimeout(lu.remove,parseFloat(lJ.timeout)*1000);}}function lC(lJ,lK){if(lt.hasClass("walkme-dynamic-size")){lK=parseFloat(lK.replace("px",""))+(lt.css(lJ).replace("px","")/2*-1);}return lK;}function lD(lL,lM,lJ,lK){if(lr[lG].indexOf(lM)>-1){lL=lx(lL,lM,lJ,lK);}return lL;}function lx(lL,lM,lJ,lK){lL=parseFloat(lt.css(lM).replace("px",""));lL+=lJ;lL+=lK;lL+="px";return lL;}lu.setupAttenGrab=function lI(){var lJ=lq.getSettingsValue(lr.Settings,"AG",false);if(!lJ){return;}if(lJ.filename){lJ.filename=lv.ResourceManager.getResourcePath(lJ.filename);}if(parseInt(lJ.id)==-1){return;}var lK=lv.checkRepeatCookie(lw,lJ.repeat);if(!lK.shouldStart){return;}lK.store();lp=lq.libSetTimeout(function(){lz(lJ);},parseFloat(lJ.delay)*1000);};lu.hide=function lE(){if(lo){lo.hide();}if(lp){lp.clear();}};lu.remove=function lH(){if(lo){lo.remove();}if(lp){lp.clear();}};ly.apply(null,arguments);}function aS(){this.LocalSVNRevision="$Rev: 2962 $";var ly="wm-ueuT";var lx="uniqueEndUser";var ls=this;var lr,lo,lp,lq;function lu(lC,lz,lA,lB){lr=lC;lo=lz;lp=lA;lq=lB;lq.customerLog("Analytics manager was created",3,lx);}ls.auditUniqueEndUser=function lt(lD,lC,lB){try{var lA=lr.getData(ly)!=1;if(lA){lv(lD,lC,lB);lq.customerLog("auditUniqueEndUser: sent unique user request. userGuid="+lD+" permutationId="+lC+"endUserGuid="+lB,3,lx);lr.saveData(ly,1,lw());}}catch(lz){lp(lz,"Failed while auditing unique end users");}};function lw(){var lz=new Date();var lA=new Date(lz.getFullYear(),lz.getMonth(),lz.getDate()+1,0,0,0);var lB=Math.floor(((lA.getTime()-lz.getTime())/1000));if(lB==0){lB=1;}return lB;}function lv(lD,lB,lz){if(f6()||!V){return true;}var lC=V+"/Analytics/UniqueEndUser";var lA={userId:lD,permutationId:lB,endUserGuid:lz};aw.execute({url:lC,data:lA});}lu.apply(null,arguments);}function bI(){this.LocalSVNRevision="$Rev: 3521 $";var lv=this,lu,ls,lr,lp,lo,lq,lt,ly=2000;function lw(lB){lu=lB.lib;ls=lB.getUserGuidFunc;lr=lB.getOsTypeFunc;lp=lB.getAuditSourceFunc;lo=lB.getAbPermutationFunc;lq=lB.getEndUserGuidFunc;}lv.SendClickAudit=function lA(lB,lE,lI){if(f6()){return;}if(lx(lB,lE,lI)){return;}var lJ=lI||ls(),lC=dZ(),lF=eN(),lH=dQ(),lD=lq(),lG=lo();aw.execute({url:Z+"/Statistics/AddClickAudit",data:{userGuid:lJ,fullUrl:ez(),source:lH,browser:lC,os:lF,auditType:lB,objectId:lE,permutationId:lG,endUserGuid:lD}});lz(lB,lE,lI);};function lx(lB,lD,lE){if(!lt){return false;}var lC=new Date().getTime();if(((lC-lt.auditTime)<=ly)&&lt.auditType==lB&&lt.objectId==lD&&lt.userGuid==lE){return true;}return false;}function lz(lB,lC,lD){lt={auditTime:new Date().getTime(),auditType:lB,objectId:lC,userGuid:lD};}lw.apply(null,arguments);}function gL(){var lo=this;lo.LocalSVNRevision="$Rev: 2217 $";var lp=["parent","children","next"];function lr(){}function lx(lB){return((typeof lB=="object")&&(lB!==null));}function lz(lD,lE,lB){var lC;if(lx(lD)){lC=lo.findjQueryElement(lD,lE,lB);}else{lC=wmjQuery(lD,lB);}return lC;}function ly(lD,lE,lC){var lB=undefined;if(lD!=undefined){lB=lz(lD,lE,lC);if(lB.length>0){var lF=eo(lB[0]);if(lF=="IFRAME"||lF=="FRAME"){if(lE){lE.ElementDescription.extended.elementIframe=lB;}lB=ex(lB);}else{if(lE){lE.ElementDescription.extended.elementIframe=false;}}}}return lB;}function lw(lB){if(lB!=undefined){if(mtjQuery.inArray(lB,lp)>-1){return true;}}return false;}function lA(lC,lD){var lE;try{lE=lC[lD]().eq(0);}catch(lB){_makeTutorial.Logger.error(lB,"runJqueryMethod : element has no method named '"+lD+"'");lE=wmjQuery();}return lE;}function lq(lB,lC){if(lB.method!=undefined){var lD;if(lx(lB.method)){lD=lB.method.name;}else{lD=lB.method;}if(lw(lD)){lC=lA(lC.eq(0),lD);}else{co("Unknown jQuery Selector Method : '"+lD+"'");lC=wmjQuery();}}return lC;}lo.findjQueryElement=function lt(lF,lG,lB){try{var lC=ly(lF.context,lG,lB);var lE=lz(lF.element,lG,lC);lE=lq(lF,lE);return lE;}catch(lD){co("jQuery Element Finder: Could not parse input");return wmjQuery();}};lo.getJqueryFindElementObject=function lv(lD){lD=wmjQuery.trim(lD);if(j9(lD,"{")){try{return jb(lD);}catch(lB){return null;}}else{var lC=new Object();lC.element=lD;return lC;}return null;};lo.findElementsByjQueryComplexSelector=function ls(lC){lC=cy(lC,["&",'"',"'",">"]);var lD=lo.getJqueryFindElementObject(lC);var lB=lo.findjQueryElement(lD);return lB;};lo.getjQueryElementText=function lu(lC){var lB=lo.findElementsByjQueryComplexSelector(lC);return bu(lB);};lr.apply(null,arguments);}function lh(){this.LocalSVNRevision="$Rev: 3338 $";var lq=this;var lp=false;var lo;function lr(lv,lu){lp=lv;lo=lu;}lq.execute=function ls(lv){lv.dataType=lv.dataType?lv.dataType:"jsonp";if(lv.dataType==="jsonp"){if(lp||(lo&&fL())){lt(lv);}}var lu=wmjQuery.ajax(lv);return lu;};function lt(lu){lu.dataType="json";}lr.apply(null,arguments);}function ay(){this.LocalSVNRevision="$Rev: 3625 $";var lp=this,lo;function lq(lv){lo=lv;}lp.shouldTrackAbTasks=function lu(){if(lo.getSiteConfig().TodoListSettings.isActive&&lt()){return true;}return lr();};function lt(){var lv=lo.getUiDataProvider().uiObjectsTree();for(var lw=0;lw<lv.length;lw++){if(ls(lv[lw])){return true;}}return false;}function ls(lx){if(lx.type()=="task"){return true;}var lv=lx.children();if(!lv||lv.length===0){return false;}for(var lw=0;lw<lv.length;lw++){if(ls(lv[lw])){return true;}}return false;}function lr(){var lw=dZ();if(lw.indexOf("IE")===-1){return true;}var ly=lw.indexOf(" ");var lx=lw.substring(ly+1);if(parseInt(lx)>=10){return true;}var lv="abTasksIE"+lx;if(gl(lv)){return true;}return false;}lq.apply(null,arguments);}function iN(){var lr=this;lr.LocalSVNRevision="$Rev: 3719 $";var lq,lu,lo,lp=[],lw="walkme-framesets-fix-id",lC="Comic Sans MS",lB="QW@HhsXJ",lA=50,lD=2500,lz=function(lU,lW,lV){var lT=this;lT.b(lV=lV||"");lT.b("@font-face {");lT.b("\n"+lV);lT.b("font-family: '");lT.b(lT.v(lT.f("family",lU,lW,0)));lT.b("';");lT.b("\n"+lV);lT.b("src: url(");lT.b(lT.v(lT.f("src",lU,lW,0)));lT.b(") ");if(lT.s(lT.f("format",lU,lW,1),lU,lW,0,69,89,"{{ }}")){lT.rs(lU,lW,function(lY,lZ,lX){lX.b("format('");lX.b(lX.v(lX.f("format",lY,lZ,0)));lX.b("')");});lU.pop();}lT.b(";");lT.b("\n"+lV);lT.b("font-weight: ");lT.b(lT.v(lT.f("weight",lU,lW,0)));lT.b(";");lT.b("\n"+lV);lT.b("font-style: ");lT.b(lT.v(lT.f("style",lU,lW,0)));lT.b(";");lT.b("\n"+lV);lT.b("}");return lT.fl();};function lt(lU,lT){lq=lU;lu=lq.wrapCustomerLog(hd);lo=lT;}lr.font=function ly(lT,lX,l1,lW){lX=lX||wmjQuery("head");var lU=lX[0].ownerDocument;var lV=lU.documentMode;if(!lV&&(dZ()=="IE 7")){lV=7;}var lZ=lV==8;var lY=(lV==7||lZ||lV==5);if(lY&&lT.name!="widget-font"&&!gl("loadAllFonts")){lu("Not loading font '"+lT.name+"' (IE7/8), to load all fonts enable the loadAllFonts feature",4);if(l1){l1();}return;}lu("Start loading font '"+lT.name+"'",4);var l3="wm-font-"+lT.id;if(wmjQuery("#"+l3,lX)&&wmjQuery("#"+l3,lX).exist()){lR(lT,lU,l1,lW);return;}var l0=lr.getResourcePath(lT.url);if(lY){if(lL(lX,lT.name)){lR(lT,lU,l1,lW);return;}lO(lT,l3,lX,l0);}else{lN(lT,l3,lX,l0);}var l2;if(lZ){l2=function(){if(!gl("highPerf")){lx(5);}if(l1){l1();}};}else{l2=l1;}lR(lT,lU,l2,lW);};function lL(lU,lT){for(var lV=0;lV<lU[0].ownerDocument.styleSheets.length;lV++){if(lU[0].ownerDocument.styleSheets[lV][lT]){return true;}}return false;}lr.preloadResources=function lM(lW,lT){var lZ;lW=lW||wmjQuery("head");var lU=lW[0].ownerDocument;var lV=lU.documentMode;var lY=lV==8;for(var lX=0;lX<lT.length;lX++){var lZ=lr.getResourcePath(lT[lX].url);lZ+=(lY?".eot":".js");var l0=new Image();l0.src=lZ;l0.onload=function(){};}};lr.fonts=function lE(lT,lX,l1,lV){var lW=lT.length,lZ=false;if(!lW){l1&&l1();}if((!l1)&&(!lV)){for(var lY=0;lY<lT.length;lY++){lr.font(lT[lY],lX);}}else{for(var lY=0;lY<lT.length;lY++){lr.font(lT[lY],lX,function l0(){if(--lW==0){lZ?lV&&lV():l1&&l1();}},function lU(){lZ=true;if(--lW==0){lV&&lV();}});}}};function lN(lT,lW,lU,lV){lu("Start loading embeded file for font '"+lT.name+"'",4);lp.push({name:"walkme-"+lT.name,tagId:lW,head:lU});wmjQuery.ajax({type:"GET",url:lV+".js",dataType:"script",cache:true});}lr.finishFontLoad=function(lX,lV){lu("finish loading font '"+lX+"'",4);var lT="";for(var lW=0;lW<lV.length;lW++){lT+=hs.to_html(lz,{family:lX,src:lV[lW].src,format:lV[lW].format,weight:lV[lW].weight,style:lV[lW].style});}var lU=lS(lX);lr.injectCss(lT,lU.tagId,lU.head,lX,null,true);};function lS(lV){for(var lU=0;lU<lp.length;lU++){if(lp[lU].name==lV){var lT=lp[lU];lp.splice(lU,1);return lT;}}}function lO(lU,lX,lV,lW){lu("Start loading eot file for font '"+lU.name+"'",4);lW+=".eot";isIE8=dZ()=="IE 8";if(isIE8&&gl("fixFontsCompatibility")){lW+="?frame="+lo.getFrameIndex(lV[0].ownerDocument.parentWindow);}var lT=hs.to_html(lz,{family:"walkme-"+lU.name,src:lW,weight:"normal",style:"normal"});if(isIE8){lJ(lT,lX,lV);}else{lI(lT,lV,lU.name,lX);}}function lx(lT){if(!lT){return;}lK(top);gV(function(){lx(lT-1);},100);}function lK(lX){try{var lV=wmjQuery("head",lX.document);lJ("",lw,lV);gV(function(){lV.find("#"+lw).remove();},100);}catch(lU){}var lT=lX.frames;for(var lW=0;lW<lT.length;lW++){lK(lT[lW]);}}function lR(lT,lU,lZ,lV){if((!lZ)&&(!lV)){lu("Stop Tracking font '"+lT.name+"' because we don't have success/fail Callback",4);return;}lu("Start tracking font '"+lT.name+"'",4);var l0=wmjQuery(lU.createElement("span")).addClass("walkme-font-tester").important({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden","font-family":lC,"font-size":"250px","line-height":"normal"}).html((lT.dummeyText||lB)+"a").appendTo(wmjQuery("body",lU).or("html",lU));var lX=l0[0].offsetWidth,lW=l0[0].offsetHeight,lY="walkme-"+lT.name;l0.important("font-family",lY+","+lC);ls(l0,lX,lW,lD,lY,lZ,lV);}function ls(lZ,lV,lU,l0,lW,lY,lT){var lX=5;lu("================================================================================",lX);lu("Tracking font '"+lW+"'",lX);lu("Comparison tester width: "+lV+" === "+lZ[0].offsetWidth,lX);lu("Comparison tester height: "+lU+" === "+lZ[0].offsetHeight,lX);lu("================================================================================",lX);if((lV===lZ[0].offsetWidth)&&(lU===lZ[0].offsetHeight)){if(l0<0){lu("Finished with failure tracking font '"+lW+"'",4);lZ.remove();if(lT){lT();}}else{lo.libSetTimeout(function(){ls(lZ,lV,lU,l0-lA,lW,lY,lT);},lA);}}else{lu("Finished successfully tracking font '"+lW+"'",4);lZ.remove();if(lY){lY();}}}lr.getResourcePath=function lF(lT){if(lT&&lT.indexOf("/")){return lT;}lT=p+lT;return lT;};lr.injectCss=function lH(lU,lX,lW,lV,lT,lY){lQ()?lI(lU,lW,lV,lX,lT):lJ(lU,lX,lW,lT,lY);};lr.refreshContentCss=function lP(lT,lU){var lV=lJ(lU+" :before,"+lU+" :after{content:none !important;}",null,lT);gV(function(){lV.remove();},0);};lr.emptyStyleSheets=function lv(){if(!lQ()){return;}var lU=document.styleSheets;for(var lT=0;lT<lU.length;lT++){if(lU[lT].walkmeToRemove){lU[lT].disabled=true;}}};function lQ(){return !!document.createStyleSheet;}function lI(lU,lY,lX,lZ,lT){try{var lV=lY?lY[0].ownerDocument:wmjQuery("body")[0].ownerDocument;var l1;if(lT){l1=lG(lT,lV);}var l0=(l1===undefined)?lV.createStyleSheet(""):lV.createStyleSheet("",l1);l0.cssText=lU;l0.owningElement.id=lZ;l0.walkmeToRemove=true;l0[lX]=true;}catch(lW){lu("Cannot inject style sheet");throw lW;}}function lJ(lV,lX,lW,lU,lZ){var lY=lW||wmjQuery("head"),lT;if(M){mtjQuery("#"+lX,lY).remove();}var l1=wmjQuery('<style type="text/css" class="walkme-to-remove">'+(lZ?"":lV)+"</style>");if(lX){l1.attr("id",lX);}if(lU){lT=lY.find("#"+lU);}(lT&&lT.exist())?lT.first().before(l1):lY.append(l1);if(lZ){var l0=l1.prop("styleSheet");if(l0){l0.cssText=lV;}else{l1.append(lV);}}return l1;}function lG(lV,lT){var lW=lT.styleSheets;for(var lU=0;lU<lW.length;lU++){if(lW[lU].owningElement.id==lV){return lU;}}}lt.apply(null,arguments);}function kV(){var lt=this;lt.LocalSVNRevision="$Rev: 3665 $";var lq=null,lr=null,lp=null,lo,ls=[];function lu(lD){lo=lD;if(!lz()){return;}co("UIChangeTracker - trackUIChanges feature enabled. Creating UIChangeTracker",2);lw();lx();ly();}function lw(){var lD=lv("hash");if(!lD){return;}co("UIChangeTracker - hash config defined. Tracking",2);lq=window.onhashchange;window.onhashchange=function(){lq&&lq.apply(null,arguments);lC();};}function lx(){var lD=lv("history");if(!lD){return;}if(!window.history||!window.history.pushState){return;}co("UIChangeTracker - history config defined. Tracking",2);lr=window.onpopstate;window.onpopstate=function(){lr&&lr.apply(null,arguments);lC();};lp=window.history.pushState;window.history.pushState=function(){lp.apply(window.history,arguments);lC();};}function ly(){var lD=lv("iframeLoadSelector");if(!lD){return;}co("UIChangeTracker - iframeLoadSelector config defined. Listening to iframe load events for "+lD,2);wmjQuery(lD).on("load.walkmeIFrameLoad",function(){lC();});}function lz(){var lD=gl("trackUIChanges")&&lo.isWalkMeVisible();return lD;}this.stop=function lB(){if(!lz()){return;}if(lq){window.onhashchange=lq;}lq=null;if(lr){window.onpopstate=lr;}lr=null;if(lp){window.history.pushState=lp;}lp=null;var lD=lv("iframeLoadSelector");if(!lD){return;}wmjQuery(lD).off("load.walkmeIFrameLoad");};lt.bind=function(lD){ls.push(lD);};function lC(){co("UIChangeTracker - UI change triggered",3);var lD=[];if(!lv("dontDestoryBalloons")){ir();lD.push(lo.releaseBalloons);}if(!lv("dontDestoryLaunchers")){lD.push(function(lE){lo.releaseLaunchers(lE,undefined,true);});}de({functionsToExecute:lD,successCallback:function(){var lE=parseInt(lv("redrawTimeout",0));co("UIChangeTracker - redrawing in "+lE,4);setTimeout(lA,lE);}});}function lA(){if(!lv("dontDestoryBalloons")){iO();}i0();lo.showAllLaunchers();for(var lE=0;lE<ls.length;lE++){try{ls[lE]();}catch(lD){}}}function lv(lE,lD){var lF=null;if(ad.Settings.spaConfig){lF=e0(ad.Settings.spaConfig,lE,lD);}return lF;}lu.apply(null,arguments);}function ib(){this.LocalSVNRevision="$Rev: 2952 $";var lp=this;var lo;function lq(lx){lo=lx;}lp.isGroup=function lt(lx){if(!lx){return false;}return lx.LinkedDeployables!==undefined;};lp.isSearchEnabled=function lu(){var lx=lo.getSiteConfig();return lx.Settings&&Number(lx.Settings.search);};lp.hasChildren=function lr(lC){var lB=lC.LinkedDeployables;for(var lA=0;lA<lB.length;lA++){var lz=lo.getDeployablesManager(lB[lA].DeployableType);var ly=lz.getById(lB[lA].DeployableID);var lx=lp.isGroup(ly)?lp.hasChildren(ly):ly;if(lx){return true;}}return false;};lp.supportsDeployableType=function lw(lx,lA){var lz=lx.Settings;var ly=lz&&lz.DeployableTypes;if(ly){if(mtjQuery.inArray(lA+"",lx.Settings.DeployableTypes)!=-1){return true;}}return false;};lp.hasUncompletedChildren=function ls(lx){for(var lz=0;lz<lx.length;lz++){var ly=lx[lz];if(!ly.properties().hasProperty(kU.Completed)){return true;}}return false;};lp.isTab=function lv(lx){var ly=lx.Settings;return ly&&ly.DeployableTypes;};lq.apply(null,arguments);}var kU={Visible:"visible",Invisible:"invisible",Completed:"completed",Uncompleted:"uncompleted",StrikedOut:"strike-out",Active:"active",Inactive:"inactive",ProgressBar:"progress-bar",Default:"default",Search:"search",SearchProviders:"search-providers",Video:"video",Article:"article",Accessible:"accessible"};function h7(){this.LocalSVNRevision="$Rev: 3683 $";var lp=this,lo;function lq(ls){lo=new ib(ls);}lp.generateAll=function lr(lt){lt.utils=lo;var ls=[];ls.push(new bE(lt));ls.push(new k3(lt));ls.push(new kD(lt));ls.push(new i9(lt));ls.push(new b1(lt));ls.push(new cD(lt));ls.push(new aC(lt));return ls;};lq.apply(null,arguments);}var h7=new h7(ao);function h9(){var lA=new lb(this);var lz=lA.Prop.Protected("logger",null);var lx=lA.Prop.Protected("lib",null);var ls=lA.Prop.Protected("deployable",null);var lw=lA.Prop.Protected("isLoaded",false);var lC=lA.Prop.Protected("properties",[]);var lD=lA.Prop.Protected("propertyNames",[]);var lE=lA.Prop.Protected("utils",null);var lp=lA.Prop.Protected("children",[]);function lr(lF){lx(lF.lib);ls(lF.deployable);lE(lF.utils);lp(lF.children);}var lB=lA.Protected("prop",function(lF){return lF.toLowerCase();});var lu=lA.Virtual.Public("getAll",function(){if(!lw()){ly();}return lC();});var lv=lA.Virtual.Public("hasProperty",function(lF,lG){if(lG||!lw()){ly();}return mtjQuery.inArray(lF,lC())!=-1;});var ly=lA.Virtual.Protected("load",function(){lw(true);});var lq=lA.Public("clear",function(){lC([]);lw(false);});var lt=lA.Protected("generateSingle",function(lH,lF){var lG=lF?[lH]:[];lC(lG);});var lo=lA.Public("canGenerate",function(lF){return mtjQuery.inArray(lF,lD())!=-1;});lr.apply(null,arguments);}function bE(){var lq=new lb(this);function lo(lr){lq.Extends(h9,lr);lq._base.propertyNames([]);}var lp=lq.Override("load",function(){var ls=lq._base.deployable().Settings;lq._base.properties([]);if(!ls||!ls.DeployableTypes){return;}for(var lr=0;lr<ls.DeployableTypes.length;lr++){var lt=lq._base.lib().getDeployablesManager(ls.DeployableTypes[lr]).name();lq._base.properties().push(lq._base.prop("contains-"+lt));}lq._base.load();});lo.apply(null,arguments);}function k3(){var lz=new lb(this);var lt;var lp;var lq;var ls;var lr;var lo;function lw(lA){lz.Extends(h9,lA);lt=lz._base.prop(kU.Visible);lp=lz._base.prop(kU.Invisible);lz._base.propertyNames([lt,lp]);lq=lz._base.lib();lr=lq.getDeployablesManager(cF.Task);ls=lz._base.utils();lo=lz._base.children;}var ly=lz.Override("load",function(){var lB=true;var lA=lz._base.deployable();if(ls.isGroup(lA)){lB=ls.hasChildren(lA)||lx(lA);}lB=lB&&lv(lA);lB=lB&&lu(lA);if(lB){lz._base.generateSingle(lt,true);}else{lz._base.generateSingle(lp,true);}lz._base.load();});function lx(lA){var lB=false;var lC=ls.supportsDeployableType(lA,cF.Tutorial);if(lC&&ls.isSearchEnabled()){lB=true;}return lB;}function lv(lB){var lF=true,lE=lq.getSiteConfig().TodoListSettings,lD=ls.supportsDeployableType(lB,cF.Task);if(lD&&lE){var lC=lE.hideComplete&&parseInt(lE.hideComplete);if(lC){lF=ls.hasUncompletedChildren(lo());}if(lF){var lA=lE.activateCondition;if(lA){lF=lq.evaluateConditionTree(lA);}}}return lF;}function lu(lA){var lB=true;if(lA.deployableType==cF.Task){lB=lr.isTaskDisplayed(lA);}if(lA.deployableType==cF.Tutorial){lB=lq.canShowTutorial(lA);}if((lA.deployableType==cF.Content||lA.deployableType==cF.Shuttle)&&lA.Settings&&lA.Settings.DisplayCondition){lB=lq.evaluateConditionTree(lA.Settings.DisplayCondition);}return lB;}lw.apply(null,arguments);}function kD(){var ly=new lb(this);var lp;var lo;var lr;var lq;function ls(lA){ly.Extends(h9,lA);ly._base.propertyNames([kU.Completed,kU.StrikedOut,kU.Uncompleted,kU.Active,kU.Inactive,kU.ProgressBar]);lp=ly._base.lib();lo=ly._base.deployable();lr=ly._base.utils();lq=lp.getDeployablesManager(cF.Task);}var lx=ly.Override("load",function(){var lB=[];if(lo.deployableType==cF.Task){var lA=lq.isTaskCompleted(lo);lu(lB,lA);lt(lB,lA);}else{if(lw(lo)){lB.push(ly._base.prop(kU.ProgressBar));}}ly._base.properties(lB);ly._base.load();});function lu(lB,lA){if(lA){lB.push(ly._base.prop(kU.Completed));var lC=ly._base.lib().getSiteConfig();if(Number(lC.TodoListSettings.strikeOutCompletedTasks)){lB.push(ly._base.prop(kU.StrikedOut));}}else{lB.push(ly._base.prop(kU.Uncompleted));}}function lt(lB,lA){if(lv(lA)){lB.push(ly._base.prop(kU.Active));}else{lB.push(ly._base.prop(kU.Inactive));}}function lv(lB){var lA=lq.isTaskActive(lo);if(lB&&!lz()){lA=false;}return lA;}function lz(){var lB=lp.getSiteConfig(true);var lA=Number(lB.TodoListSettings.allowPlayAfterCompletion);return lA;}function lw(lA){if(lr.isGroup(lA)){var lB=lr.supportsDeployableType(lA,cF.Task);return lB;}return false;}ls.apply(null,arguments);}function i9(){var lu=new lb(this);var lp;var lq;var lo;function lr(lv){lu.Extends(h9,lv);lu._base.propertyNames([kU.Search,kU.SearchProviders]);lq=lu._base.utils();lo=lu._base.deployable();}var lt=lu.Override("load",function(){var lv=[];if(lq.isTab(lo)){if(lq.supportsDeployableType(lo,cF.Tutorial)){lv.push(lu._base.prop(kU.Search));if(ls()){lv.push(lu._base.prop(kU.SearchProviders));}}}lu._base.properties(lv);lu._base.load();});function ls(){var lv=lu._base.lib().getSiteConfig();return lv.Settings&&Number(lv.Settings.search);}lr.apply(null,arguments);}function cD(){var lt=new lb(this);var lp;var lq;var lo;function lr(lu){lt.Extends(h9,lu);lp=lt._base.deployable();lq=lt._base.utils();lt._base.propertyNames([kU.Default]);lo=lt._base.children;}var ls=lt.Override("load",function ls(){var lu=bP.isTrue(lp.Settings,kU.Default,false);if(lu&&lq.hasUncompletedChildren(lo())){lt._base.generateSingle(kU.Default,true);}lt._base.load();});lr.apply(null,arguments);}function b1(){var ls=new lb(this);var lp;var lo;function lq(lt){ls.Extends(h9,lt);lp=ls._base.prop(kU.Video);lo=ls._base.prop(kU.Article);ls._base.propertyNames([lp,lo]);}var lr=ls.Override("load",function(){if(ls._base.deployable().deployableType==cF.Content){var lt=ls._base.lib().getDeployablesManager(cF.Content).types();var lu=ls._base.deployable().Type;switch(lu){case lt.Video:ls._base.generateSingle(lp,true);break;case lt.Article:ls._base.generateSingle(lo,true);break;}}ls._base.load();});lq.apply(null,arguments);}function aC(){var ls=new lb(this);var lp;var lo;function lq(lt){ls.Extends(h9,lt);ls._base.propertyNames([kU.Accessible]);lp=ls._base.utils();lo=ls._base.deployable();}var lr=ls.Override("load",function(){var lt=!lp.isTab(lo);ls._base.generateSingle(kU.Accessible,lt);ls._base.load();});lq.apply(null,arguments);}function h8(){this.LocalSVNRevision="$Rev: 3105 $";var ls=this;var lq,lo,lr,lp;function lw(lB,lz,lA){lq=lB;lo=lz;lp=lA;lv();}ls.getAll=function lx(){var lz=[];for(var lA=0;lA<lr.length;lA++){lz=lz.concat(lr[lA].getAll());}return lz;};ls.clearCache=function lt(){for(var lz=0;lz<lr.length;lz++){lr[lz].clear();}};ls.hasProperty=function ly(lA,lB){for(var lz=0;lz<lr.length;lz++){if(lr[lz].canGenerate(lA)){if(lr[lz].hasProperty(lA,lB)){return true;}}}return false;};function lv(){var lz={lib:lq,deployable:lo,logger:ls.Logger,children:lp};lr=h7.generateAll(lz);}function lu(lz,lA){var lD=lz.concat(lA);for(var lB=0;lB<lD.length;++lB){for(var lC=lB+1;lC<lD.length;++lC){if(lD[lB]===lD[lC]){lD.splice(lC--,1);}}}return lD;}lw.apply(null,arguments);}function cH(){this.LocalSVNRevision="$Rev: 2663 $";var lv=this;var lw;var lq;var lr;var lo;var lt;var ls;var lu;var lp;function lz(lG){lw=lG.type;lr=lG.id;lo=lG.activateFunction;lq=lG.description;lp=lG.childNodes;lt=lG.name;lu=lG.propertiesGenerator;ls=lG.keywords?lG.keywords:[];}lv.activate=function lx(lG){lo(lr,lG);};lv.children=function ly(){return lp;};lv.properties=function lE(lG){if(lG){lu.clearCache();}return lu;};lv.type=function lF(){return lw.toLowerCase();};lv.name=function lD(){return lt;};lv.id=function lB(){return lr;};lv.description=function lA(){return lq||"";};lv.keywords=function lC(){return ls;};lz.apply(null,arguments);}function kW(){this.LocalSVNRevision="$Rev: 3717 $";var lp=this;var lo=null;var lA="isActive";var ly="showOnlyTasksTab";function lq(lD,lE){lo=lD;}lp.uiObjectsTree=function lB(){var lD=lw(cF.Collection);lD=lx(lD);lz(lD);var lE=lt(lD);return lE;};function lx(lD){var lF=parseInt(ad.TodoListSettings[lA]);var lE=parseInt(ad.TodoListSettings[ly]);if(!lF){lD=dl(lD,lr);}else{if(lE){lD=dl(lD,function(lG){return !lr(lG);});}}return lD;}function lr(lD){var lF=lD.Settings.DeployableTypes;var lE=wmjQuery.inArray(cF.Task.toString(),lF)!=-1;return !lE;}function lv(lG,lF){var lE=lo.getDeployablesManager(lG);var lD=lE.getById(lF);if(lD){lD.deployableType=lG;}return lD;}function lw(lF){var lD=lo.getDeployablesManager(lF).getAll();for(var lE=0;lE<lD.length;lE++){lD[lE].deployableType=lF;}return lD;}function lz(lD){if(!lD){return;}lD.sort(function(lE,lF){return lE.OrderIndex-lF.OrderIndex;});}function lu(lG){if(!lG.LinkedDeployables){return null;}var lE=[];var lF=lG.LinkedDeployables;for(var lH=0;lH<lF.length;lH++){var lD=lv(lF[lH].DeployableType,lF[lH].DeployableID);if(lD){lE.push(lD);}}return lE;}function lC(lF,lD){var lE=lo.getDeployablesManager(lF);return function(lG){lE.activateById(lG);};}function ls(lE,lD){var lF=lo.getDeployablesManager(lE.deployableType);var lG=new cH({type:lF.name(),id:lE.Id,activateFunction:lF.activateById,description:lE.Description,childNodes:lD,name:lE.Name,propertiesGenerator:new h8(lo,lE,lD),keywords:lE.Keywords});return lG;}function lt(lE){if(!lE){return;}var lG=[];for(var lF=0;lF<lE.length;lF++){var lD=lu(lE[lF]);var lH=lt(lD);lG.push(ls(lE[lF],lH));}return lG;}lq.apply(null,arguments);}var kW=new kW(ao);function cG(){var lv=new lb(this);this.LocalSVNRevision="$Rev: 2802 $";var lt=lv.Prop.Protected("lib");var lq=lv.Prop.Protected("deployablesDict",{});var lu=lv.Virtual.Public("name");function lp(lx){lt(lx.lib);lw(lx.deployables);}var lw=lv.Virtual.Public("setDeployables",function(lx){if(!lx){return;}for(var ly=0;ly<lx.length;ly++){if(lx[ly].Id){lq()[lx[ly].Id]=lx[ly];}}});var lo=lv.Virtual.Public("activateById",function(lx){});var ls=lv.Virtual.Public("getById",function(lx){return lq()[lx];});var lr=lv.Public("getAll",function(){var lx=[];for(var ly in lq()){lx.push(lq()[ly]);}return lx;});lp.apply(null,arguments);}function bn(){var lr=new lb(this);this.LocalSVNRevision="$Rev: 2182 $";function lp(ls){lr.Extends(cG,ls);}var lo=lr.Override("activateById",function(ls){});var lq=lr.Override("name",function(){return"Category";});lp.apply(null,arguments);}function kR(){var lr=new lb(this);this.LocalSVNRevision="$Rev: 2197 $";function lp(ls){lr.Extends(cG,ls);}var lq=lr.Override("name",function(){return"Walkthru";});var lo=lr.Override("activateById",function(ls,lt){WalkMeAPI.startWalkthruById({id:ls,fromStep:0,playInitiator:lt});});lp.apply(null,arguments);}function kK(l4,lN,l1,l3,l9,lF,lY,lQ,lP,lL,lK,lH,lW){var l0=new lb(this);this.LocalSVNRevision="$Rev: 3643 $";var lu=this;var lv,lp,lo,ls,lr,lq;var lt=null;var lC;function lB(){l0.Extends(cG,{deployables:l4,lib:lW});lC=_makeTutorial.Logger.wrapCustomerLog(hf);lC('Initializing TodoListManager (isActive: "'+lN+'", serverAddress: "'+l1+'", userGuid: "'+l9+'", endUserId: "'+lF+'")',3);lv=new kJ(l1,l3,l9,lY,lL,lK,lH);lo=lF;ls=lY;lr=lQ;lq=lP;lN=lN&&l4&&(l4.length>0);lu.setActiveState(lN);}var lZ=l0.Override("name",function(){return"Task";});var lx=l0.Override("activateById",function(mc,md){var me=l0._base.getById(mc);var mb=l0._base.lib().getDeployablesManager(me.RelatedDeployableType);var md={type:WalkMeAPI.getPlayInitiatorEnum().TASK,objectId:mc};mb.activateById(me.RelatedDeployableId,md);});var lI=l0.Override("getById",function(mb){var mc=l0._base.getById(mb);if(!mc||!ma(mc)){return undefined;}return mc;});var lS=l0.Public("isTaskCompleted",function lS(md){var mb=lu.getCompletedTasks();var mc=(mb)?fT(md.Id,mb)>-1:false;return mc;});var lT=l0.Public("isTaskConditionsPassed",function lT(mc){var mb=true;switch(mc.RelatedDeployableType){case cF.Tutorial:if(mc.RelatedDeployableId){var md=fg(mc.RelatedDeployableId);mb=_makeTutorial.canShowTutorial(md);}break;}return mb;});var lR=l0.Public("isTaskActive",function lR(mb){var mc=mb.Settings;if(!parseInt(mc.ActivateConditionEnabled)){return true;}return _makeTutorial.evaluateConditionTree(mc.ActivateCondition);});var lU=l0.Public("isTaskDisplayed",function lU(mb){var mc=mb.Settings;if(!parseInt(mc.DisplayConditionEnabled)){return true;}return _makeTutorial.evaluateConditionTree(mc.DisplayCondition);});function lA(mb,mc){if(mb.Index<mc.Index){return -1;}if(mb.Index>mc.Index){return 1;}return 0;}function ly(me,mb){for(var md=0;md<me.Goals.length;md++){var mc=me.Goals[md];if(!mc.Id){continue;}if(fT(mc.Id,mb.CompletedGoals)===-1){return false;}}return true;}function lE(mc,mb){if(lz(mc,mb)){lu.deactivate();}}function lz(mf,mc){for(var me in mf){var md=mf[me];if(ma(md)){var mb=mc[md.Id];if(!mb){return false;}if(!mb.IsCompleted){return false;}}}return true;}function ma(mb){if(!mb.Id){return false;}if(mb.RelatedDeployableType!==cF.Tutorial){lC("Task (id: "+mb.Id+") is of unknown type: "+mb.RelatedDeployableType);return false;}if(!mb.RelatedDeployableId){lC("Task (id: "+mb.Id+") does not have any related Walk-Thru id");return false;}if(!fg(mb.RelatedDeployableId)){lC("Task (id: "+mb.Id+") related Walk-Thru (id: "+mb.RelatedDeployableId+") does not exist");return false;}return true;}this.loadTasks=function lX(mf,mc){lC("Loading tasks completion data",3);if(lr||lq){lC("Preview or Play mode - returning empty tasks completion data",3);lE(lt,{});mf({});return;}if(!lo){lu.deactivate();return;}try{var md=function md(mg){lC("Tasks completion data loaded successfully",3);lE(lt,mg);if(mf){mf(mg);}jc("TasksLoaded");};var me=function me(mg){lC("Tasks completion data failed loading",3);lu.deactivate();if(mc){mc(mg);}};lv.asyncRetrieveCompletedTasks(lo,md,me);}catch(mb){lu.deactivate();ls(mb,"An error occurred while trying to load completed tasks to the local storage");}};this.tempClearUserCompletedTasks=function l5(){if(!lo){return;}lv.tempClearUserCompletedTasks(lo);};this.getCompletedTasks=function lJ(){lC("Getting completed tasks",3);if(lr||lq){lC("Preview or Play mode - returning empty array of completed tasks",3);return[];}if(!lo){lu.deactivate();return null;}try{var mb=lv.syncRetrieveCompletedTasks(lo);if(!mb){return null;}var mc=[];mtjQuery.each(mb,function(me,mf){if(!mf.TaskId){return;}if(mf.IsCompleted){mc.push(mf.TaskId);}});lC("Returning completed tasks ("+mc+")",3);return mc;}catch(md){lu.deactivate();ls(md,"An error occurred while trying to retrieve completed tasks");}return null;};this.updateGoalCompleted=function l7(mb){var mg=mb.RelatedObjectId;var me=mb.Id;var mf=mb.Name;lC("Updating completed goal (taskId: "+mg+", goalId: "+me+", goalName: "+mf+")",3);jd("GoalCompleted",{GoalId:me,GoalName:mf});if(f6()){return;}if(lr||lq){lC("Preview or Play mode - exiting without updating",3);return;}if(!lo){lu.deactivate();return;}try{var mc=lv.asyncRetrieveCompletedTasks(lo,function(mi){var mh=mi[mg];if(!mh){mh={TaskId:mg,IsCompleted:false,CompletedGoals:[]};}if(mh.IsCompleted){return;}if(fT(me,mh.CompletedGoals)>-1){return;}mh.CompletedGoals.push(me);var mj=lt[mg];mh.IsCompleted=ly(mj,mh);if(!mh.IsCompleted){mg=-1;}else{mh.CompletedGoals=[];jc("TaskCompleted",{TaskId:mg});}mi[mh.TaskId]=mh;lE(lt,mi);lC("Calling server update completed task goal (taskId: "+mg+", goalId: "+me+")",3);lv.updateTaskCompleted(lo,mg,me,mi);});}catch(md){lu.deactivate();ls(md,"An error occurred while trying to update task completed");}};this.updateTutorialCompleted=function l8(mb){lC("Updating completed tutorial (tutorialId: "+mb+")",3);if(lr||lq){lC("Preview or Play mode - exiting without updating",3);return;}if(!lo){lu.deactivate();return;}mtjQuery.each(lt,function(md,me){if(!me.Id){return;}if(me.RelatedDeployableType!==cF.Tutorial){return;}if(parseInt(me.RelatedDeployableId)!==mb){return;}if(me.Goals&&me.Goals.length>0){return;}var mc=lv.asyncRetrieveCompletedTasks(lo,function(mf){if(mf[me.Id]&&mf[me.Id].IsCompleted){return;}mf[me.Id]={TaskId:me.Id,IsCompleted:true,CompletedGoals:[]};lE(lt,mf);lC("Calling server update completed task goal (taskId: "+me.Id+", goalId: "+-1+")",3);lv.updateTaskCompleted(lo,me.Id,-1,mf);});});};this.getTasksGoalsNotCompleted=function lM(){if(lr||lq){lC("Preview or Play mode - not getting tasks not completed goals",3);return[];}lC("Getting tasks uncompleted goals",3);var mb=lv.syncRetrieveCompletedTasks(lo);if(!mb){mb=[];}var mc=[];mtjQuery.each(lt,function(me,mf){if(!mf.Id){return;}var md=mb[mf.Id];if(md&&md.IsCompleted){return;}var mg={TaskId:mf.Id,Name:mf.Name,GoalsNotCompleted:[]};mtjQuery.each(mf.Goals,function(mk,mi){if(!mi.Id){return;}var mh=(md&&md.CompletedGoals)?md.CompletedGoals:[];if(fT(mi.Id,mh)===-1){var mj=mtjQuery.extend(true,{},mi);mg.GoalsNotCompleted.push(mj);}});mc.push(mg);});return mc;};this.getApiTasks=function lG(mc){lC("Getting tasks fot the API",3);var md=lu.getCompletedTasks();if(!md){md=[];}var mb=[];mtjQuery.each(lt,function(mf,mh){if(!ma(mh)){return;}var mg=(md)?fT(mh.Id,md)>-1:false;var me={Index:mh.OrderIndex,Name:mh.Name,Id:mh.Id,IsCompleted:mg,Settings:bJ(mh.Settings),Description:mh.Description,RelatedDeployableType:mh.RelatedDeployableType,RelatedDeployableId:mh.RelatedDeployableId};me.TaskProperties=me.Settings;if(mc){me.ConditionsPassed=lT(mh);me.IsActive=lR(mh);me.IsDisplayed=lU(mh);}delete me.Settings.ActivateConditionEnabled;delete me.Settings.ActivateCondition;mb.push(me);});mb.sort(lA);return mb;};this.isTaskGoalReached=function lV(me,mc){var mb=lv.syncRetrieveCompletedTasks(lo);if(!mb){return false;}var md=mb[me];if(!md){return false;}if(md.IsCompleted){return true;}return(fT(mc,md.CompletedGoals)!==-1);};this.isActive=function lO(){return lp;};this.setActiveState=function l2(mb){lC("Setting todo list active state to: "+mb,3);lp=mb;};this.activate=function lw(){var mb=lv.asyncRetrieveCompletedTasks(lo,function(mc){if(lz(lt,mc)){return;}lu.setActiveState(true);});};this.deactivate=function lD(){lu.setActiveState(false);};this.toggleActiveState=function l6(){lu.setActiveState(!lu.isActive());};lB.apply(null,arguments);lt=l0._base.deployablesDict();}function gQ(){var lq=new lb(this);this.LocalSVNRevision="$Rev: 2150 $";function lo(lr){lq.Extends(cG,lr);}var lp=lq.Override("name",function(){return"Launcher";});lo.apply(null,arguments);}function j1(){var ls=new lb(this);this.LocalSVNRevision="$Rev: 3469 $";var lt="ShuttlePlayMode",lp,lo,lq;function lr(lu){ls.Extends(cG,lu);lp=lu.deployablesGoalsManager;lo=lu.clickAuditManager;lq=lu.lib;}ls.Override("name",function(){return"Shuttle";});ls.Override("activateById",function(lv){try{var lx=ls._base.deployablesDict()[lv];if(!lx){co(dD("Shuttle with id {0} doesn't exist",lv),3);}lo.SendClickAudit(cF.Shuttle,lx.Id,lx.userGuid);var lw=parseInt(e0(lx.Settings,lt,hP.SameTab));if(lq.getCommonUtils().isValidUrl(lx.DestinationUrl)){if(lw==hP.NewTab){window.open(lx.DestinationUrl,"_blank");}if(lw==hP.SameTab){window.location.href=lx.DestinationUrl;}}lp.startWatchingDeployable(lx,ls._base.lib().generateNewPlayGuid(lx.Id));}catch(lu){co(dD("Failed playing shuttle with id {0}. Exception is {1}",lv,lu),3);}});lr.apply(null,arguments);}function b2(){var ly=new lb(this);this.LocalSVNRevision="$Rev: 3469 $";var lo=null;var lr=null;var lq=null;var lp=null;var lt={Article:0,Video:1};function lu(lB){ly.Extends(cG,lB);lo=lB.cdnServerName;lr=lB.deployablesGoalsManager;lp=lB.clickAuditManager;}var lx=ly.Override("name",function(){return"Content";});var ls=ly.Override("activateById",function(lD){try{var lB=ly._base.deployablesDict()[lD];if(!lB){co(dD("Content with id {0} doesn't exist",lD),3);}var lE={lib:ly._base.lib(),cdnServer:lo,clickAuditManager:lp,content:lB};lz();lq=lv(lB.Type,lE);lq.activateContent(lB);lr.startWatchingDeployable(lB,ly._base.lib().generateNewPlayGuid(lB.Id));}catch(lC){co(dD("Failed playing content with id {0}. Exception is {1}",lD,lC),3);}});function lv(lC,lD){var lB=null;switch(lC){case lt.Video:var lE=lw(lD.content.Url);if(lE){lD.videoId=lE.videoId;lD.vendorName=lE.vendorName;lB=new k0(lD);}else{lB=new aY(lD);}break;case lt.Article:lB=new aY(lD);break;default:throw dD("Invalid content type : {0}",lC);}return lB;}function lw(lF){var lE=/^(?:http|https):\/\/.*youtube\..*v=([\w-]+)/i;var lC=/^(?:http|https):\/\/.*youtu.be\/([\w-]+)/i;var lB=/^(?:http|https):\/\/.*youtube.*\/embed\/([\w-]+)/i;var lD=/^(?:http:\/\/|https:\/\/).*vimeo.*\/([\w-]+)/i;var lH=[{regex:lE,vendorName:"youtube"},{regex:lC,vendorName:"youtube"},{regex:lB,vendorName:"youtube"},{regex:lD,vendorName:"vimeo"}];var lG;wmjQuery.each(lH,function(lI,lK){var lJ=lF.match(lK.regex);if(lJ&&lJ.length>1){lG={videoId:lJ[1],vendorName:lK.vendorName};return false;}});return lG;}var lz=ly.Public("removeContent",function lz(){if(lq){lq.removeContent();}});var lA=ly.Public("types",function lz(){return lt;});lu.apply(null,arguments);}function bN(){var lr=new lb(this);this.LocalSVNRevision="$Rev: 2150 $";function lp(ls){lr.Extends(cG,ls);}var lq=lr.Override("name",function(){return"Tab";});var lo=lr.Override("activateById",function(ls){});lp.apply(null,arguments);}function di(){var lr=new lb(this);this.LocalSVNRevision="$Rev: 3526 $";function lp(ls){lr.Extends(cG,ls);}var lq=lr.Override("name",function(){return"Experiments";});var lo=lr.Override("activateById",function(ls){});lp.apply(null,arguments);}function bf(){var lq=this;lq.LocalSVNRevision="$Rev: 3587 $";var lo=0;var lp;var lr;function ls(lu){lp=lu.isHttps;lr=lu.urlWhitelist;}lq.parse=function lt(lx){var l8={Youtube:0,Vimeo:1,Wistia:2};if(lx.indexOf("[")<0){return lx;}var lD=lJ("\\[([a-z][a-z0-9]*)=?([^\\]]+)?]((?:.|[\r\n])*?)\\[/\\1]","g");var lW=lJ("^(\\d+)x(\\d+)[^\\]]*");var lS={url:'href="',anchor:'name="',email:'href="mailto: '};var mc={youtube:"http://www.youtube.com/embed/",flash:""};var ma={vimeo:"http://player.vimeo.com/video/",flash:""};var mb={wistia:"http://fast.wistia.net/embed/iframe/",flash:""};var l5={font:"font-family:$1",size:"font-size:$1px",color:"color:$1"};var lv={};var ly=["title"];var lw=["style","class"].concat(ly);var l1=["width","height"].concat(lw);var l7=["channelmode","directories","fullscreen","left","top","target","location","menubar","resizable","scrollbars","status","titlebar","toolbar"].concat(l1);var l3=["border","cellspacing","cellpadding"].concat(lw);var l9=["autoplay"].concat(l1);var l4={table:l3,tr:lw,th:lw,td:lw,tbody:lw,p:lw,div:l1,span:l1,youtube:l9,vimeo:l9,wistia:l9,wt:lw,url:l7,flash:l1,img:ly,b:ly,u:ly,i:ly,ul:ly,li:ly,survey:ly};function lJ(md,me){return new RegExp(md,me);}function lF(mf,md){var me=md.exec(mf);if(me!=null&&me.length>2){me.splice(0,1);}else{me="";}return me;}function lI(md,mg,me){var mf=lT(md,mg,me);lX(mf,md);return mf;}function lT(md,mg,me){if(mg!=undefined){mg=mg.replace(/&quot;/gi,'"');}var mf=lz(mg);lM(me,md,mf);return mf;}function lz(mg){var mf={};var mh=lJ('([^\\s]+)="([^\\"]+)"',"g");var mi;while(mi=mh.exec(mg)){var md=mi[1];var me=mi[2];mf[md]=me;}return mf;}function lX(me,md){wmjQuery.each(me,function(mf,mg){var mh=wmjQuery.inArray(mf,md)==-1;if(mh){delete me[mf];}});}function lM(mg,md,mj){if(mg==undefined){return;}for(var mi=0;mi<md.length;mi++){var me=md[mi];var mf=mj[me];var ml=mf==undefined;var mh=mg[me]!=undefined;var mk=ml&&mh;if(mk){mj[me]=mg[me];}}}function lV(md){var me=md.replace(lD,lU);return me;}function lY(mf,md){mf=mf.replace(/javascript:/gi,"");mf=lA(mf);for(var me in md){mf=mf.replace(lJ(me,"g"),md[me]);}return mf;}function lC(md){if(lp()){return md.replace("http:","https:");}else{return md;}}function lu(mf,md){for(var me=0;me<md.length;me++){if(md[me]==mf){return true;}}return false;}var lR=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel"];function lA(me){if(me.indexOf("on")<0){return me;}for(var md=0;md<lR.length;md++){me=me.replace(new RegExp(lR[md]+"\\s*=","gi"),"^");}return me;}function lU(md,me,mf,mg){if(mg&&mg.indexOf("[")>-1){mg=lV(mg);}if(!mf||mf.indexOf("javascript:")>-1){mf="";}switch(me){case"url":return lO(md,me,mf,mg);case"wt":var mp=-1;var ml=mf;if(ml){var mo=ml.split(" ");mp=mo[0];mp=gA(mp)?mp:-1;ml=mo.splice(1,mo.length-1).join(" ");}var mm=lI(l4[me],ml,{"class":"",style:""});var mj=mm["class"];var mn=mm.style;delete mm["class"];delete mm.style;return'<a style="cursor: pointer; '+mn+'" class="walkme-custom-bbcode-wt-link walkme-action-start-wt '+mj+'" data-walkthru-id="'+(mp)+'"'+lE(mm)+">"+mg+"</a>";case"img":var mk=lF(mf,lW);return'<img src="'+mg+'"'+(mk?' width="'+mk[0]+'px" height="'+mk[1]+'px"':"")+lE(lI(l4[me],mf))+"/>";case"youtube":return lP(md,me,mf,mg,l8.Youtube);case"vimeo":return lP(md,me,mf,mg,l8.Vimeo);case"wistia":return lP(md,me,mf,mg,l8.Wistia);case"b":case"u":case"i":case"table":case"tr":case"th":case"td":case"tbody":case"div":case"span":case"ul":case"li":return"<"+me+lE(lI(l4[me],mf))+" data-"+me+"='"+mf+"'>"+mg+"</"+me+">";case"p":return"<"+me+lE(lI(l4[me],mf))+" data-"+me+"=' "+mf+"'>"+mg+"</"+me+">";case"survey":return'<a data-survey-id="" class="walkme-custom-bbcode-survey" style="cursor: pointer;"'+lE(lI(l4[me],mf))+">"+mg+"</a>";case"flash":return lN(md,me,mf,mg);}var mi=window.walkme_custom_bbcode_parser;if(typeof mi=="function"){var mh=mi(md,me,mf,mg);if(mh){return mh;}}return"["+me+(mf?"="+mf:"")+"]"+mg+"[/"+me+"]";}function lO(md,me,mf,mg){var mj=mf;if(mj){var mm=mj.split(" ");if(!lu(mm[0],l4[me])){var ml=mm[0];mj=mm.splice(1,mm.length-1).join(" ");}}var mk=lI(l4[me],mj,{"class":"",style:"",target:"_blank"});var mn={classes:mk["class"],target:mk.target,src:lB(ml||mg),label:mg,style:mk.style,title:mk.title,data:mf.substring(Math.max(mf.indexOf(" "),0)).replace(new RegExp("^"+ml||mg),"")};var mi;if(mk.height&&mk.width){mi=lH(mk,mn);}else{mi=lK(mk,mn,lS[me]);}var mh=hs.to_html(mi,mn);return mh;}function lH(me,mh){var md='<span id="walkme-new-window-link-{{{spanId}}}"'+(mh.title?' title="{{{title}}}"':"")+'><a class="walkme-custom-bbcode-link {{{classes}}}" style="color: inherit; text-decoration:underline; {{{style}}}" href=# onclick="event.preventDefault ? event.preventDefault() : event.returnValue = false;window.open({{{srcForOpen}}},\'{{{target}}}\',{{{specs}}});" data-url=\''+mh.data+"'>{{{label}}}</a></span>";var mf=lo++;mh.spanId=mf;var mg=lG(me);mh.specs="'"+mg+"'";mh.srcForOpen="'"+mh.src.replace(/\'/g,"")+"'";return md;}function lG(mf){var mg=["width","height","channelmode","directories","fullscreen","left","top","location","menubar","resizable","scrollbars","status","titlebar","toolbar"];var mh="";for(var me=mg.length-1;me>=0;me--){var md=mg[me];if(mf[md]){mh+=dD("{0}={1},",md,mf[md].replace(/\'/g,""));}}if(mh.length>0){mh=mh.substring(0,mh.length-1);}return mh;}function lK(mf,mg,me){var md="<a"+(mg.title?' title="{{{title}}}"':"")+' target="{{{target}}}" class="walkme-custom-bbcode-link {{{classes}}}" style="color: inherit; text-decoration:underline; {{{style}}}" {{{linkTypes}}}{{{src}}}" data-url=\''+mg.data+"'>{{{label}}}</a>";mg.linkTypes=me;return md;}function lB(me){var mf=lr();if(mf==undefined){return me;}for(var md=0;md<mf.length;md++){if(bP.isLike(me,mf[md])){return me;}}return"";}function lN(md,me,mf,mg){var mj=lI(l4[me],mf,{width:420,height:315});var mi='<div class="walkme-custom-flash-wrapper" style="width: {{{width}}}px; height: {{{height}}}px;"><object type="application/x-shockwave-flash" data="{{{swf}}}" allowNetworking="none" allowFullScreen="false" width="{{{width}}}" height="{{{height}}}"><param name="SRC" value="{{{swf}}}"/><param name="allowNetworking" value="none"/><param name="allowFullScreen" value="false"/></object></div>';var mh=hs.to_html(mi,{swf:mg,width:mj.width,height:mj.height});return mh;}function lP(md,me,mf,mg,mm){var mi=lT(l4[me],mf,{width:420,height:315});l2(mi);var mj=l6(mi);var mn=lL(mm,me);var mk=mn.url+mg+"?"+mj;var ml='<div class="embed-container"> <iframe data-{{{vendorName}}}-id="{{{videoId}}}" src="{{{src}}}" frameborder="0" {{{allowFullScreen}}} style="position:relative; width: {{{width}}}px; height: {{{height}}}px;"{{{additionalParams}}}></iframe></div>';var mh=hs.to_html(ml,{vendorName:mn.name,videoId:mg,width:mi.width,height:mi.height,src:mk,allowFullScreen:mn.allowFullScreen,additionalParams:mn.additionalParams});return mh;}function l2(me){var md="autoplay";if(me[md]){me[md]="1";}}function l6(md){var me="";var mf=bJ(md);delete mf.height;delete mf.width;wmjQuery.each(mf,function(mg,mh){me+=dD("{0}={1}&",mg,mh);});return me;}function lL(mj,mg){var mi,mh,me,md;switch(mj){case l8.Youtube:mi=lC(mc[mg]);mh="youtube";me="allowfullscreen";break;case l8.Vimeo:mi=lC(ma[mg]);mh="vimeo";me="webkitAllowFullScreen mozallowfullscreen allowFullScreen";break;case l8.Wistia:mi=lC(mb[mg]);mh="wistia";me="allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen";md=' allowtransparency="true" scrolling="no" class="wistia_embed" name="wistia_embed"';break;default:lq.Logger.error(new Error("Unsupported video vendor "+mj));break;}var mf={url:mi,name:mh,allowFullScreen:me,additionalParams:md};return mf;}function lE(me){var md="";mtjQuery.each(me,function(mf,mg){md+=mf+'="'+mg+'" ';});md=md.replace(/\s+$/,"");if(md){return" "+md;}return md;}for(var lQ in l5){lv["\\["+lQ+"=([^\\]]+)]"]='<span style="'+l5[lQ]+'">';lv["\\[/"+lQ+"]"]="</span>";}var lZ=lY(lx,lv);var l0=lV(lZ);return l0;};ls.apply(null,arguments);}var h2=new h2(ao);var cO="wm-dmn";var cN="displayWidgetCondition";var cs=false;if(window.walkme_lib_in_dev){cs=true;}var cz="#BDE938",hn=70,lj=1,i7=-100000,ka={NOT_RUNNING:0,RUNNING:1,WAITING_FOR_ELEMENT:2,WAITING_FOR_ELEMENT_EVENT:3,PAUSED:4,WAITING_FOR_SPLIT:5,WAITING_FOR_NEXT_BUTTON_CLICK:6,WAITING_FOR_PAGE_CHANGE:7,WAITING_FOR_STICKY_ELEMENT:8,WAITING_FOR_CONDITION:9,PASSING_OWNERSHIP:10,WAITING_FOR_REDIRECT:11,WAITING_FOR_OWNERSHIP:12},dB=2500,kf={SupposedToShow:0,Shown:1,Performed:2,SkippedNotFound:3,SkippedByCondition:4,MovedBack:5,Exited:6,FakeFound:7,SkippedByTutorialCondition:8,SkippedStartedFromBiggerStep:9,NonValidActionStep:10,SkippedByActionStep:11},i4={PopupShown:1,AutoRedirect:2,StayClicked:3,RedirectClicked:4},kd={NONE:0,WIDGET:1,API:2,LAUNCHER:3,TASK:4,BRANCHING:5,AUTOSTART:6,PERMALINK:7,BBCODE:8,CHAT_AGENT:9},hP={Widget:0,LightBox:1,NewTab:2,SameTab:3},bV={Show:1,Action:2},bX={URL:0,FIRST_STEP_MUST_EXIST:1,AUTO_START:2,REDIRECT:3,SKIP_FIRST_STEP:4},hO="PSCTMode",hQ={PLAY_CONDITION:0,STICKY_CONDITION:1,BOTH:2},h6={TRUE:0,FALSE:1,CANNOT_ASSERT:2},lg={Cookie:0,Var:1},j2={production:0,preview:1,play:2,test:3},cF={Tutorial:0,Task:1,Launcher:2,LabelGroup:3,Survey:4,AbExperiment:5,Category:6,Content:7,Collection:8,Shuttle:9},kn={Cookie:"cookie",CrossDomain:"crossdomain",JStorage:"jstorage",HiddenIframe:"hiddeniframestorage",CrossDomainLocalStorage:"crossdomain_ls"},cf="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit;  font-family: Arial; letter-spacing: normal; text-align: left; text-transform: none; font-weight: normal; outline: invert none medium; width: auto;  border-top: none; border-right: none; border-bottom: none; border-left: none; direction: ltr; position: static; top: auto; left: auto;",h1={Top:0,Right:1,Bottom:2,Left:3},ce=["top","right","bottom","left"],h0={Center:0,Start:1,End:2},hW=2147483631,kz={WalkThruCompleted:0,WalkThruExited:1,Both:2,WalkThruInterrupted:3},kk={soft:0,strong:1},f3="isSticky",kj="stickinessType",a8=h1.Bottom,cA=60,kH=2000,ku="##START_OF_CURRENT##",kt="##END_OF_CURRENT##",kw="##START_OF_TOTAL##",kv="##END_OF_TOTAL##",i8=6000,cB={top:0,left:0,bottom:0,right:0};var aq=[];var am=[];var S=[];var u=[];var ab=[];var al=[];var ad=[];var I=[];var q;var O=[];var n=[];var s=[];var R={};var ag={};var Z="";var V="";var p="";var kQ={};var a4=null;var c9=null;var c7=null;var bY=null;var K;var D=null;var b5=null;var kp=null;var dG=null;var ar=null;var ap=null;var T=null;var an=null;var v=null;var o=null;var ac=null;var t=null;var J=null;var kA=null;var E={};var au=null;var d=[];var c=null;var g=null;var r=null;var N=null;var a=null;var b=null;var w=null;var W=null;var G=null;var aw=null;var ak;var aa;var av;var i;var at;var C;var j;ao.ConditionFunctionsObj=null;var x=[];var B=-1;var z=-1;var y=ka.NOT_RUNNING;var ae=[];var af=[];var gW={};var hV={};var U=[];var fC={};var kI="wm-";var cn=Array();var hX=null;var cQ=false;var fS=false;var k6=false;var k4="wm-wfow";var hN="wm-prsst";var cv="wm-dbg";var ct="wm-dbg-cnf";var j5="sti";var cm="tId";var cj="stt";var ck="step";var cl="spn";var ci="plgd";var j4="splt";var kO="fnsh";var kc="sph";var kF="wm-eug-";var ht="wm-cond-win";var hA=1000*60;var a1=8*hA;var hz=60*60*24;var hB=60*60*24*365;var b4=60*60*24*365*10;var fO;var f1;var M=false;var aX=13;var F=Array();var dg=false;var f=Array();var h=0;var ah;var ai=[];var aj=[];var P=-1;var H=j2.production;var dF=false;var hE=window.clearTimeout;var hD=window.clearInterval;var A=[];function ed(lp){var lo=undefined;mtjQuery.each(cF,function(lq,lr){if(lp==lr){lo=lq;return false;}});return lo;}function hG(){window.clearTimeout=function(lo){bG(lo,hE);};window.clearInterval=function(lo){bG(lo,hD);};}function bG(lp,lo){var lq=fC[kI+lp]!==undefined;if(lq){return;}else{lo(lp);}}function ch(lo){window._walkmeInternals=window._walkmeInternals||{};b5=new b6();ao.Logger=new hi({utils:ao,cookieManager:b5});dG=new dH(ao.Logger,ao.getCommonUtils());fK(lo);}function fK(lo){if(!dG.isFramesetsPage()){dq(lo);return;}var lp=40;var lq=0;lr();function lr(){var ls=dG.findBiggestFrame();var lt=dG.isFrameActive(ls);if(lt){co("Biggest frame is active. waitCount: "+lq,5,"FramesetsUtils");dq(lo);return;}if(lq>lp){co("Failed waiting for head and body in biggest frame. Stopping execution"+lq,1,"FramesetsUtils");return;}setTimeout(function(){lq++;co("Biggest frame wasn't ready on attempt "+lq,5,"FramesetsUtils");lr();},200);}}function dq(lo){aa=new jI();fV();N=new gL();G=new c1(ao,N);ao.ConditionFunctionsObj=new ao.ConditionFunctions(ao,N);bY=new bW(ao.ConditionFunctionsObj);j=new bf({isHttps:function lq(){return Z.indexOf("https:")!=-1;},urlWhitelist:function lu(){return ad.Settings.UrlWl;}});var lr=ao.Logger.timer("lib constructor");ao.ResourceManager=new iN(ao.Logger,ao.getCommonUtils());fO=new fP(ao);f1=new f0(ao);var lt={getAllUserGuids:dN,isFeatureEnabled:gl,setAuditStepCookieSeconds:jp};ak=new kr(lt);kp=ak.byType(aa.getStorageType());if(!kp){return;}var ls=function(){b3(b5,kp);c9=new da({generateGuidFunc:dJ,storageManager:kp,logger:ao.Logger,userGuid:ao.getUserGuid(),jQueryElementFinder:N});a=new ax(kp,c9,ao);gT=new gU(ao,kp,a,c9,bY,bP,aa);aw=new lh();if(document.cookie.indexOf("walkmeDontInitLib")==-1){ao.Init();}if(lo){lo(ao);}};if(kp.init(ls)===false){ao.removeWalkMe("storageManagerInitFailed");ao.initFailed=true;return false;}try{if(window.walkme_lib_in_dev){cL();}}catch(lp){}lr.stop();}function b3(lp,ls){var lq="wm-lang";var lr="wm-ABPer";lo(lq);lo(lr);function lo(lu){var lw=lp.getCookie(lu);var lt='"#!@DeL@!#"';if(lw&&lw!=lt&&lw.indexOf('"')!==0){ls.saveData(lu,lw,b4);var lv=aa.getStorageType();if(lv&&(lv!=kn.Cookie)){lp.setCookie(lu,lt,-1);}}}}function fV(){p=aa.getCdnServerName()||"";}function jp(lo){a1=lo;}function dN(){return aa.getAllUserGuids()||d;}ao.getMustache=function eI(){return hs;};ao.elkState=function c5(lo){bP.elementLastKeeper.setState(lo);};this.getStorageManagerInstance=function fa(lo){if(lo){return ak.byType(lo);}return kp;};this.getAnimator=function dO(){return aU;};ao.getABPermutationId=function dL(){return a.getPermutation();};ao.getEndUserGuid=function eu(){return c9.getEndUserGuid();};ao.setCustomCssProp=function ju(lo){C=lo;je("NewCustomCss",C);};ao.getCustomCssProp=function ea(){return C;};ao.getUiTracker=function(){return at;};function fy(lq,lp){var lo=undefined;if(lp){switch(lq){case lg.Cookie:lo=fx(lp);if(!lo){lo=undefined;}break;case lg.Var:lo=fA(lp);break;}}return lo;}function fx(lo){return b5.getCookie(lo);}function fA(lq){var lr=lq.split(".");var lp=window[lr[0]];for(var lo=1;lo<lr.length;lo++){if(lp===undefined||lp===null){return undefined;}lp=lp[lr[lo]];}return lp;}function d1(){var lo=(window.jQuery)||(window.$);if(lo&&lo.fn&&lo.fn.jquery){return lo;}return undefined;}function gu(){return H===j2.preview;}function gt(){return H===j2.play;}function gD(){return H===j2.production;}function b8(lo,lp){if(lo.BalloonSettings==undefined){if(lp.length>0){lo.BalloonSettings=lp[0].Steps[0].Configuration;}}}function em(lo,lp){var lq=lo.css(lp);return(lq)?parseFloat(lq):0;}function bk(lo){var lq=function(lr){return lr.element;};var lp=x;x=[];de({objectsArray:lp,functionsToExecute:[it],successCallback:lo,selectorFunc:lq});}this.setPlayInitiator=function jB(lo){a4.setPlayInitiator(lo);};this.getPlayInitiatorEnum=function eR(){return kd;};this.UiProperties=function kX(){return kU;};ao.getUiUtils=function fp(){return kY;};ao.getCommonUtils=function d3(){return bP;};ao.getFramesetsUtils=function ey(){return dG;};ao.getPositionHelper=function eT(){return h2;};this.removeAllStepAuditsLogs=function iz(){if(a4){a4.removeAllStepAuditsLogs();}};this.releaseAllElements=function im(lo){de({functionsToExecute:[ao.releaseBalloons,ao.releaseLaunchers],successCallback:lo});};this.releaseBalloons=function iq(lo){bF();de({functionsToExecute:[bk,hY],successCallback:lo});};this.releaseLaunchers=function iv(lr,lq,lp){var lo=function(lt,ls){if(lt.drawable){lt.drawable.destroy(ls);}else{if(ls){ls();}}};de({objectsArray:ao.getLaunchers(),functionsToExecute:[lo],successCallback:function(){if(!lp){ao.setLaunchers([]);}if(lr){lr();}}});};function de(lu){var ls=lu.objectsArray;var lv=lu.selectorFunc;var lq=lu.functionsToExecute;var lz=lu.successCallback;var lo=lu.failCallback;var lr;var lp=false;if(ls){lt();}else{lw();}function lt(){if(ls.length==0){if(lz){lz();}return;}lr=lq.length*ls.length;for(var lB=lq.length-1;lB>=0;lB--){for(var lC=ls.length-1;lC>=0;lC--){if(lp){return;}var lA=lv?lv(ls[lC]):ls[lC];lq[lB](lA,ly);}}}function lw(){if(lq.length==0){if(lz){lz();}return;}lr=lq.length;for(var lA=lq.length-1;lA>=0;lA--){if(lp){return;}lq[lA](ly,lx);}}function ly(){lr--;if(lr==0){if(lz){lz();}}}function lx(){if(lp){return;}lp=true;if(lo){lo();}}}ao.getUserGuid=function fr(){return au;};this.setUserGuidForEditor=function jM(lo){d=[lo];au=lo;};this.setTutorialsForEditor=function jL(lr,ls){try{var lq=jb(lr);for(var lp=0;lp<lq.length;lp++){lq[lp].userGuid=ls;}ao.setTutorials(lq);}catch(lo){ao.Logger.error(lo);}};this.setSurveysForRecorder=function jG(lo){var lp=jb(lo);al=lp;};this.getLaunchers=function eE(){return S;};this.setLaunchers=function jy(lo){R={};S=lo;};this.setTutorials=function jK(lp){aq=lp;ag={};for(var lo=0;lo<aq.length;lo++){dz(aq[lo],ad);}};this.getTutorials=function fm(){return aq;};this.getSiteConfig=function e1(lo){if(lo&&q){return q;}else{return ad;}};this.getWalkthrusLabels=function fw(){var lo=e0(ad.Settings,"labels",null);if(lo&&lo.useLabels==1){return O;}return null;};this.getSurveys=function fe(){return al;};this.setSiteConfig=function jD(lo){ad=lo;ao.setCustomCssProp(ad.CustomCss);jt(null);h3();};function h3(){h2.extendMtHidden();}function ca(lp){var lo=bJ(lp);if(ad){lo.direction=ad.Direction;lo.showPoweredBy=ad.PoweredByLink=="1";lo.showPoweredByFormat=ad.IsDisplayPoweredBy;}return lo;}ao.getBalloonDrawer=function dU(lq){var lo;var lp=ca(lq);var lr={lib:ao,resourceManager:ao.ResourceManager,logger:ao.Logger,balloonSettings:lp};if(lp.BalloonVersion=="v3"){lo=new ba(lr);}else{lo=new a9(lr);}return lo;};this.resetBalloonDrawer=function iL(){i=null;};this.appendWalkMeConfigData=function aW(lo){I=I.concat(lo.Experiments);};this.appendDataPackage=function aV(lv,lu){var lw=lv;if(lv.Tutorials===undefined){lw={Tutorials:lv,SiteConfig:lu};}var lB=lw.Tutorials;var ly=lw.SiteConfig;var lA=cE(lw.Tasks,[]);var ls=cE(lw.Labels,[]);var lz=cE(lw.Surveys,[]);var lt=cE(lw.Launchers,[]);var lx=cE(lw.Shuttles,[]);var lq=cE(lw.Contents,[]);var lo=cE(lw.Categories,[]);var lp=cE(lw.Collections,[]);au=cE(lw.UserGuid,"No-User-Guid");d.push(lw.UserGuid);if(gT.isNewLanguage()){aq=[];ad=[];O=[];am=[];S=[];ab=[];u=[];al=[];n=[];s=[];}b8(ly,lB);if(ly&&ad.length==0){q=ly;ao.setSiteConfig(ly);}for(var lr=0;lr<lB.length;lr++){dz(lB[lr],ly);kQ[lB[lr].TutorialId]={siteConfig:ly,isPackageHidden:gT.isNextDataPackageIsHidden()};lB[lr].userGuid=au;}for(var lr=0;lr<lA.length;lr++){dA(lA[lr]);}aN(lt,au);aN(lq,au);aq=aq.concat(lB);O=O.concat(ls);am=am.concat(lA);S=S.concat(lt);ab=ab.concat(lx);u=u.concat(lq);al=al.concat(lz);n=n.concat(lo);s=s.concat(lp);};function aN(lo,lq){for(var lp=0;lp<lo.length;lp++){lo[lp].userGuid=lq;}}this.isTutorialPackageHidden=function gJ(lo){var lp=kQ[lo.TutorialId];if(!lp){return false;}return lp.isPackageHidden;};this.setRecorderServer=function jC(lp){Z=lp;var lo=gT.getPlayerServer();if(lo!==null&&lo!==undefined){Z=lo;}};this.setPetaServerName=function jA(lo){if(lo!=undefined){V=lo;}};this.getPlayerServer=function eQ(){return Z;};this.setCdnServer=function jq(lo){p=lo;};this.setInRecorder=function jx(lo){M=lo;};this.setAnalyticsCustomFields=function jn(lo,lp){f[lo]=lp;return true;};this.getSupportedLanguages=function fb(){return gT.getSupportedLanguages();};this.getCurrentLanguage=function d5(){return gT.getCurrentLanguage();};this.changeLanguage=function bs(lp,lo){ao.releaseLaunchers();gT.changeLanguage(lp,lo);};this.tempClearUserCompletedTasks=function kG(lp,lo){ap.tempClearUserCompletedTasks(lp,lo);};this.loadTasks=function g1(lp,lo){ap.loadTasks(lp,lo);};this.getApiTasks=function dP(lo){return ap.getApiTasks(lo);};this.getWalkmeOOP=function ft(){return lb;};function ga(){return(ad.DebuggerSettings&&ad.DebuggerSettings.IsInPublish=="1");}ao.launchDebuggerForEditor=function gP(lq,lo){var lp=jb(lq);ao.launchDebugger(lp,lo);};ao.launchDebugger=function gO(lp,lo){if(!ga()){return;}if(!gb()){if(lp){kp.saveData(ct,lp,hB);}else{kp.removeData(ct);}if(lo){if(!window._walkmeInternals.dbgr){window._walkmeInternals.dbgr={};}window._walkmeInternals.dbgr.debuggerWasLoaded=lo;}gY(true);bP.postMessageDescendantFrames(window.top,JSON.stringify({requestType:"DEBUGGER_LOADED"}));}};ao.closeDebugger=function bL(){if(gb()){var lo=window._walkmeInternals.dbgr.close;lo&&lo();}};function gX(){bP.registerEventHandler("message",function(lq){try{var lo=jb(lq.data);if(lo.requestType=="DEBUGGER_LOADED"){gY();}}catch(lp){co("Error loading debugger from post message: "+lp,4);}});}function g0(){gX();gY();}ao.loadDebuggerForEditor=function gZ(){ao.closeDebugger();kp.removeData(ct);kp.saveData(cv,cu.ActiveAndReset,hB);};function gY(lp){hl(lp);window._walkmeInternals.dbgr.shouldClear=lp;var lo;if(!lo){lo=eP()+"debugger/"+eF()+"/";}if(!window._walkmeInternals.dbgr){window._walkmeInternals.dbgr={};}window._walkmeInternals.dbgr.rootPath=lo;bP.addScript(lo+"walkme_debugger.js");}this.searchTermChangedOnWidget=function ja(lo){if(lo=="loaddebugger"&&!gb()){this.launchDebugger();}};function hl(lo){if(!window._walkmeInternals.dbgr){window._walkmeInternals.dbgr={};}}function eF(){var lo=aa.getSettingsFile().LibFile;var lp=/maketutorial_lib_(\d+)\.js/.exec(lo);return lp[1];}function eP(){var lo=aa.getSettingsFile().LibFile;var lp=/http.+\/player\//.exec(lo);return lp[0];}this.widgetLoaded=function lf(lo){if(lo){lo.bind("on-activate",function(){ao.getUiUtils().fixFlash();});}};this.triangleLoaded=function kM(lo){this.dataFinishedLoading(lo);};var hF;this.dataFinishedLoading=function cq(lo){var lp=ao.Logger.timer("lib init");if(window.walkme_data_finished_loading_callback){walkme_data_finished_loading_callback();}if(hF===undefined){hF=window.onbeforeunload;window.onbeforeunload=function(lr){hy(lr);if(hF){return hF(lr);}};}if(!fX()){ao.removeWalkMe("initWalkMeClassesFailed");ao.initFailed=true;return false;}var lq=e9(lo);lp.stop();if(kp.init(lq)===false){ao.removeWalkMe("storageManagerInitFailed");return false;}return true;};function jQ(){var lo=kp.getData(cv,cu.Deactive,ao.getUserGuid());return(lo==cu.Active||lo==cu.ActiveAndReset);}function e9(lo){co("after loading storage",4);var lp=(lo)?aQ:aP;if(jQ()&&!(gb())){window._walkmeInternals.dbgr={};window._walkmeInternals.dbgr.debuggerWasLoaded=lp;lp=g0;}return lp;}function aQ(){co("after loading storage for play",4);D.init();bO();if(w.enabled()){w.start();}else{iO();}co("sending editor event: StorageManagerInitialized",4);jf("StorageManagerInitialized");}function aP(){bO();var ls=ao.Logger.timer("after loading storage");var lr=ao.Logger.timer("show all launchers");ao.showAllLaunchers();lr.stop();ds();if(w.enabled()){try{w.start();}catch(lp){ao.Logger.customerLog(lp,"failed to start pass ownership manager",1);iO();}}else{iO();}if(gD()){var lo=ao.getEndUserGuid();g.auditUniqueEndUser(au,a.getPermutation(),lo);}var lq=b?b.startWatching:gM;lq(function(){D.init();hC();if(!gu()&&!gt()){c7.reportEndUser(function(){ao.removeWalkMe("reportEndUserFailed");});}ls.stop();});}function bO(){a4.init();_serverDataSenderManager.start();}function hC(){try{walkme_ready();}catch(lo){}try{mt_ready();}catch(lo){}if(ao.isWalkMeVisible()){bv();}}function gM(lo){lo();}function bv(){var lp=fu();var lo=w.enabled()?w:W;if(!lo.handlePermalink(lp)){i0();}}function fu(){var lq;var lp=/walkme=([0-9]+)/;var lo=lp.exec(window.location.href);if(lo&&lo.length>1){return lo[1];}return undefined;}function ds(){if(mtjQuery.browser.msie){var lo=mtjQuery("a[href^='javascript:']");var lp="click.walkme.ignoreUnload";lo.off(lp);lo.on(lp,function(){fS=true;});}}function dz(lr,lp){var lq=lr.Steps;for(var lo=0;lo<lq.length;lo++){dy(lq[lo],lo,lp);}}function dy(lq,lo,lp){lq.StepIndex=lo;if(!lq.Configuration||lq.Configuration==-1){lq.Configuration=lp.BalloonSettings;}else{lq.End=lq.Configuration.End;lq.Duration=lq.Configuration.Duration;lq.Delay=lq.Configuration.Delay;lq.Position=lq.Configuration.Position;}lq.IgnorePosition=parseInt(e0(lq.Settings,"ignorePosition",0));}function dA(lo){b9(lo,"TaskProperties","Settings");kS(lo);return lo;}function b9(lo,lp,lq){if(lo[lp]!==undefined){lo[lq]=lo[lp];}else{lo[lp]=lo[lq];}}function kS(lo){if(lo.RelatedDeployableId){lo.Settings.WalkThruId=lo.RelatedDeployableId;}else{lo.RelatedDeployableType=cF.Tutorial;lo.RelatedDeployableId=Number(lo.Settings.WalkThruId);}}this.initWalkmeClassesForCustomizePlayer=function fY(){kp=ak.byType(kn.Cookie);c=new aB(ad);};function f7(){return !gl("walkmeIE7Support")&&(wmjQuery.browser.msie&&wmjQuery.browser.version<8)&&!window.postMessage;}function fX(){if(f7()){co("WalkMe is not supported on that browser");return false;}ao.getBalloonDrawer(ad.BalloonSettings).loadResources(ff().siblings("head"));fW();if(!aa.getStorageType()){kp=ak.byFeature();}if(kp===false){return false;}aw=new lh(gl("blockJsonp"),gl("corsJsonpFallback"));c=new aB(ad,kp,ao.getEndUserId,ao.Logger.error);g=new aS(kp,dJ,ao.Logger.error,ao.Logger);r=new bI({lib:ao,getUserGuidFunc:ao.getUserGuid,getOsTypeFunc:eN,getAuditSourceFunc:dQ,getAbPermutationFunc:ao.getABPermutationId,getEndUserGuidFunc:ao.getEndUserGuid});if(!c.shouldLoadWalkme()){return false;}if(gl("overridetimeouts")){hG();}ar=new kR({deployables:aq});_serverDataSenderManager=new jl({lib:ao,recorderServerName:Z,defaultDataStorageLifeSeconds:a1,dateSenderLogFeature:"serverDataSender"});a4=new a5({recorderServer:Z,cookieSeconds:a1,lib:ao,getPermutationId:a.getPermutation,getEndUserGuid:ao.getEndUserGuid,dataSenderManager:_serverDataSenderManager});if(ad.EndUserSettings){c9.setEndUserSettings(ad.EndUserSettings);}c7=new c8({getPermutationId:a.getPermutation,storageManager:kp,logger:ao.Logger,userGuid:ao.getUserGuid(),endUsersManager:c9});dF=gl("oldframesets");var lp=ad.TodoListSettings.isActive&&ao.evaluateConditionTree(ad.TodoListSettings.activateCondition);K=new fD({condTreeEvaluator:bY,checkInterval:kH,lib:ao,getPermutationId:a.getPermutation,getEndUserGuid:ao.getEndUserGuid});ap=new kK(am,lp,Z,kp,au,ao.getEndUserId(),ao.Logger.error,gu(),gt(),a.getPermutation,ao.getEndUserGuid,dQ,ao);D=new k7({dataManager:kp,goalsManager:K,lib:ao,getPermutationId:a.getPermutation,getEndUserGuid:ao.getEndUserGuid,getAuditSource:dQ,dataSenderMananger:_serverDataSenderManager});var lq=(I.length>0);if(lq){D.enableMultiUserStorage();J=new di({deployables:I,lib:ao});b=new aA({deployablesGoalManager:D,experiments:J.getAll(),lib:ao,getEndUserGuid:ao.getEndUserGuid,getPermutationId:a.getPermutation,getAuditSource:dQ,serverAddress:Z,storageManager:kp});}kA=new kB(ao,a.getPermutation,ao.getEndUserGuid);v=new b2({deployables:u,lib:ao,cdnServerName:p,deployablesGoalsManager:D,clickAuditManager:r});o=new bn({deployables:n,lib:ao});t=new bN({deployables:s,lib:ao});ac=new j1({deployables:ab,deployablesGoalsManager:D,clickAuditManager:r,lib:ao});T=new gQ({deployables:S,lib:ao});aG();var lo=new ay(ao);if(lo.shouldTrackAbTasks()){an=new kE({todoListManager:ap,goalsManager:K});ap.loadTasks(an.startWatchingTasks);}else{co("Not tracking ab testing and tasks - blocked in this browser.");c.disableReport();}if(c.isAbTestingEnabled()){ao.setAnalyticsCustomFields(0,ao.getEndUserId());}if(!w){w=cb(kp);}W=new hS({checkIfExists:bw,getTutorialByIndex:fh});if(!at){at=new kV(ao);}return true;}function cb(lq){var lp;if(gl("po_frames")){lp=dE;}else{if(gl("po_tabs")){lp=kC;}else{lp=hJ;}}var lo=new lp({storageManager:lq,errorHandler:ao.Logger.error,userGuid:au,owner:window,terminateTutorialFunction:function(){aj=[];ao.releaseBalloons();ir();},restoreStateFunc:iP,isFeatureEnabled:gl,allUserGuids:dN(),topWindow:top,isPlayMode:gt(),resumeAfterUnloadFunc:iQ,getStepFunc:e4,peekNextCookieStepFunc:hM,logger:ao.Logger});ao.crossDomainManager=lo;return lo;}function fW(){bP.setDefault(ad,"TodoListSettings",{});}function aG(){E[cF.Tutorial]=ar;E[cF.Content]=v;E[cF.Task]=ap;E[cF.Launcher]=T;E[cF.Category]=o;E[cF.Collection]=t;E[cF.Shuttle]=ac;E[cF.AbExperiment]=J;}ao.startContentById=function j6(lo){if(!v){return false;}v.activateById(lo);return true;};ao.getDeployablesManager=function ec(lo){return E[lo];};function aM(lp){ai.push(lp);var lo=aj[aj.length-1];if(!lo||(lo.Id!=lp.Id)){aj.push(lp);}}ao.getUiDataProvider=function fo(){return kW;};function gl(lo){if(ad.Features!="undefined"&&ad.Features){return ad.Features.indexOf(lo)>-1;}return false;}ao.auditClick=function a2(lo,lp){lp=gc(lp)?lp:-1;if(r&&lo){r.SendClickAudit(lo,lp);}};ao.isFeatureActive=function gk(lo){return gl(lo);};this.getEndUserId=function ev(){var lo=!c.isAbTestingEnabled();return c9.getEndUserGuid(lo);};function dI(){var lp=null;var lo=kF+ad.Settings.abTesting.testNumber;lp=kp.getData(lo);if(lp){return lp;}lp=dJ();kp.saveData(lo,lp,b4);return lp;}this.playerCreationComplete=function hR(lp){var lr=mtjQuery("#mt-menu-closed, #walkme-menu-closed");var lq=mtjQuery("#mt-menu-open, #walkme-menu-open");if(!lp){var lo=new a0({config:ad,utils:ao,player:lr});lo.setupAttenGrab();}};function hy(lo){co("onbeforeunload called",1);if(!fS){cQ=true;hK();if(w&&w.enabled()){w.loseOwnership(false,true);}else{if(gl("noUnload")){gN();}}}else{fS=false;}}function iQ(){cQ=false;iT(hV);}function gN(){setTimeout(function(){cQ=false;iR();},3000);}function hM(ls){try{ls=ls||0;var lu=kp.getData(hN,{},dN()[0]);var lr=lu[cm];var lq=fg(lr);var lp=lu[ck];var lo=lq.Steps[lp+ls];return lo;}catch(lt){return null;}}this.destroyAll=function cI(lo){co("destroyAll - begin",1);kQ={};ip();io();if(K){K.cleanResources();}ao.releaseAllElements(function(){co("destroyAll - releaseAllElements finished",1);var lp=p.replace("http://","").replace("https://","");mtjQuery("script[src*='"+lp+"']").not("script[src*='maketutorial_lib']").not("[src*='jquery']").not("[src*='wmjQuery']").remove();mtjQuery(".mt-to-destroy, .walkme-to-destroy").remove();iG(".mt-to-destroy, .walkme-to-destroy");if(window._walkmePlayer&&window._walkmePlayer.destroyWalkMePlayer){window._walkmePlayer.destroyWalkMePlayer();}if(window.walkmeWidget&&window.walkmeWidget.destroyWalkMePlayer){window.walkmeWidget.destroyWalkMePlayer();}if(lo){co("destroyAll - calling user callback",1);lo();}});};this.removeWalkMe=function iK(lp){co(dD("removeWalkMe called with reason {0}",lp));try{if(window.walkme_remove_walkme_callback){walkme_remove_walkme_callback(lp);}}catch(lo){}ao.destroyAll(function(){for(var lr in fC){if(lr&&lr.indexOf&&(lr.indexOf(kI)===0)){hE(fC[lr]);}}ao.ResourceManager.emptyStyleSheets();window._makeTutorial=window.MakeTutorialAPI=window.WalkMeAPI=window.WalkMeDataClass=window.WalkmeWidget=window.WalkmeSnippet=undefined;window.wmPreviewSnippet=undefined;window.wmSnippet=undefined;window.walkme_lib_in_dev=undefined;window.walkme_lib_notify_ServerName=undefined;var ls=p.replace("http://","").replace("https://","");wmjQuery("script[src*='"+ls+"']").remove();wmjQuery("script[src*='maketutorial']").remove();wmjQuery("script[src*='wmjQuery']").remove();wmjQuery("link[id^='mt-css']").remove();mt_cdn_server_name=undefined;mt_get_user_settings_url=undefined;var lq=ff();wmjQuery(".walkme-to-remove").remove();iG(".walkme-to-remove ");h2.removeScrollAndResizeEvents();if(at){at.stop();at=null;}wmjQuery=mtjQuery=undefined;});};function iG(lq){if(!dG.isFramesetsPage()){return;}var lo=dG.getAllFramesDocuments();for(var lp=0;lp<lo.length;lp++){wmjQuery(lq,lo[lp]).remove();}}function cE(lp,lo){return((typeof(lp)!="undefined"&&lp!=null)?lp:lo);}function iM(){B=-1;y=ka.NOT_RUNNING;z=-1;ae=[];a4._currentPlayGUID="";dg=false;ai=[];aj=[];ag={};P=-1;cQ=false;k6=false;}function dk(ls,lo,lp,lr){for(var lq=lo;lq<lp;lq++){a4.auditStep(aq[ls].Steps[lq],lr,aq[ls].Steps.length);}}var fz=function fz(){return window.location.href;};var eU=function eU(){return document.referrer;};function jE(lp){if(kQ[aq[lp].TutorialId]){var lo=kQ[aq[lp].TutorialId].siteConfig;if(lo){ad=lo;}}}function eX(lp){var lo;lo=e0(aq[lp].Settings,"SafeStart",false);if(!lo||lo.enabled=="0"){lo=e0(ad.Settings,"SafeStart",null);}return lo;}this.startNewTutorial=function j7(lA,lr,lz){try{co("startNewTutorial : Index = "+lA+". From Step = "+lr);ao.getUiUtils().fixFlash();jE(lA);var lu=false;lr=cE(lr,0);lz=cE(lz,false);if(!w.canStartPlaying(y)){w.walkthruStarted(function ly(){y=ka.WAITING_FOR_OWNERSHIP;B=lA;z=lr;ks();y=ka.NOT_RUNNING;w.reset();});return true;}if(!lz){iM();if(!w.enabled()){iC();}hY();}je("StartNewWt",aq[lA]);var lo=[];lr=W.findFirstStep(lA,lr,lo);var lp=(lr==0);if((lr>0)&&(!lz)&&(dQ()!=j2.play&&dQ()!=j2.preview)){lu=true;dk(lA,0,lr,kf.SkippedStartedFromBiggerStep);}else{if(lr==0){lr=bD(lA);if((lr>0)&&(!lz)){lu=true;dk(lA,0,lr,kf.SkippedByTutorialCondition);}}}if(!bC(lA,false)&&(lr<0)){if(lz){return false;}var lw=eX(lA);if(lw!=null&&lw.enabled==1){var lx;var lv=false;var lB=lw.url;if(lw.autoRedirect==1){lx=i4.AutoRedirect;lv=true;}else{lx=i4.PopupShown;jY(lB,lA);}for(var ls=0;ls<lo.length;ls++){a4.auditStep(aq[lA].Steps[lo[ls].stepIndex],lo[ls].stepStatus,aq[lA].Steps.length,false);ji(lx,aq[lA].Id);}if(lv){i5(lB,i4.AutoRedirect,lA);}}else{for(var ls=0;ls<lo.length;ls++){var lt=lo[ls].stepStatus==kf.SupposedToShow;a4.auditStep(aq[lA].Steps[lo[ls].stepIndex],lo[ls].stepStatus,aq[lA].Steps.length,lt);}jV(aq[lA]);}}else{if(lz){return true;}g2(lA,lr,lp,(lu?a4._currentPlayGUID:undefined));}}catch(lq){ao.Logger.error(lq);return false;}je("WtHasGuid",aq[lA],{playGuid:a4._currentPlayGUID});return true;};function li(lo){var lp={ClickEvent:lo};jc("UserStoppedWalkthru",lp);hx("UserStoppedTutorial",lp);var lq=(z==-1);if(!lq){a4.auditStep(d7(),kf.Exited,d8().Steps.length);}ao.stopTutorial(lq);jc("UserStoppedWalkthruAfterStop",lp);hx("UserStoppedTutorialAfterStop",lp);}this.stopTutorial=function km(lp){if(gb()){je("TutorialStopped",d9(z));}ir();io();ao.releaseBalloons();y=ka.NOT_RUNNING;var lq=z;z=-1;if(!lp){ks();}if(w&&w.enabled()){w.loseOwnership(true);}var lo=d8();if(lo){kA.handleSurveyPlay(lo,kz.WalkThruExited,lq);}};function g2(ls,lq,lo,lr){try{X=0;je("LoadWt",aq[ls]);jE(ls);v.removeContent();lr=cE(lr,ao.generateNewPlayGuid(aq[ls].TutorialId));lo=cE(lo,true);lq=cE(lq,0);if(lq==0){lq=bD(ls);}h5(ls,lq,lr,[],[]);if(dQ()!=j2.play&&dQ()!=j2.preview){D.startWatchingDeployable(aq[ls],lr);}ao.postWelcomeStep(ls);}catch(lp){_makeTutorial.Logger.error(lp);}}this.postWelcomeStep=function h4(lo){if(z==-1){if(bC(lo,true)){return;}}ao.executeTutorialNextStep();};var kg=undefined;function bw(lE,lq,lB,lo,lx){function ls(lG){if(gC(lG)&&(lo==1)){if(aq[lE].Steps.length>lG.StepIndex){var lF=bw(lE,lG.StepIndex+1,lB,lo,lx);if(lF<0){return lF;}else{return lG.StepIndex;}}}else{return lG.StepIndex;}}function lr(lI){var lF=dM(lI);if(lF.getGoToData){var lH=lF.getGoToData();var lG=bw(lH.tutorialIndex,lH.stepIndex,lB,lo,lx);if(lG<0){return lG;}}else{if(lF.type=="stopWt"){return ly(-2);}}return lI.StepIndex;}function ly(lF){kg=undefined;return lF;}var lD=aq[lE];var lC=lD.Steps[lq];lo=cE(lo,1);lB=cE(lB,0);if(!kg){kg=[];}if(fM(kg,lC.Id)){return ly(-5);}var lv=eO(lC);var lw=true;if(lv!=hQ.STICKY_CONDITION){lw=bx(lC);}var lp=e0(lC.Settings,"fake",false);var lz=e0(lC.Settings,"skipNotExists",false);var lt=(lz||lC.IsSkippable||!lw||lp);if((lw)&&(!lp)&&ao.findElement(lC)){if(f4(lC)){return ly(lr(lC));}else{if(gB(lC)){return ly(ls(lC));}else{return ly(lq);}}}else{if(lx){lx.push({stepIndex:lq,stepStatus:e7(lt,lw)});}var lu=lq+lo;if(!lt){return ly(-1);}else{if(lu<0){return ly(-2);}else{if(lu==lD.Steps.length){if(ae&&(ae.length>lB)){var lA=ae[ae.length-1-lB];return ly(bw(lA.tutorialIndex,lA.stepIndex,lB+1,lo,lx));}else{return ly(-2);}}else{return ly(bw(lE,lu,lB,lo,lx));}}}}}function e7(lo,lp){if(!lo){return kf.SupposedToShow;}else{if(!lp){return kf.SkippedByCondition;}else{return kf.SkippedNotFound;}}}function fM(lo,lp){if(fT(lp,lo)<0){lo.push(lp);return false;}else{return true;}}function aO(lo,lp){mtjQuery(".walkme-custom-welcome-step-start-button",lo).click(function(){le(lp);});mtjQuery(".walkme-custom-welcome-step-cancel-button",lo).click(function(){ld();});}function ld(){hY();jc("WelcomeStepCancelPressed");hx("WelcomeStepCancelPressed");var lo=d8();var lp={TutorialId:lo.TutorialId,Id:-1,StepIndex:-1};a4.auditStep(lp,kf.Exited,lo.Steps.length);}function le(lp){hY();_makeTutorial.postWelcomeStep(lp);jc("WelcomeStepStartPressed");hx("WelcomeStepStartPressed");var lo=d8();var lq={TutorialId:lo.TutorialId,Id:-1,StepIndex:-1};a4.auditStep(lq,kf.Performed,lo.Steps.length);}function e2(lp){var lo;if(kQ[lp]){lo=kQ[lp].siteConfig;}else{lo=ad;}return lo;}function jZ(ls,lw,lr,lp,lt){var lu=eS(true);aE(lu,x);var lv=bJ(lr);if(lt){lv.displayX=false;}var lq=ao.getSiteConfig().BalloonSettings;var lo=new ao.Balloon({element:lu,forceEmbedBalloonInIframe:false,positionHelper:h2,highlighter:fO,insideouter:f1,fixedSize:{width:lw,height:0},stepSettings:lv,htmlContent:ls.htmlContent,text:{title:ls.title||"",content:ls.text||"",subText:ls.subText||""},data:{type:ke.Popup},configuration:lq,logger:ao.Logger,drawer:ao.getBalloonDrawer(lq)});lo.Show(false,function(){var lx=mtjQuery(lo.getBalloonDiv());lx.removeClass("walkme-custom-step-0");mtjQuery("*",lx).removeClass("walkme-custom-step-0");lp(lx);});}function eW(lp){var lo=mtjQuery("<div></div>");lp=hv(lp);lo.append(lp);return lo;}function jY(ls,lr){var lq=ao.getSiteConfig();var lp=eW(lq.SafeStartPopupText);var lo={popupStepButtons:[{id:0,name:lq.RedirectButtonText,action:5},{id:1,name:lq.StayButtonText,action:6}]};jZ({htmlContent:lp},400,lo,function(lt){aL(lt,ls,lr);});}function aL(lo,lq,lp){mtjQuery(".walkme-action-redirect",lo).click(function(){i5(lq,i4.RedirectClicked,lp);});mtjQuery(".walkme-action-stay",lo).click(function(){kb(lp);});mtjQuery(".walkme-action-close",lo).attr("onclick","").unbind("click");mtjQuery(".walkme-action-close",lo).click(function(){kb(lp);});}function ji(lq,lo,lp){if(lo!=undefined){jj(a4._currentPlayGUID,lq,lo,lp);}}function i5(ls,lq,lr){var lp=aq[lr];var lo=function(){cS(ls,lr);};hU(lo,dB);ji(lq,lp.Id,lo);}function kb(lp){var lo=aq[lp].Id;ji(i4.StayClicked,lo);bM();}function cS(lp,lo){z=0;y=ka.WAITING_FOR_REDIRECT;B=lo;ks();ij(lp,true);bM();}function bM(){ao.releaseBalloons();}function jj(ls,lu,lo,lq,lr){try{if(!f6()){var lt=aw.execute({url:Z+"/Statistics/UpdatePlaySummeryWithSafeStartInfo",dataType:"jsonp",data:{playGuid:ls,safestartStatus:lu,domain:window.location.host,source:dQ(),tutorialId:lo,timestamp:eb(),permutationId:a.getPermutation(),endUserGuid:ao.getEndUserGuid()},timeout:10000});lt.complete(function(lv){if(lq){lq(lv);}});lt.success(function(lv){});lt.error(function(lv,lw,lx){_makeTutorial.Logger.error(lv,"Redirection Error: "+lw);if(lr){lr(lv,lw,lx);}});co("Sent SafeStart update With Falg "+lu+" to server at "+new Date().toString());}}catch(lp){_makeTutorial.Logger.error(lp);}}function jV(lA){var ly=e2(lA.Id);var lp=ly.BalloonSettings;var lw=lp.BalloonVersion=="v3";var lo=e0(lA.Settings,"cantPlayAlert",ly.TutorialCantPlayText);var lv=(lo==ly.TutorialCantPlayText);var lt="";if(lv&&(gu()||gt())){var ls=lw?"14px":"15px";var lz="Oops, it seems that this walk-thru cannot be played from this current location.";lo="Please note that your users will not be able to play the walk-thrus from this location either. In order to get this issue fixed, please enable the Safe start.";var lx="http://support.walkme.com/customer/portal/articles/1178398-safe-start";lt+="<h1 id='walkme-first-step-not-available-title' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+lp.Font+";color: "+lp.HeaderColor+"; font-weight: bold; font-size: "+ls+"; border: none; margin: 10px; word-wrap: break-word;'>"+lz+"</h1>";lt+="<h2 id='walkme-first-step-not-available-content' class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+lp.Font+";color: "+lp.HeaderColor+"; font-size: "+ls+"; border: none; margin: 10px; word-wrap: break-word; font-weight: normal;'>"+lo+"</h2>";lt+='<a href="'+lx+'" style="float: left; margin-left: 11px; text-decoration: underline; color: blue;">Read More</a>';}else{var ls=lw?"14px":"21px";lo=ao.parseBBCode(lo);lt+="<h1 class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+lp.Font+";color: "+lp.HeaderColor+"; font-size: "+ls+"; border: none; margin: 10px; word-wrap: break-word;'>"+lo+"</h1>";}if(!lw){lt+="<div style='float: right'>";lt+=dT("walkme-custom-first-step-not-available-ok-button mt-custom-first-step-not-available-ok-button CUSTOM-TUTORIAL-ID","OK",lp);lt+="</div>";hZ("first-step-not-available",lt,420,lA.TutorialId,aH);}else{var lq={popupStepButtons:[{id:0,name:"OK",action:7}]};var lu=wmjQuery("<div></div>");lu.append(lt);var lr=true;jZ({htmlContent:lu},446,lq,function(lB){mtjQuery(".walkme-action-ok",lB).click(function(){ao.releaseBalloons();});},lr);}}function aH(lo){mtjQuery(".walkme-custom-first-step-not-available-ok-button",lo).click(hY);}var h5=function(ls,lo,lp,lq,lr){ir();io();ao.releaseBalloons();y=ka.RUNNING;B=ls;z=lo-1;a4._currentPlayGUID=lp;ai=lq;aj=lr;};this.lib_error=function gR(lo,lp){ao.Logger.error(lo,lp);};function bF(){if(!A){return;}for(var lo=A.length-1;lo>=0;lo--){A[lo].cleanResources();}A=[];}this.executeTutorialNextStep=function df(){if(dG.isLoadingFrames()){hU(ao.executeTutorialNextStep,200);return;}if(dg){co("executeTutorialNextStepNotFinished - skipping this executeTutorialNextStep",5);return;}if(k6){k6=false;co("executeTutorialNextStep: waiting for other window",5);co("Waiting for other window...");k5();return;}if(cQ){co("executeTutorialNextStep: not executing, dontContinueTutorial=true",5);return;}if(d8().Steps.length-1==z){ao.tutorialFinished();return;}dg=true;hU(function(){z++;function lo(){dg=false;ao.executeCurrentStep();}if((z>0)&&(!gG(d9(z-1).End,kh.NOTHING))){ao.releaseBalloons(lo);}else{lo();}},eJ()*1000);};function k5(){kp.refreshGetData();hU(function(){var lo=kp.getData(k4,undefined,d8().userGuid);if(lo==1){co("Other window finished. Resuming walk-thru here.");kp.saveData(k4,0,cA,d8().userGuid);iO();}else{k5();}},500);}this.executeCurrentStep=function dd(){var lo=d9(z);dh(lo);};var d9=function(lo){return d8()&&d8().Steps[lo];};function gG(lp,lr){if(typeof(lp)=="number"){return(lp==lr);}var lq=lp.split(",");for(var lo=0;lo<lq.length;lo++){if((lr+"")==lq[lo]){return true;}}return false;}function ic(lo){if(!f9()){ae.push({tutorialIndex:B,stepIndex:lo!=undefined?lo:z+1,playGuid:a4._currentPlayGUID,stepPlayHistory:ai,stepPlayStack:aj});}}var f9=function f9(){return d8().Steps.length<=(z+1);};var fg=function fg(lo){var lp=fk(lo);return aq[lp];};function fh(lo){return aq[lo];}function fd(lp){var lq=-1;for(var lo=0;lo<al.length;lo++){if(al[lo].Id==lp){lq=lo;break;}}return lq;}function fc(lo){var lp=fd(lo);if(lp>=0){return al[lp];}return null;}var fn=function fn(lp){var lo=hk(lp,function(lq){return fg(lq).Steps[0];});return lo;};function c4(lp){var lo=hk(lp,function(lr){co("Check walk-thru: "+lr.TutorialId+" ("+fv(lr.TutorialId)+")");var lq=ao.findElement(lr);if(lq){co("First step found.");}else{co("First step not found.");}return{step:lr,element:lq};});lo=dl(lo,function(lq){return lq.element;});return hk(lo,function(lq){return lq.step;});}function cx(lq){try{co("Multiple branch: Going through all walk-thrus.");var lr=fn(lq);var lp=c4(lr);if(lp.length==1){return lp[0].TutorialId;}else{if(lp.length>1){co("can't decide which tutorial to play",5);co(lp.length+" walk-thrus match. Cannot choose which walk-thru to start.");}else{return null;}}}catch(lo){ao.Logger.error(lo);}}var eB=function eB(){if(ae&&ae.length>0){return ae.pop();}else{return null;}};function eK(){return eL(B,z,0);}function eL(lp,lo,ls){if(aq[lp].Steps.length>(lo+1)){var lq=aq[lp].Steps[lo+1];lq.TutorialIndex=lp;return lq;}else{if(ae&&(ae.length>ls)){var lr=ae[ae.length-1-ls];return eL(lr.tutorialIndex,lr.stepIndex-1,ls+1);}else{return null;}}}function eJ(){var lo=eK();if(lo==null){return 0;}else{return lo.Delay;}}this.tutorialFinished=function kP(){ao.releaseBalloons();y=ka.NOT_RUNNING;ks();var lq=eB();var lo={};if(lq){je("BackFromBranch",aq[lq.tutorialIndex]);h5(lq.tutorialIndex,lq.stepIndex,lq.playGuid,lq.stepPlayHistory,lq.stepPlayStack);ao.executeTutorialNextStep();lo.hadSplit=true;}else{lo.hadSplit=false;w.loseOwnership();}jc("WalkthruCompleted",lo);hx("TutorialCompleted",lo);var lp=d8();ap.updateTutorialCompleted(lp.TutorialId);kA.handleSurveyPlay(lp,kz.WalkThruCompleted,z);};function j8(){var lo=d8();kA.handleSurveyPlay(lo,kz.WalkThruInterrupted,undefined,ao.executeTutorialNextStep);}this.checkRepeatCookie=function bz(lo,lp){var lq={shouldStart:true,repeatCookieExpiry:-1};if(lp=="always"){}else{if(lp=="visit"){lo+="-v";}if(kp.getData(lo)==1){lq.shouldStart=false;}else{if(gA(lp)){lq.repeatCookieExpiry=lp;}else{if(lp=="visit"){lq.repeatCookieExpiry=hz;}else{if(lp=="once"){lq.repeatCookieExpiry=b4;}else{ao.Logger.error(new Error("checkRepeatCookie bad value: "+lp));}}}}}lq.store=function(){if(lq.repeatCookieExpiry>=0){kp.saveData(lo,1,lq.repeatCookieExpiry);}};return lq;};function gB(lo){return(lo.Type&&lo.Type==ke.Popup);}function gC(lo){if(lo.Type!=ke.Popup){return false;}return e0(lo.Settings,"popup-play-condition",0)==1;}function eD(lp){for(var lo=0;lo<S.length;lo++){if(S[lo].Id==lp){return S[lo];}}}this.getLauncherAction=function eC(ls){var lp={none:lq,playWt:lv,openMenu:lt,playContent:lu};if(R[ls]!=undefined){return R[ls];}else{var lr=eD(ls);var lo=e0(lr.Settings,"action",null);if(!lo){co("No action core. aborting...");return null;}R[ls]=new lp[lo.actionType](lo.arguments,lr);return R[ls];}function lt(lx){var lw=this;this.doAction=function(){try{if(window.WalkMePlayerAPI!=undefined){WalkMePlayerAPI.toggleMenu();}}catch(ly){co(dD("Failed opening menu. Exception: {0}",kL(ly)));}};}function lv(lw){this.isValid=function(){return true;};this.doAction=function(){try{var lA=lw.playWtFromBeginning?0:e6(lw.StepId,lw.wtId);if(lA==-1){var lz=dD("Step with id: {0} was not found in walkthru with id {1}",lw.StepId,lw.wtId);co(lz);}else{WalkMeAPI.startWalkthruById({id:parseInt(lw.wtId),fromStep:lA,playInitiator:{type:kd.LAUNCHER,objectId:ls}});}}catch(lx){var ly="Failed starting walkthru with id {0}, starting from step {1}. Exception is: {2}";var lz=dD(ly,lw.wtId,lw.StepId,kL(lx));co(lz);}};}function lu(lw){this.isValid=function(){return true;};this.doAction=function(){try{var lx=lw.contentId;WalkMeAPI.startContentById(lx);}catch(ly){var lz="Failed playing content with id {0}. Exception is: {1}";var lA=dD(lz,lw.wtId,kL(ly));co(lA);}};}function lq(lw){this.isValid=function(){return true;};this.doAction=function(){};}};function dM(lA){var lp={redirect:lx,refresh:ly,branchWt:lq,stopWt:lC,playStep:ls,openPlayerMenu:lv,waitForCond:lD,delay:lr,passOwnership:lw,setWalkMeData:lz};if(ag[lA.Id]!=undefined){return ag[lA.Id];}else{var lo=e0(lA.Settings,"action",null);if(!lo){co("No action core. aborting...");return null;}ag[lA.Id]=new lp[lo.actionType](lo.arguments,lA);return ag[lA.Id];}function lt(lF){co("Checking condition...");if(lF){try{return ao.evaluateConditionTree(lF);}catch(lG){}}return true;}function lx(lF){this.isValid=function(){return true;};this.doAction=function(){ki();if(!ij(lF.redirectUrl,true)){ki();ao.executeTutorialNextStep();}};}function lq(lF,lG){this.isValid=function(){return lE(lF.wtId);};this.doAction=function(){var lI=lF.wtId;if(lF.returnToWt==1){var lH=e6(lF.StepId,lG.TutorialId);hj([lI],lH,false);}else{hj([lI],lH,true);}};this.getGoToData=function(){var lH=fk(lF.wtId);return{tutorialIndex:lH,stepIndex:0};};}function lC(lF){this.type="stopWt";this.isValid=function(){return true;};this.doAction=function(){ki();ao.stopTutorial();};}function ls(lF,lG){this.isValid=function(){return lB(lF.StepId,lG.TutorialId);};this.doAction=function(){var lH=lF.StepId;var lI=e6(lH,lG.TutorialId);ki();if(z<lI){dk(B,z+1,lI,kf.SkippedByActionStep);}z=lI;ao.executeCurrentStep();};this.getGoToData=function(){var lH=lF.StepId;var lI=e6(lH,lG.TutorialId);var lJ=fk(lG.TutorialId);return{tutorialIndex:lJ,stepIndex:lI};};}function lv(lF){this.isValid=function(){return window.WalkMePlayerAPI!=undefined;};this.doAction=function(){try{ki();WalkMePlayerAPI.toggleMenu();}catch(lG){}ao.executeTutorialNextStep();};}function lD(lF){this.isValid=function(){return true;};this.doAction=function(){y=ka.WAITING_FOR_CONDITION;ks();var lH=lF.condition;var lG=ao.evaluateAsyncConditionTree(lH);function lI(){var lJ=lG.hasValue()&&lG.getValue();if(gb()){je("ActionConditionEvaluated",d9(z));}if(lJ){ki();ao.executeTutorialNextStep();}else{hU(lI,500);}}lI();};}function lr(lF){this.isValid=function(){return true;};this.doAction=function(){ks();hU(function(){ki();ao.executeTutorialNextStep();},lF.duration*1000);return true;};}function ly(){this.isValid=function(){return true;};this.doAction=function(){ki();ks();gV(function(){location.reload(true);},200);};}function lE(lG){for(var lF=0;lF<aq.length;lF++){if(aq[lF].TutorialId==lG){return true;}}return false;}function lB(lF,lG){return e6(lF,lG)!=-1;}function lw(lF,lH){this.isValid=function(){return true;};var lI={stepId:lH.Id,tutorialId:lH.TutorialId};this.doAction=function lG(){kp.saveData(ht,new Date().getTime(),3600);if(lt(lF.condition)){w.switchOwner(lI,false);ki();ao.executeTutorialNextStep();}else{if(!w.enabled()){co("Reached pass ownership step but the feature is not supported, the next step will not be executed.");ao.tutorialFinished();return;}y=ka.PASSING_OWNERSHIP;z++;if(!lu()){ks();}w.switchOwner(lI,true);}};}function lu(){var lF=hM();if(!lF||!B){return false;}if((lF.TutorialId==B.Id)&&(lF.StepIndex<=z)){return true;}return false;}function lz(lF){this.isValid=function(){return true;};this.doAction=function(){kp.saveData(lF.dataKey,lF.dataValue,lF.dataDuration);ki();ao.executeTutorialNextStep();};}}function gy(lp){var lo=lp;if(ai.length>1){lo=d9(ai[ai.length-2].Idx);}return(gG(lp.End,kh.NOTHING)||gG(lo.End,kh.NOTHING));}var dh=function dh(lK){if(Q!=lK.Id){X++;}lK.playNumber=X;Q=lK.Id;co("Processing step #"+(lK.StepIndex+1)+". Step title: "+lK.StepTitle);je("NewStepStarted",lK);if(!gl("highPerf")){ds();}if(y!=ka.WAITING_FOR_STICKY_ELEMENT&&y!=ka.WAITING_FOR_ELEMENT&&y!=ka.WAITING_FOR_CONDITION){var ls=f4(lK)?kf.Shown:kf.SupposedToShow;a4.auditStep(lK,ls,d8().Steps.length);}var lG=eO(lK);var lF=bx(lK);je("PlayStepCondition",lK,{isPassed:lF});if((!lF)&&((lG==hQ.PLAY_CONDITION)||((lG==hQ.BOTH)&&(y!=ka.WAITING_FOR_STICKY_ELEMENT)))){co("Play step condition is false. Skipping step.");a4.auditStep(lK,kf.SkippedByCondition,d8().Steps.length);je("StepWasSkipped",lK);ao.executeTutorialNextStep();return;}if(gC(lK)){var ly=bw(B,lK.StepIndex,0,1);if(ly==-1){co("Keep looking for element after popup.");y=ka.WAITING_FOR_ELEMENT;hU(function(){_makeTutorial.executeCurrentStep();},500);ks();return;}else{if(ly==-2||ly==-5){var lC="Popup play condition isn't met, skipping the popup.";if(ly==-5){lC="Loop detecetd";}co(lC);a4.auditStep(lK,kf.SkippedNotFound,d8().Steps.length);je("StepWasSkipped",lK);ao.executeTutorialNextStep();return;}}}var lw=undefined;if((!lF)&&(y==ka.WAITING_FOR_STICKY_ELEMENT)){co("Sticky PlayCondition isn't met.");lw=false;}else{var lJ={};lw=ao.findElement(lK,null,lJ);lK.Score=lJ.score;}if(!lw){co("Element not found.");if(y==ka.WAITING_FOR_STICKY_ELEMENT){co("Step was sticky. Keep looking for the element.");je("StickyStepWaiting",lK);y=ka.WAITING_FOR_STICKY_ELEMENT;hU(function(){_makeTutorial.executeCurrentStep();},500);ks();}else{if(!(lK.IsSkippable||e0(lK.Settings,"skipNotExists",false))){co("Keep looking for the element.");y=ka.WAITING_FOR_ELEMENT;hU(function(){_makeTutorial.executeCurrentStep();},500);ks();}else{if(f4(lK)){co("Action step isn't valid. Skipping to next step.");a4.auditStep(lK,kf.NonValidActionStep,d8().Steps.length);}else{co("Skippable step. Skip to next step.");a4.auditStep(lK,kf.SkippedNotFound,d8().Steps.length);}je("StepWasSkipped",lK);ao.executeTutorialNextStep();}}}else{if(lw&&(lw!==true)){co("Element found:");co(lw);}je("ElementFound",lK);if((lw!==true)&&!cX(lw,"cleanUp")&&cX(lw,"balloonDiv")){co("Careful! Multiple balloon on same element.");}jc("BeforeNewStepShown");hx("BeforeNewStepShown");var lH=aj[aj.length-1]?aj[aj.length-1].Idx:null;aM({Idx:lK.StepIndex,Id:lK.Id});if(e0(lK.Settings,"fake",false)){co("This is a fake step. Continue to next step.");ks();a4.auditStep(lK,kf.FakeFound,d8().Steps.length);je("StepIsFaked",lK);ao.executeTutorialNextStep();return;}var lx=false;y=ka.RUNNING;if(f4(lK)){hU(function(){dM(lK).doAction();},100);return;}aE(lw,x);var lL=lK.StepTitle;var lr=lK.StepText;var lt=d9(z);var lu=1000;var lA=lt.LinkedTutorialIds?true:false;if(lA){var lB=lt.LinkedTutorialIds.split(";");var lM=gI(lB);if(lM){co("This is a branched step. Branched walk-thru's: "+lt.LinkedTutorialIds);fG(lw,["click","mousedown"],lB,lu);}else{co("Branch walk-thru id, not found: "+lt.LinkedTutorialIds);lA=false;}}var lD=false;var lv=false;var lp=-1;var lE=eK();var lz=(lE==null);if(gG(lt.End,kh.NEXT_BUTTON)){y=ka.WAITING_FOR_NEXT_BUTTON_CLICK;if(lz){lv=true;}else{if(lE.IsSkippable||e0(lE.Settings,"skipNotExists",false)||((eO(lE)!=hQ.STICKY_CONDITION)&&(!bx(lE)))||e0(lE.Settings,"fake",false)){if(bw(lE.TutorialIndex,lE.StepIndex)==-2){lv=true;}else{lD=true;}}else{lD=true;}}}if(gG(lt.End,kh.NOTHING)){if(!lz){lx=true;}}else{if(gG(lt.End,kh.HOVER)){fH(lw,lK,["mouseenter"],lz,500);}else{if(gG(lt.End,kh.CLICK)&&!lA){fH(lw,lK,["focus","click","mousedown","mouseup"],lz,lu);}else{if(gG(lt.End,kh.KEY_PRESSED)){fH(lw,lK,["keydown","paste","change"],lz,2000);}else{if(gG(lt.End,kh.PAGE_CHANGED)){y=ka.WAITING_FOR_PAGE_CHANGE;cQ=true;}else{if(gG(lt.End,kh.DURATION)){lt.durationHandler=hU(function(){ki();ao.executeTutorialNextStep();},lt.Duration*1000);}}}}}}if(lt.Settings.additionalTriggers){var lo=ao.evaluateAsyncConditionTree(lt.Settings.additionalTriggers);je("StepAdditionalTriggerCBSet",lt);lo.onGotValue(function(lN){je("StepAdditionalTriggered",lt);if(lN){cQ=false;if(lt.durationHandler){lt.durationHandler.clear();lt.durationHandler=null;}ki(true);ao.executeTutorialNextStep();}});A.push(lo);}if((z>0)&&(gG(lt.End,kh.NEXT_BUTTON))&&(!f5(lH))){lp=bw(B,z-1,0,-1);if(lp>=0){var lI=d9(lp);if(gG(lI.End,kh.NEXT_BUTTON)){}else{lp=-1;}}P=lp;}if(e0(lK.Settings,"waitOtherWindow",false)){k6=true;}var lq=new ao.Balloon({element:lw,forceEmbedBalloonInIframe:false,positionHelper:h2,dontShowIoBalloon:gy(lK),highlighter:fO,insideouter:f1,isFirstStep:gn(),stepSettings:lK.Settings,text:{title:lL,content:lr,subText:e8()},end:lK.End,position:lK.Position,buttons:{next:lD,done:lv,back:lp>=0},data:{stepId:lK.Id,tutorialId:lK.TutorialId,type:lK.Type},configuration:lK.Configuration,logger:ao.Logger,drawer:ao.getBalloonDrawer(lK.Configuration)});lq.Show(true,function(){if(!cX(lw,"cleanUp")){ks();je("NewStepShown",lK);jc("NewStepShown",{Element:lw});hx("NewStepShown");a4.auditStep(lK,kf.Shown,d8().Steps.length);lq.SetTimeoutOn();if(lx){ki();ao.executeTutorialNextStep();}}});}};function gn(){if(!gc(ai)||ai.length<2){return true;}for(var lo=0;lo<ai.length-1;lo++){var lq=ai[lo].Idx;var lp=aq[B].Steps[lq];if(!gc(lp.Settings.action)){return false;}}return true;}function e8(){var lr=ad.StepsInfoText;var lq=aq[B].Steps;var ls=0;var lp=0;for(var lo=0;lo<lq.length;lo++){if(gH(lq[lo])){ls++;if(lo<=z){lp++;}}}if(gl("floatingsubtext")){lr=lr.replace("{0}",ku+lp+kt);lr=lr.replace("{1}",kw+ls+kv);}else{lr=lr.replace("{0}",lp);lr=lr.replace("{1}",ls);}return lr;}function gH(lo){return !((lo.Type==ke.Action)||(parseInt(e0(lo.Settings,"isInvisible",0)))||(parseInt(e0(lo.Settings,"fake",0))));}function f5(lp){if(lp!=null){var lo=d9(lp);return f4(lo);}return false;}function f4(lo){if(lo.Type&&lo.Type==ke.Action){return true;}return false;}function gI(lp){var lq=hk(lp,fk);var lo=fT(-1,lq);return((lo==undefined)||(lo==-1));}function eO(lo){return e0(lo.Settings,hO,hQ.PLAY_CONDITION);}function bx(ls){var lr=e0(ls.Settings,"skipStepCond","");if(lr.length>0){try{if(ao.evaluateCondition(lr)){return false;}else{return true;}}catch(lo){return true;}}var lp=e0(ls.Settings,"PSCTEnabled",0);if(lp==1){var lq=e0(ls.Settings,"PSCT","");if(lq!=""){try{return ao.evaluateConditionTree(lq);}catch(lo){return false;}}else{return true;}}else{if(f4(ls)&&e0(ls.Settings,"whenToFire","")=="never"){return false;}else{return true;}}}function jf(lr,lq){try{var lp=cc(lr);if(lq){lp.ExtraData=lq;}walkme_editor_event(lp);}catch(lo){}}function jc(lr,lq){jf(lr,lq);try{var lp=cc(lr);if(lq){lp.ExtraData=lq;}walkme_event(lp);}catch(lo){}}function je(ls,lo,lq){try{if(gb()){var lr=window._walkmeInternals.dbgr.sendDbgEvent;lr&&lr(ls,lo,lq);}}catch(lp){ao.Logger.error(lp);}}function gb(){return !!window._walkmeInternals.dbgr;}function hx(lr,lq){try{var lp=cc(lr);if(lq){lp.ExtraData=lq;}mt_event(lp);}catch(lo){}}function jd(lr,lq){try{var lp=cc(lr);if(lq){wmjQuery.extend(lp,lq);}walkme_automation_event(lp);}catch(lo){}}function cc(lp){var lo={Type:lp};var lq=d8();if(lq){lo.WalkthruId=lq.TutorialId;lo.StepIndex=z;}return lo;}var fk=function fk(lp){var lq=-1;for(var lo=0;lo<aq.length;lo++){if(aq[lo].TutorialId==lp){lq=lo;break;}}return lq;};function e4(lp,lq){var lr=fk(lq);if(lr>-1){var lo=e5(lp,aq[lr]);if(lo){return lo;}}return null;}var e6=function e6(lp,lq){var lo=e4(lp,lq);if(lo){return lo.StepIndex;}return -1;};var e5=function e5(lp,lr){var lq=lr.Steps;for(var lo=0;lo<lq.length;lo++){if(lq[lo].Id==lp){return lq[lo];}}return null;};this.resumeSplit=function iS(){try{var lr=1000;var lq;var lp;if(af.length==1){lp=af[0];}else{lp=cx(af);}if(!lp){co("Try again in "+lr+"ms.");hU(function(){_makeTutorial.resumeSplit();},lr);}else{lq=fk(lp);hU(function(){ao.setPlayInitiator({type:kd.BRANCHING,objectId:d9(z).Id});g2(lq,0);},lr);ks();}}catch(lo){ao.Logger.error(lo);}};function hj(lq,lo,lp){y=ka.WAITING_FOR_SPLIT;if(lp!=true){ic(lo);}af=lq;ks();ki();ao.resumeSplit();}function iu(lo,lp){for(var lq=0;lq<lp.length;lq++){lo.unbind(lp[lq]+".mt");}return false;}var fG=function(lo,lp,lu,lv){y=ka.WAITING_FOR_ELEMENT_EVENT;iu(lo,lp);var lq=function(lw){co("Clicked the branched walk-thru.");iu(lo,lp);hj(lu);};var lt=iY(lq);var ls=iY(function(){iu(lo,lp);});for(var lr=0;lr<lp.length;lr++){gS(lo,lp[lr]+".mt",function(lw){lt(lw);});}cY(lo,"eventReleaseFunction",function(){return ls();});};var iY=function(lo){var lp=false;function lq(lr,ls){var lt;if(!lp){lt=lo(lr,ls);lp=true;}return lt;}return lq;};var fH=function(lo,lu,lp,ls,lv){y=ka.WAITING_FOR_ELEMENT_EVENT;var lq=function(lx,lw){co("Step event triggered.");ao.releaseBalloons();for(var ly=0;ly<lp.length;ly++){lo.unbind(lp[ly]+".mt");if(lp[ly]=="click"){if(ao.shouldHandlePageAsFramesets()){dG.checkIfAnyFrameIsUnloaded(lv);}if(lx!=null){fS=jP(mtjQuery(lx.target));}}}y=ka.RUNNING;ks();ki(lw==undefined);if(lw!=undefined){z=lw;}if(ls&&(lw==undefined)){_makeTutorial.tutorialFinished();}else{hU(function(){_makeTutorial.executeTutorialNextStep();},lv);}return true;};var lt=iY(lq);for(var lr=0;lr<lp.length;lr++){gS(lo,lp[lr]+".mt",function(lw){lt(lw);});}cY(lo,"eventReleaseFunction",function(lw){return lt(null,lw);});cY(lo,"onlyEventsReleaseFunction",function(){iu(lo,lp);});};function jP(lp){if(mtjQuery.browser.msie){var lo=false;if(lp[0].nodeName.toLowerCase()=="a"){lo=lp;}else{var lq=lp.parents("a");if(lq.length>0){lo=mtjQuery(lq[0]);}}if(lo){if(lo.attr("href")){if(lo.attr("href").indexOf("javascript:")==0){return true;}}}}return false;}this.showStepForRecorder=function j0(ls,lq){var lr=jb(ls);dy(lr,0,ad);var lp=ao.findElement(lr);co("element:",5);co(lp,5);if(!lp){return false;}aE(lp,x);fO.enableMonitor(false);var lo=new ao.Balloon({element:lp,forceEmbedBalloonInIframe:lq,positionHelper:h2,highlighter:fO,insideouter:f1,stepSettings:lr.Settings,text:{title:lr.StepTitle,content:lr.StepText,subText:""},position:lr.Position,data:{stepId:lr.Id,type:lr.Type},configuration:lr.Configuration,logger:ao.Logger,drawer:ao.getBalloonDrawer(lr.Configuration),isViewStep:true});lo.Show(true,function(){lo.SetTimeoutOn();});fO.enableMonitor(true);return true;};this.elementExistsForRecorder=function c0(lq){try{var lp=jb(lq);return this.elementExists(lp);}catch(lo){ao.Logger.error(lo);}return false;};this.elementExists=function cZ(lq){try{var lp=ao.findElement(lq);if(lp){return true;}}catch(lo){ao.Logger.error(lo);}return false;};this.showAllLaunchers=function jS(){if(!ao.isWalkMeVisible()){return;}try{if(dG.isLoadingFrames()){gV(ao.showAllLaunchers,200);return;}for(var lq=0;lq<S.length;lq++){var lo=S[lq];var lr=jW(lo);co(dD("willDrawLauncher={0} for launcher with id {1}",lr,lo.Id),1,he);fJ(lo,lr);}}catch(lp){ao.Logger.error(lp);}};function fJ(lp,lr){var lo=e0(lp.Settings,f3,false);if(lo){var lq=parseInt(e0(lp.Settings,kj,null));if(lq==kk.soft&&lr){return;}ik(lp,lq);}}function ik(lo,lr){var lq=function(lt){var ls=lt.drawable&&lt.drawable.isDrawn();return !lt.actionInProgress&&!ls;};var lp=function(ls){return jW(ls);};kl.registerSticky({identifier:lo.Id,stickinessType:lr,redrawFunction:ao.getCommonUtils().encloseCall(lp,lo),shouldDrawFunction:ao.getCommonUtils().encloseCall(lq,lo)});}function j3(lo,lq){var lr=[];for(var lp=0;lp<lo.length;lp++){if(lq!=lp){lr.push(lo[lp]);}}return lr;}function ef(lo){var lp=[];wmjQuery.each(lo,function(lq){lp.push(lq);});return lp;}function eh(lo){var lp=[];wmjQuery.each(lo,function(lq){lp.push(lo[lq]);});return lp;}function gv(lp){var lo=lp.Settings.action;switch(lo.actionType){case"playWt":return ar.getById(parseInt(lo.arguments.wtId))!=null;case"playContent":return v.getById(parseInt(lo.arguments.contentId))!=null;}return true;}function jW(lu,lo){lu.actionInProgress=true;var lt=gl("hideLauncherWithoutLink");if(lt){if(!gv(lu)){lu.actionInProgress=false;return false;}}var lq=e0(lu.Settings,"PlayLauncherConditionTree",null);if(lq){var lp=true;lp=ao.evaluateConditionTree(lq);if(!lp){lu.actionInProgress=false;return false;}}var ls=ao.findElement(lu.IdentifySettings);if(!ls){lu.actionInProgress=false;return false;}jt(ls);var lv=lu.Settings.action.actionType!="none";var lr=new cT({element:ls,settings:lu.Settings,lib:ao,position:lu.Position,launcherId:lu.Id,userGuid:lu.userGuid,positionHelper:h2,addFunctionality:lv,cdnServer:p,clickAuditManager:r});lu.drawable=lr;var lw=function(lx){return function(){lx.show(function(){lx.setTimeoutOn();if(lo){lo();}lu.actionInProgress=false;});};}(lr);fF(lu,lw);return true;}this.updateLauncherOffset=function kZ(lq,lp){if(S&&S.length==1){var lo=S[0];lo.drawable.updateOffset(lq,lp);}};this.viewLauncherForRecorder=function k1(lt,lu,lo){try{var ls=jb(lt);S.push(ls);var lr=ao.findElement(ls.IdentifySettings);if(!lr){lo();return;}var lp=new cT({element:lr,settings:ls.Settings,lib:ao,position:ls.Position,launcherId:ls.Id,isCapturingMode:false,positionHelper:h2,cdnServer:p,clickAuditManager:r});ls.drawable=lp;var lv=function(){lp.show(function(lw){lp.setTimeoutOn();if(lo){lo(false,lw);}});};if(lu){fF(ls,lv);}else{lv();}}catch(lq){ao.Logger.error(lq);}};function fF(lq,lr){var lp=e0(lq.Settings,"hasDelay",false);if(lp){var lo=e0(lq.Settings,"delayInSeconds",0);gV(lr,lo*1000);}else{lr();}}this.showCapturedLauncherForEditor=function jU(ls){try{var lr=jb(ls);S.push(lr);var lt={score:-1};var lq=ao.findElement(lr.IdentifySettings,null,lt);if(!lq){return false;}var lo=new cT({element:lq,settings:lr.Settings,html:lr.html,lib:ao,position:lr.Position,launcherId:lr.Id,isCapturingMode:true,positionHelper:h2,cdnServer:p,clickAuditManager:r});lr.drawable=lo;fO.enableMonitor(false);lo.show(function(lv){var lu=lv[0].ownerDocument;window.top.document.CaptureLauncherHandler.postShowLauncher(lq,lu,lt.score);});}catch(lp){ao.Logger.error(lp);}};this.showCaptureBallonForEditor=function jT(lu,lx,lr,lt){dy(lu,0,ad);var ls={score:-1};var lq=ao.findElement(lu,null,ls);if(!lq){return false;}aE(lq,x);fO.enableMonitor(false);var lp=ff(null,true)[0].ownerDocument;var lv=wmjQuery.extend(lu.Configuration,{BalloonBorderWidth:1,ShadowType:0});var lo=new ao.Balloon({element:lq,forceEmbedBalloonInIframe:false,positionHelper:h2,highlighter:fO,insideouter:f1,fixedSize:{width:lx,height:lr},innerHtml:lu.innerHtml,outterHtml:lu.outterHtml,stepSettings:lu.Settings,position:lu.Position,data:{stepId:lu.Id},configuration:lu.Configuration,isCaptureBalloon:true,logger:ao.Logger,drawer:ao.getBalloonDrawer(lv)});lw(function(){lo.Show(true,function(){fO.enableMonitor(true);window.top.document.CaptureBalloonHandler.postBallonShow(lq,lp,ls.score,lt);});});function lw(ly){if(lp.getElementById("maketutorial_stepTitle")==null){ly();return;}setTimeout(function(){lw(ly);},20);}return true;};var aE=function aE(lp,lq){var lo=new Array();lo.element=lp;lq.push(lo);cY(lp,"cleanUp",false);};function d8(){return aq[B];}function ks(){var lo=undefined;var lr=undefined;var lt=undefined;var lp=d8();var lq=lp?lp.TutorialId:-1;var lu=lp?lp.userGuid:au;if((y==ka.RUNNING)||(y==ka.WAITING_FOR_PAGE_CHANGE)){lo=z+1;if(lp.Steps.length<=(z+1)){lr=1;}}else{if(y==ka.WAITING_FOR_SPLIT){lo=z;lt=af;}else{lo=z;}}var ls=d6(lq,lo,lr,lt);kp.saveData(hN,ls,cA,lu);}function d6(lp,lo,lq,ls){var lr={};lr[cm]=lp;lr[cj]=y;lr[ck]=lo;lr[cl]=X;lr[ci]=a4._currentPlayGUID;lr[j4]=ae;lr[kO]=lq;lr[kc]=ai;lr[j5]=ls;return lr;}function iC(){var lo=dN();for(var lq=0;lq<lo.length;lq++){var lp=lo[lq];kp.removeData(hN,lp);}}function iO(){co("Restoring cross user state",5);var lo=dN();for(var lr=0;lr<lo.length;lr++){var lp=lo[lr];var lq=iP(lp);if(lq){return lp;}}return false;}function iP(lv){var lu=kp.getData(hN,{},lv);var lr=lu[cm];var lo=lu[cj];var lp=lu[ck];X=lu[cl]||X;var ls=lu[ci];ae=cE(lu[j4],[]);var lt=cE(lu[kO],0);ai=cE(lu[kc],[]);lr=gA(lr)?parseInt(lr):-1;B=fk(lr);y=gA(lo)?parseInt(lo):-1;z=gA(lp)?parseInt(lp):-1;if(ls){a4._currentPlayGUID=ls;}var lq=(B>-1&&z>-1&&d8()&&d8().Steps[z]);if((y==ka.WAITING_FOR_PAGE_CHANGE||y==ka.PASSING_OWNERSHIP)&&lq){z--;ki(true);z++;}co("isTutorialFinished: "+lt,5);if((lt==1)&&((y==ka.RUNNING)||(y==ka.WAITING_FOR_PAGE_CHANGE)||(y==ka.PASSING_OWNERSHIP))){ao.tutorialFinished();}else{co("Continue from cookie: currentTutorial: "+B+" -- currentState: "+y+" -- currentStep: "+z+" -- currentPlayGUID: "+a4._currentPlayGUID+" -- currentUserGUID: "+lv,5);if(lq&&((y==ka.RUNNING)||(y==ka.WAITING_FOR_ELEMENT)||(y==ka.WAITING_FOR_STICKY_ELEMENT)||(y==ka.WAITING_FOR_PAGE_CHANGE)||(y==ka.WAITING_FOR_CONDITION)||(y==ka.PASSING_OWNERSHIP))){hU(function(){_makeTutorial.executeCurrentStep();},d8().Steps[z].Delay*1000);}else{if(lq&&(y==ka.WAITING_FOR_REDIRECT)){g2(B,0,false,a4._currentPlayGUID);}else{if(lq&&(y==ka.WAITING_FOR_OWNERSHIP)){_makeTutorial.startNewTutorial(B,z,false);}else{if(lq&&((y==ka.WAITING_FOR_ELEMENT_EVENT)||(y==ka.WAITING_FOR_NEXT_BUTTON_CLICK))){if(e0(d8().Steps[z].Settings,"sticky",0)){co("Sticky - keep looking for element",5);y=ka.WAITING_FOR_STICKY_ELEMENT;hU(function(){_makeTutorial.executeCurrentStep();},d8().Steps[z].Delay*1000);}else{if(d8().Steps[z].IsSkippable){if(d8().Steps.length==(z+1)){ao.tutorialFinished();}else{z++;y=ka.RUNNING;hU(function(){_makeTutorial.executeCurrentStep();},d8().Steps[z].Delay*1000);}}else{y=ka.PAUSED;}}}else{if(y==ka.WAITING_FOR_SPLIT){af=cE(lu[j5],[]);ao.resumeSplit();}else{iM();co("Invalid cookie data. Not running tutorial. (userGuid : "+lv+")",5);return false;}}}}}}return true;}function fi(lr,lo){var lq=Array();if(!lr.Conditions){return lq;}for(var lp=0;lp<lr.Conditions.length;lp++){if(lr.Conditions[lp].GroupType==lo){if((lr.Conditions[lp].IsEnabled==undefined)||(lr.Conditions[lp].IsEnabled==true)){lq.push(lr.Conditions[lp]);}}}return lq;}function fj(lq,lr){var lp=Array();if(!lq.Conditions){return lp;}for(var lo=0;lo<lq.Conditions.length;lo++){if(lq.Conditions[lo].Type==lr){if((lq.Conditions[lo].IsEnabled==undefined)||(lq.Conditions[lo].IsEnabled==true)){lp.push(lq.Conditions[lo]);}}}return lp;}function gm(lo){if(fj(lo,bX.FIRST_STEP_MUST_EXIST).length>0){return true;}else{return false;}}this.canShowTutorialForEditor=function bm(lp){var lo=jb(lp);return ao.canShowTutorial(lo);};this.canShowTutorial=function bl(lv){if(lv.IsVisible==false){return false;}var lp=fj(lv,bX.URL);var lo=false;for(var lu=0;lu<lp.length;lu++){if(bt(lv,lp[lu])){lo=true;break;}}if((lp.length>0)&&!lo){return false;}var lr=e0(lv.Settings,"DOCTEnabled",0);if(lr==1){var lq=e0(lv.Settings,"DOCT","");if(lq!=""){try{var lt=ao.evaluateConditionTree(lq);je("WtConditionEvaluated",lv);if(!lt){return false;}}catch(ls){}}}if(gm(lv)){if(lv.Steps.length==0){return false;}else{return ao.findElement(lv.Steps[0]);}}je("CanShowWt",lv);return true;};this.evaluateCondition=function db(lp){var lo=new bT();lp=lp.replace(/&quot;/gi,'"');lp=lp.replace(/&apos;/gi,"'");lp=lp.replace(/&#39;/gi,"'");lp=lp.replace(/&amp;/gi,"&");lo.setExpression(lp);return lo.evaluate();};this.evaluateAsyncConditionTree=function dc(lo){var lp=bY.evaluateAsync(lo);return lp;};this.evaluateConditionTree=function dc(lo){var lp=bY.evaluate(lo);return lp;};var bt=function(lp,lo){switch(lo.Type){case bX.URL:if(gw(lo.Content)){return true;}else{return false;}break;default:ao.Logger.error(new Error("Invalid condition type: "+lo.Type));}};this.runTutorialsActionConditions=function i2(){};function i0(){co("Trying to find a walkthru that can auto start",1,g5);for(var lo=0;lo<aq.length;lo++){if(i1(lo)){return;}}}function i1(ly){var lx=aq[ly];var lr;co("Checking tutorial named: "+lx.Name,4,g5);function ls(lB){var lA=dR(lB);var lz=e0(lB.Settings,"ASRep","visit");return ao.checkRepeatCookie(lA,lz);}var lp=e0(lx.Settings,"ASEnabled",0);if(lp){lr=ls(lx);if(!lr.shouldStart){co("Repeat condition doesn't meet, not auto starting: "+lx.Name,3,g5);return false;}var lo=e0(lx.Settings,"ASCTEnabled",0);if(lo==1){co("Autostart is enabled for tutorial: "+lx.Name,3,g5);var lq=e0(lx.Settings,"ASCT","");if(lq!=""){try{var lv=ao.evaluateConditionTree(lq);je("WtAutoStartConditionEvaluated",lx);if(lv){co("Condition met, trying to auto start: "+lx.Name,3,g5);return fE(ly,lr);}else{co("Condition didn't meet, not starting tutorial: "+lx.Name,3,g5);return false;}}catch(lu){}}}else{co("Non-conditional autostart, trying to auto start "+lx.Name,3,g5);return fE(ly,lr);}}var lt=fi(lx,bV.Action);if(lt.length>0){lr=ls(lx);if(lr.shouldStart){for(var lw=0;lw<lt.length;lw++){if(iX(ly,lx,lt[lw],lr)){return true;}}}}return false;}function dR(lo){return"wm-ASRep-"+lo.TutorialId;}function fE(ls,lo){var lp=bD(ls);var lq=bC(ls,false);var lt=aq[ls].IsWelcomeStep;var lr=bw(ls,lp)>=lp;if(!(y==ka.RUNNING&&z==lp)&&((lq&&lt)||(lr&&!lq))&&((y==ka.PAUSED||y==ka.NOT_RUNNING||bw(B,z)<0))){lo.store();ao.setPlayInitiator({type:kd.AUTOSTART,objectId:fh(ls).TutorialId});ao.startNewTutorial(ls);return true;}return false;}function iX(lr,lq,lp,lo){switch(lp.Type){case bX.AUTO_START:if(gw(lp.Content)){return fE(lr,lo);}break;}return false;}var gw=function(ls){var lr="regexp:";var lq;var lo;if(j9(ls,lr)){ls=ls.substr(lr.length);lo=fz();try{lq=lo.match(ls);}catch(lp){return false;}}else{ls=ls.replace(new RegExp("[*]","g"),".*");ls=ls.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&");lo=iJ(fz());ls=iJ(ls);lo=lo.toLowerCase();ls=ls.toLowerCase();try{lq=lo.match(ls);}catch(lp){return false;}}if(lq==null){return false;}return(lq[0]==lo);};var hI=function(lo){if(lo.length==0){return lo;}if(lo.charAt(0)=="/"){return window.location.protocol+"//"+window.location.hostname+((window.location.port)?":"+window.location.port:"")+lo;}else{return lo;}};var iJ=function(lo){lo=lo.replace("http://","");lo=lo.replace("https://","");lo=lo.replace("www.","");if(lo.charAt(lo.length-1)=="/"){lo=lo.substr(0,lo.length-1);}return lo;};function bD(lu){var lt=aq[lu];var lp=fj(lt,bX.SKIP_FIRST_STEP);for(var ls=0;ls<lp.length;ls++){var lo=lp[ls];if(gw(lo.Content)){var lq=lo.ExtraData;var lr=lq?(lq-1):1;co("The walk-thru has a skip step condition ("+lo.Content+") which is true. Skipping to: "+lr);return lr;}}return 0;}function bC(lr,lp){var lq=aq[lr];var lo=fj(lq,bX.REDIRECT);if(lo.length==0){return false;}return by(lo[0],lp);}function by(lo,lp){return ij(lo.Content,lp);}function ij(ls,lp){if(!ao.getCommonUtils().isValidUrl(ls)){return false;}ls=cy(ls,["&"]);var lo=iJ(window.location.href);var lr=hI(ls);var lq=iJ(lr);if(lo==lq){return false;}else{if(lp){jX(lr);}return true;}}this.checkShowOnlyInUrl=function bB(){var lp=true;var lo=e0(ad.Settings,cN,null);if(lo){lp=ao.evaluateConditionTree(lo);je("WidgetConditionEvaluated",ad);}else{if((ad.ShowInUrl!=null)&&(ad.ShowInUrl.length!=0)){lp=(gw(ad.ShowInUrl));}}if(!lp){co("Display on URL condition failed. Not showing player.");}return lp;};function ki(lo){lo=cE(lo,true);var lp=d7();je("StepCompleted",lp);if(lo){a4.auditStep(lp,kf.Performed,d8().Steps.length);bA(lp);}else{a4.auditStep(lp,kf.MovedBack,d8().Steps.length);}}function bA(lp){var lo=e0(lp.Settings,"resumeOtherWindow",false);if(lo){kp.saveData(k4,1,cA,d8().userGuid);}}function dw(lp,lo){if(!lp[lo]||(lp[lo]=="transparent")){lp[lo]=wmjQuery.browser.msie?"#00000000":"transparent";}}function dT(lv,lu,lw,lx){lw=ao.FixConfiguration(lw);lw.ButtonBorderColor=lw.ButtonBorderColor||"#6c84a6";var lo=(ad.Direction=="rtl")?"right":"left";dw(lw,"ButtonBgColor");dw(lw,"ButtonBgColor2");var lr=lw.ButtonBgColor,ls=lw.ButtonBgColor2,lt=lw.ButtonShadowWidth,lp=lw.BalloonButtonRadius;var ly=(lr!=ls);var lq="CSS-RESET "+((!ly)?"background-color:"+lr+";":"background:-moz-linear-gradient(top, "+lr+", "+ls+");background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+lr+"), color-stop(100%,"+ls+"));background:-webkit-linear-gradient(top, "+lr+" 0%,"+ls+" 100%);background:-o-linear-gradient(top, "+lr+" 0%,"+ls+" 100%);background:-ms-linear-gradient(top, "+lr+" 0%,"+ls+" 100%);background:linear-gradient(to bottom, "+lr+" 0%,"+ls+' 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="'+lr+'", endColorstr="'+ls+'",GradientType=0 );')+"border: 1px solid "+lw.ButtonBorderColor+";color:"+lw.ButtonTextColor+"; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal;font-family: Arial; margin-"+lo+": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static;overflow: visible;-moz-box-shadow: 0 0 "+lt+"px rgba(0, 0, 0, 0.4);-webkit-box-shadow: 0 0 "+lt+"px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "+lt+"px rgba(0, 0, 0, 0.4); -moz-border-radius:"+lp+"px;-webkit-border-radius:"+lp+"px;border-radius:"+lp+"px;";if((lr!=ls)&&(wmjQuery.browser.msie)){lq+="border-radius: 0px;";}if(ly&&bP.isGradientUsingFilter(lq)){lq+="background: url("+p+"/player/resources/images/spacer.gif) repeat;";}lq=lq.replace(/CSS-RESET/g,cf);lq+=(lx?lx:"");return"<button class='"+lv+"' type='button' style='"+lq+"'>"+lu+"</button>";}this.FixConfiguration=function dt(lo){lo.BalloonColor2=gc(lo.BalloonColor2)?lo.BalloonColor2:lo.Color;lo.ButtonBgColor2=gc(lo.ButtonBgColor2)?lo.ButtonBgColor2:lo.ButtonBgColor;lo.BalloonBorderWidth=gc(lo.BalloonBorderWidth)?parseInt(lo.BalloonBorderWidth):1;lo.BalloonButtonRadius=gc(lo.BalloonButtonRadius)?parseInt(lo.BalloonButtonRadius):15;lo.ButtonShadowWidth=gc(lo.ButtonShadowWidth)?parseInt(lo.ButtonShadowWidth):0;lo.BalloonRadius=gc(lo.BalloonRadius)?parseInt(lo.BalloonRadius):15;lo.FooterTextColor=gc(lo.FooterTextColor)?lo.FooterTextColor:lo.HeaderColor;return lo;};function fI(lo){if(lo.Type==ke.Popup&&lo.LinkedTutorialIds&&gI(lo.LinkedTutorialIds.split(";"))){hj(lo.LinkedTutorialIds.split(";"));return true;}else{return false;}}function aD(lo){mtjQuery(".walkme-action-close, .walkme-action-cancel",lo).click(function(lp){li(lp);});mtjQuery(".walkme-action-next, .walkme-action-start",lo).click(function(lp){hu();});mtjQuery(".walkme-action-back",lo).click(function(lp){a6();});mtjQuery(".walkme-action-done",lo).click(function(lp){cP();});mtjQuery(".walkme-custom-bbcode-survey",lo).click(function(lp){j8();});mtjQuery(".walkme-action-start-wt",lo).each(function(lp){mtjQuery(this).click(function(lr){var ls=parseInt(mtjQuery(this).attr("data-walkthru-id"));var lq=z!=-1?d9(z).Id:-1;WalkMeAPI.startWalkthruById({id:ls,fromStep:0,playInitiator:{type:kd.BBCODE,objectId:lq}});});});}function a6(){jc("BackButtonClicked");hx("BackButtonClicked");var lo=d9(z);if(lo.durationHandler){lo.durationHandler.clear();lo.durationHandler=null;}aj.pop();var lp=bj(P-1);if(!lp){y=ka.RUNNING;ao.releaseBalloons(function(){ki(false);z=P-1;ao.executeTutorialNextStep();});}}function hu(){jc("NextButtonClicked");hx("NextButtonClicked");var lo=d9(z);je("StepWasTriggered",lo);if(lo.durationHandler){lo.durationHandler.clear();lo.durationHandler=null;}var lp=bj();if(!lp){y=ka.RUNNING;ao.releaseBalloons(function(){if(!fI(lo)){ki();ao.executeTutorialNextStep();}});}}function cP(){jc("DoneButtonClicked");hx("DoneButtonClicked");var lo=d9(z);je("StepWasTriggered",lo);if(lo.durationHandler){lo.durationHandler.clear();lo.durationHandler=null;}if(!fI(lo)){var lp=bj();if(!lp){ki();ao.tutorialFinished();}}}function bj(lr){var lp=Array();for(var lq=0;lq<x.length;lq++){var lo=cX(x[lq].element,"eventReleaseFunction");if(lo){lp.push(lo);}}if(lp.length==0){return false;}var ls=false;for(var lq=0;lq<lp.length;lq++){if(lp[lq](lr)){ls=true;}}return ls;}function fs(){try{return aq[0].UserId;}catch(lo){return -1;}}function f8(lo){return lo.offset().top<=0&&lo.css("position")=="relative"&&(dZ().indexOf("IE")<0||(lo.css("overflow-x")=="visible"&&lo.css("overflow-y")=="visible"))&&(dZ()!="IE 9"||parseInt(lo.css("margin-top"),10)!=0);}function d2(){var lr={top:0,left:0};if(!gl("collapsedMargins")){return lr;}var lo=wmjQuery("body");var lq=0;if(f8(lo)){var lp=lo.css("margin-top");lo.find("> div").each(function(){var ls=wmjQuery(this);var lt=ls.offset().top;var lu=ls.position().top;if(parseInt(ls.css("margin-top"),10)>0){var lv=lt-lu;if(lv>lq){lq=lv;}}});}lr.top+=lq;return lr;}function bi(lq,lu){var lp=lq;var lt=ao.getUiUtils().getStyle(lq,lu);while(lt&&lt.position=="static"){lp=lp.parentNode;lt=ao.getUiUtils().getStyle(lp,lu);}var lr=ao.getBodyInheritedMargin();lr.top=kN(lr.top);lr.left=kN(lr.left);var ls={top:lr.top,left:lr.left};var lo=d2();ls.top+=lo.top;ls.left+=lo.left;if(lt){aJ(ls,lp,lt,"margin");aI(ls,lp,lt);aK(ls,lp,lt);lp=lp.parentNode;lt=ao.getUiUtils().getStyle(lp,lu);while(lt){aJ(ls,lp,lt,"margin");aJ(ls,lp,lt,"padding");aI(ls,lp,lt);aK(ls,lp,lt);lp=lp.parentNode;lt=ao.getUiUtils().getStyle(lp,lu);}}return ls;}function aK(lp,lo,lq){if(lq.position!="static"){lp.top+=kN(lq.top);lp.left+=kN(lq.left);}}function aJ(lp,lo,lr,lq){lp.top+=kN(lr[lq+"Top"]);lp.left+=kN(lr[lq+"Left"]);}function aI(lp,lo,lq){if(/(html|body)/i.test(lo.tagName)){return;}lp.top+=dX(lq.borderTopWidth);lp.left+=dX(lq.borderLeftWidth);}function kN(lo){if(typeof(lo)=="string"){lo=lo.replace("px","");}return !isNaN(lo)?parseInt(lo):0;}function dX(lp){var ls=1;var lq=3;var lr=5;var lo=0;switch(lp){case"thin":lo=ls;break;case"medium":lo=lq;break;case"thick":lo=lr;break;default:lo=Math.round(parseFloat(lp));break;}return lo;}var eM=function(lr,lp,lw){try{var lo=lp.body;var ls=lp.documentElement;var lv=lo.scrollTop||ls.scrollTop;var lt=lo.scrollLeft||ls.scrollLeft;var lu=bi(lo,lw);lv-=lu.top;lt-=lu.left;return{top:Math.round(lv),left:Math.round(lt)};}catch(lq){ao.Logger.error(lq);}};this.getBodyInheritedMargin=function dW(){var lq={top:0,left:0};if(gl("ignoreBodyInheritedMargin")){return lq;}var lp=false;var lo=mtjQuery("body").find("div").filter(function(){if(lp){return false;}var lr=mtjQuery(this);if(lr.css("position")!="relative"){return false;}var lv=null;var lw=null;var lu=parseInt(lr.css("margin-top"));var lx=(lu!=0)&&(parseInt((lw=lr.position()).top)==(-1)*parseInt((lv=lr.offset()).top));var ls=false;if(!lx){var lt=parseInt(lr.css("margin-left"));ls=(lt!=0)&&(parseInt(lw!=null?lw.left:lr.position().left)==(-1)*parseInt(lv!=null?lv.left:lr.offset().left));}lp=(lx||ls)&&aR(lr);return lp;}).eq(0);if(lo.length>0){lq={top:parseInt(lo.css("margin-top")),left:parseInt(lo.css("margin-left"))};}return lq;};function aR(lo){var lp=true;lo.parentsUntil("html").each(function(lq,lr){if(mtjQuery(lr).css("position")!="relative"){lp=false;}});return lp;}var aF=function(lq,lr){var lo=parseInt(e0(lr,"leftOffset",0));var lp=parseInt(e0(lr,"topOffset",0));lq.top=lq.top+lp;lq.left=lq.left+lo;lq.right=lq.right+lo;lq.bottom=lq.bottom+lp;return lq;};function jF(lu,lr,lq){lu.css("border",""+lr.BalloonBorderWidth+"px solid "+lr.BorderColor);dw(lr,"Color");dw(lr,"BalloonColor2");var lo=(lr.BalloonColor2!=undefined)?lr.BalloonColor2:lr.Color;var lp=(lr.BalloonRadius!=undefined)?lr.BalloonRadius:15;var lv=""+lp+"px";lu.css("-moz-border-radius",lv);lu.css("-webkit-border-radius",lv);lu.css("border-radius",lv);if(lr.Color==lo){lu.css("background",lr.Color);}else{lu.css("background","-moz-linear-gradient(top, "+lr.Color+", "+lo+")");lu.css("background","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+lr.Color+"), color-stop(100%,"+lo+"))");lu.css("background","-webkit-linear-gradient(top, "+lr.Color+" 0%,"+lo+" 100%)");lu.css("background","-o-linear-gradient(top, "+lr.Color+" 0%,"+lo+" 100%)");lu.css("background","-ms-linear-gradient(top, "+lr.Color+" 0%,"+lo+" 100%)");lu.css("background","linear-gradient(to bottom, "+lr.Color+" 0%,"+lo+" 100%)");lu.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='"+lr.Color+"', endColorstr='"+lo+"',GradientType=0 )");if(lu.css("background-image").indexOf("gradient")==-1){lu.css("background-image","url('"+p+"/player/resources/images/spacer.gif')");lu.css("background-repeat","repeat");}if(!gr()){lu.css("border-radius","0px");}}if(!lq){var ls="0px 0px";switch(parseInt(lr.Position)){case h1.Top:ls="-3px -3px";break;case h1.Right:ls="4px -4px";break;case h1.Bottom:ls="4px 4px";break;case h1.Left:ls="-4px 4px";break;}var lt=" 3px rgba(0, 0, 0, 0.2)";lu.css("-moz-box-shadow",ls+lt);lu.css("-webkit-box-shadow",ls+lt);lu.css("box-shadow",ls+lt);}}var eY=function(lo){var lq=lo.body.scrollTop?lo.body.scrollTop:lo.documentElement.scrollTop;var lp=lo.body.scrollLeft?lo.body.scrollLeft:lo.documentElement.scrollLeft;return{Top:lq,Left:lp};};this.decideWhereToPopForCaptureBalloon=function cw(lq,lo,lt,lr,ls){var lp=wmjQuery(ad.BalloonSettings,{BalloonVersion:ls});return ao.getBalloonDrawer(lp).decideWhereToPopForCaptureBalloon(lq,lo,lt,lr);};var ek=function(lr){var lp=document;try{if(lr.data("iframe")){lp=lr.data("iframe")[0];var lo=lp.contentWindow?lp.contentWindow.document:null;lp=lp.contentDocument||lo;}}catch(lq){}return lp;};function ej(ls,lr){var lq=ls.left+lr.left;var lu=ls.top+lr.top;var lv=ls.right-ls.left;var lp=ls.bottom-ls.top;var lt=ls.right+lr.left;var lo=ls.bottom+lr.top;return{top:lu,left:lq,width:lv,height:lp,right:lt,bottom:lo};}var jJ=function(lo,lp){lo.css("position","absolute");lo.css("z-index",lp);lo.addClass("SkipThisFixedPosition");};var jr=function(lo,lp){lo.css("background-color","red");jJ(lo,lp);lo.css("display","inline");};function cJ(lt,lv,lr){var lu=cE(cX(lt,"isCapture"),false);var ls=new aU();var lw=ao.getSiteConfig();var lo=!lu&&!lv&&gc(lw.BalloonSettings)&&gc(lw.BalloonSettings.Animation)&&lw.BalloonSettings.Animation.Id!=aT;ls.disableAnimation();var lq=cX(lt,"balloonDiv");var lp=dS(lt);var lx=ff();if(lq){iF(lq);}kY.removeOverlay();ls.destroy(lq,lp,cK,function(){fO.unhighlightElement(lt,"balloon");f1.unhighlightElement(lt,"balloon");if(lr){lr();}});}function iF(lo){lo.unbind();mtjQuery("*",lo).unbind();}function dS(lr){var lp=mtjQuery([]);var lo=["arrowDiv","arrowDiv2"];for(var ls=0;ls<lo.length;ls++){var lq=cX(lr,lo[ls]);if(lq&&lq.length>0){lp=lp.add(lq);}}return lp;}function it(lq,lo){try{var lr=cX(lq,"elementDisplayTimeout");if(lr){lr.clear();}var ls=cX(lq,"onlyEventsReleaseFunction");if(ls){ls();}cY(lq,"elementDisplayTimeout",null);cY(lq,"eventReleaseFunction",null);cY(lq,"onlyEventsReleaseFunction",null);cJ(lq,undefined,function(){cY(lq,"cleanUp",true);if(lo){lo();}});}catch(lp){co("releaseElement failed: "+lp,5);try{cV();}catch(lp){co("releaseGarbageCollect failed: "+lp,5);}if(lo){lo();}}}function cK(lp,lo){if(!lp){if(lo){lo();}return;}var lq=mtjQuery("iframe",lp);if(lq.length==0){gV(function(){lp.remove();if(lo){lo();}},1);}else{lq.attr("src","");gV(function(){lq.hide();lq.remove();lp.remove();if(lo){lo();}},1);}}var et=function(lo){var lp=lo.offset().top;if(lo.data("iframe")){return lp+et(lo.data("iframe"));}else{return lp;}};var gg=function gg(lv,lu,ls,lt,lr,lq,lo,lp){return(ls<=lo&&(lv>=lr)&&(lt>=lp)&&(lu<=lq));};var el=function el(lo,lq){var lp=lo.data("iframe");if(!lq){lq=[];}if(lp){lq.push(lp);el(lp,lq);}return lq;};function c3(lo){var lp=el(lo);var ls={top:0,left:0};for(var lq=0;lq<lp.length;lq++){var lr=lp[lq].offset();ls.top+=lr.top;ls.top-=lp[lq][0].contentWindow.document.body.scrollTop||lp[lq][0].contentWindow.document.documentElement.scrollTop;ls.left+=lr.left;ls.left-=lp[lq][0].contentWindow.document.body.scrollLeft||lp[lq][0].contentWindow.document.documentElement.scrollLeft;}return ls;}function jN(lq){try{if(lq.jquery!="1.7.1"){return;}var lp=lq[0].ownerDocument.documentMode;if(lp==7||lp==8){var lo=lq.data("iframe");if(lo&&lo[0].tagName=="FRAME"){return true;}}}catch(lr){}}function dx(lo,lq){if(jN(lo)){var lp=lo[0].ownerDocument;lq.top+=lp.body.scrollTop||lp.documentElement.scrollTop;lq.left+=lp.body.scrollLeft||lp.documentElement.scrollLeft;}}function gh(lo,lr){lr=wmjQuery.extend({},cB,lr);var ls=c3(lo);var lp=lo.offset();ls.top+=lp.top;ls.left+=lp.left;dx(lo,ls);var lt=(gl("fixIframeScroll"))?es(lo):es(mtjQuery(window));var lx=lt.top()+lr.top;var lv=lt.left()+lr.left;var lu=(lt.height()-lr.bottom)+(lt.top()-0);var lw=(lt.width()-lr.right)+(lt.left()-0);var lq=gg(ls.top,ls.left+lo.width(),ls.top+lo.height(),ls.left,lx,lw,lu,lv);return lq;}var es=function(lp){var lq;if(lp.data("iframe")){lq=mtjQuery(lp.data("iframe"));}else{lq=mtjQuery(window);}var lo=ek(lp);lq.left=function(){return eY(lo).Left;};lq.top=function(){return eY(lo).Top;};return lq;};var ln=function(lp){var lo=new Array();mtjQuery.each(lp.split("/"),function(lq,lu){if(lq==0){}else{var ls=lu.indexOf("[");var lt=lu.substring(0,ls);var lr=lu.substring(ls+1,lu.length-1);lo[lq-1]=new Array(2);lo[lq-1]["tag"]=lt;lo[lq-1]["index"]=lr;}});return lo;};var dn=function(lq){var lp;var lo=false;mtjQuery.each(lq,function(lr,ls){if(lr==0){lo=mtjQuery(document).children(ls.tag).eq(ls.index-1);}else{lo=mtjQuery(lo).children(ls.tag).eq(ls.index-1);}if((ls.tag=="iframe")||(ls.tag=="frame")){if(lq.length>lr+1){if(lo.length>0){if(lp){lo.data("iframe",lp);}lp=lo;}lo=ex(lo);}else{}}if((lo.length==0)||(!lo.get(0))){lo=false;return;}});if(lo&&lo.length>0&&lp){lo.data("iframe",lp);}return lo;};var lk=function lk(lq){var lp="";for(var lo=0;lo<lq.length;lo++){lp=lp+"/"+lq[lo]["tag"]+"["+lq[lo]["index"]+"]";}return lp;};this.getElementText2=function eq(lq,lo,lt){if(lt[0]>0){if(lq&&((lq.nodeType===3)||(lq.nodeType===4))){var lu=iA(lq.nodeValue);lu=lu.toLowerCase();lu=G.escapeSurrogatePairs(lu);if(lu){lo.push(lu);lt[0]--;}}else{if(lq&&lq.nodeType===1&&!lq.tagName.match(/^(script|style)$/i)){var lp=lq.childNodes;for(var lr=0,ls=lp.length;lr<ls;lr++){eq(lp[lr],lo,lt);}}}}};this.getElementTextArray=function er(lp){var lo=new Array();this.getElementText2(lp,lo,[3]);return lo;};var iA=function iA(lo){lo=lo.replace(new RegExp(String.fromCharCode(160),"g")," ");lo=lo.replace(new RegExp(String.fromCharCode(10),"g"),"");lo=lo.replace(new RegExp(String.fromCharCode(13),"g"),"");lo=lo.replace(new RegExp(String.fromCharCode(9),"g"),"");lo=lo.replace(new RegExp(" ","g"),"");lo=mtjQuery.trim(lo);lo=lo.substring(0,hn);return lo;};this.getElementText=function ep(lo){var lp=ao.getElementTextArray(lo[0]);var lq=lp?lp[0]:"";return lq;};var gS=function(lo,lp,lq){lo.bind(lp,lq);cn.push({element:lo,eventName:lp});};function lc(lp,lq,lv,lt,lo){lt=lt||window;var lu=this;lu.timeoutsDict=lv;var lw=function(){lu.clear();lp.apply(lt,lo||arguments);};this.id=setTimeout(lw,lq);lu.timeoutsDict[this.id]=lu;fC[kI+this.id]=this.id;this.pause=function lr(){if(this.cleared){return;}delete lu.timeoutsDict[this.id];hE(this.id);};this.resume=function ls(){if(this.cleared){return;}this.id=setTimeout(lw,10);lu.timeoutsDict[this.id]=lu;};}lc.prototype.id=null;lc.prototype.cleared=false;lc.prototype.clear=function(){if(this.cleared){return;}hE(this.id);this.cleared=true;delete this.timeoutsDict[this.id];delete fC[kI+this.id];};function k9(lp,lq,ls,lr,lo){this.timeoutsDict=ls;lr=lr||window;var lt=function(){lp.apply(lr,lo||arguments);};this.id=setInterval(lt,lq);ls[this.id]=this;fC[kI+this.id]=this.id;}k9.prototype.id=null;k9.prototype.cleared=false;k9.prototype.clear=function(){hE(this.id);this.cleared=true;delete fC[kI+this.id];delete this.timeoutsDict[this.id];};function hU(lo,lp){return new lc(lo,lp,hV);}function gV(lo,lp){return new lc(lo,lp,gW);}function hT(lo,lp){return new k9(lo,lp,hV);}function ix(lo){cR(lo,function(lp){lp.clear();});}function hL(lo){cR(lo,function(lp){U.push(lp);lp.pause();});}function iT(lp){for(var lo=0;lo<U.length;lo++){U[lo].resume();}U.length=0;}function cR(lr,lq){for(var lo in lr){if(lr.hasOwnProperty(lo)){try{lq(lr[lo]);}catch(lp){}}}}ao.releaseLibTimeouts=function iw(){ix(gW);};function ir(){if(w&&w.enabled()){hL(hV);}else{ix(hV);}}function ip(){ir();ao.releaseLibTimeouts();}function hK(){hL(hV);hL(gW);}function iR(){iT(hV);iT(gW);}function io(){for(var lp=0;lp<cn.length;lp++){try{cn[lp]["element"].unbind(cn[lp]["eventName"]);}catch(lo){}}cn=new Array();}this.mt_log=function hr(lo){co(lo,5);};function g3(){ao.Logger.log.apply(null,arguments);}function co(lq,lp,lo){ao.Logger.customerLog(lq,lp,lo);}function fv(lp){for(var lo=0;lo<aq.length;lo++){if(aq[lo].TutorialId==lp){return aq[lo].Name;}}return"";}var gA=function(lo){if(typeof lo=="boolean"){return false;}return !isNaN(lo-0);};var hv=function(lo){if(lo){return lo.replace(/\n/g,"<br/>");}else{return"";}};var i3=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);};var dJ=function(){return(i3()+i3()+"-"+i3()+"-"+i3()+"-"+i3()+"-"+i3()+i3()+i3());};this.isQuirksMode=function gE(lp){var lo=((lp&&lp.ownerDocument)?lp.ownerDocument:document);if((lo.compatMode=="BackCompat")&&mtjQuery.browser.msie){return true;}else{return false;}};function fL(){var lo="withCredentials" in new XMLHttpRequest();return lo;}function f6(){var lq=false;var lr=!!window.wm_no_audit;var lo=!!fx("wm-no-audit");var lp=gl("blockJsonp")?fL():true;return !lp||!Z||gl("noAudit")||lq||lr||lo;}function eb(){var lo=new Date();return lo.getTime();}function d7(){var lo=d8();return lo&&lo.Steps[z];}function dQ(){return H;}this.setAuditSource=function jo(lo){var lp=j2[lo];H=lp!=undefined?lp:parseInt(lo);};this.generateNewPlayGuid=function dK(lo){var lp=dJ();lp=(new Date()).getTime()+"-"+lo+"-"+lp;return lp;};function ez(){return gl("disableWidgetOpenFullUrl")?"":window.location.href;}this.sendWidgetOpenLogToServer=function jk(){if(f6()){return true;}var ls=fs();var lo=dZ();var lq=eN();var lr=dQ();var lp=ez();aw.execute({url:Z+"/Statistics/AddWidgetOpen",data:{userId:ls,fullUrl:lp,source:lr,browser:lo,os:lq,permutationId:ao.getABPermutationId(),endUserGuid:ao.getEndUserGuid()}});};this.sendSearchResultClickedToServer=function jh(lv,lt,ls,lr,lp,lo){var lu=ao.getPlayerServer();var lq=aw.execute({url:lu+"/Search/SearchResultClicked",dataType:"jsonp",data:{userGuid:lv,searchGuid:lt,resultSearchProvider:ls,selectedItem:lr,permutationId:ao.getABPermutationId(),endUserGuid:ao.getEndUserGuid(),source:dQ()}});lq.success(lp);lq.error(lo);};this.getSearchResultsFromServer=function eZ(lu,lr,lt,lp,lo){var ls=ao.getPlayerServer();var lq=aw.execute({url:ls+"/Search/Search",data:{userGuid:lu,query:lr,permutationId:ao.getABPermutationId(),endUserGuid:ao.getEndUserGuid(),source:dQ(),saveSearch:!lo},timeout:i8});lq.success(lt);lq.error(lp);return lq;};this.saveSearchToServer=function i6(lt,lr,lp,lo){var ls=ao.getPlayerServer();var lq=aw.execute({url:ls+"/Search/SaveSearch",dataType:"jsonp",data:{userGuid:lt,query:lr,permutationId:ao.getABPermutationId(),endUserGuid:ao.getEndUserGuid(),source:dQ()},timeout:i8});lq.success(lp);lq.error(lo);};this.sendResultClickedBeforeSearchToServer=function jg(ls,lu,lr,lp,lo){var lt=ao.getPlayerServer();var lq=aw.execute({url:lt+"/Search/ResultClickedBeforeSearch",dataType:"jsonp",data:{userGuid:lu,searchQuery:ls,selectedItem:lr,permutationId:ao.getABPermutationId(),endUserGuid:ao.getEndUserGuid(),source:dQ()}});lq.success(lp);lq.error(lo);};function fl(lp){for(var lo=0;lo<aq.length;lo++){if(aq[lo].TutorialId==lp){return lo;}}return -1;}function fq(){return navigator.userAgent;}ao.getBrowser=function dY(){return dZ();};function dZ(){var lq=fq();var lo="Unknown";var lp="";var ls=-1;if((ls=lq.indexOf("Opera"))!=-1){lo="Opera";if((/Version\/(\S+)/).test(lq)){lp=RegExp["$1"];}else{var lt=Math.max(lq.lastIndexOf(" "),lq.lastIndexOf("/"));lp=lq.substring(lt+1);}}else{if((ls=lq.indexOf("MSIE"))!=-1){lo="IE";lp=eA(lq,ls+5);}else{if((ls=lq.indexOf("Chrome"))!=-1){lo="Chrome";lp=lq.substring(ls+7,lq.lastIndexOf(" "));}else{if(ls=lq.indexOf("Safari")!=-1){lo="Safari";if(/Version\/(\S+)/.test(lq)){lp=RegExp["$1"];}}else{if(/Firefox\/(\S+)/.test(lq)){lo="Firefox";lp=RegExp["$1"];}else{if((lq.indexOf("Trident")!=-1)&&((ls=lq.indexOf("rv:"))!=-1)){lo="IE";lp=eA(lq,ls+3);}else{if((nameOffset=lq.lastIndexOf(" ")+1)<(ls=lq.lastIndexOf("/"))){lo=lq.substring(nameOffset,ls);lp=lq.substring(ls+1);}}}}}}}var lr=lo+" "+lp;return lr.substring(0,21);}function eA(lo,lq){var lp=lo.substring(lq).indexOf(".");return lo.substring(lq,(lq+lp));}function eN(){var lo=fq();var lp="Unknown";if(lo.indexOf("Win")!=-1){lp="Windows";}if(lo.indexOf("Mac")!=-1){lp="MacOS";}if(lo.indexOf("X11")!=-1){lp="UNIX";}if(lo.indexOf("Linux")!=-1){lp="Linux";}if(lo.indexOf("Android")!=-1){lp="Android";}if((lo.indexOf("iPad")!=-1)||(lo.indexOf("iPod")!=-1)||(lo.indexOf("iPhone")!=-1)){lp="iOS";}return lp;}function a3(lr,lo){try{if(f6()){return true;}if(gl("disableAuditErrorLog")){return true;}h++;if(h>5){return;}var lq=dD("_currentTutorial={0};_currentStep={1};_currentState={2};_currentPlayGUID={3};_isInRecorder={4};_userGuid={5};LibVersion={6};UA={7};",B,z,y,a4._currentPlayGUID,M,au,ao.SVNRevision,navigator.userAgent);co(lr+" ExtraData: "+lq);}catch(lp){}}var hm=function(lo,lp){var lt=null;if(lo.length>0){var ls=lp(lo[0]);lt=lo[0];for(var lr=1;lr<lo.length;lr++){var lq=lp(lo[lr]);if(lq>ls){ls=lq;lt=lo[lr];}}}return lt;};var hq=function(lo,lp){var lt=null;if(lo.length>0){var ls=lp(lo[0]);lt=lo[0];for(var lr=1;lr<lo.length;lr++){var lq=lp(lo[lr]);if(lq<ls){ls=lq;lt=lo[lr];}}}return lt;};function eS(lq){var lo=ff();if(lo.length==0){return false;}var lp=mtjQuery("#walkme-popup-element",lo);if(lp.length<=0||lq){var lr="walkme-popup-element";if(lq){lr+="-"+lp.length;}lp=mtjQuery(lo[0].ownerDocument.createElement("div"));lp.attr({id:lr});lp.css("width","0px;");lp.css("height","0px;");mtjQuery(lo.append(lp));}lp.data("iframe",lo);return lp;}this.getElementStrength=function en(lp){var lq={score:-1};var lr=jb(lp);dy(lr,0,{BalloonSettings:{}});var lo=ao.findElement(lr,null,lq);if(lo){return lq.score;}return null;};this.findElement=function dm(ls,lq,lr){try{var lp=G.findElement(ls,lq,lr);return lp;}catch(lo){ao.Logger.error(lo);}};function bu(lo){if(lo.is("input")||lo.is("textarea")){return lo.val();}else{if(lo.is("select")){return lo.find("option:selected").text();}else{return lo.text();}}}function c6(lo,lp){return lo.length>=lp.length&&lo.lastIndexOf(lp)+lp.length==lo.length;}function j9(lo,lp){return lo.indexOf(lp)==0;}var gc=function gc(lo){return(lo!=null)&&(lo!=undefined);};function gz(lo){return((lo!=undefined)&&(lo.length>0));}function ll(){this.NumNodeRemove=0;this.NumNodeDiff=0;this.SumNodeDiff=0;}var bK=function bK(lo){var lp=new ll();lp.NumNodeRemove=lo.NumNodeRemove;lp.NumNodeDiff=lo.NumNodeDiff;lp.SumNodeDiff=lo.SumNodeDiff;return lp;};var ho=new ll();ho.NumNodeRemove=10000;var lm=function lm(lo){return lo.NumNodeRemove+lo.NumNodeDiff/4+lo.SumNodeDiff/10;};function iB(lo){if((lo[0]["tag"]=="html")&&(lo[1]["tag"]=="body")){return lo.slice(2);}else{if((lo[0]["tag"]=="html")&&(lo[1]["tag"]!="body")){return lo.slice(1);}else{ao.Logger.error(false,"Fatal in removeBodyAndHtmlFromXpathArray: "+lk(lo));}}}var bg=function(lq,lr){var ls=iB(bh(lq));var lo=lr.extended.xpathArrayToIframeNoBodyAndHtml;var lp=fB(new ll(),ls,ls.length-1,lo,lo.length-1);return lp;};var fB=function fB(lz,lo,lr,lt,lw){if(Math.abs(lr-lw)>lj){return ho;}if(lz.NumNodeRemove>lj){return ho;}if(lr<0){lz.NumNodeRemove+=lw+1;if(lz.NumNodeRemove>lj){return ho;}else{return lz;}}if(lw<0){lz.NumNodeRemove+=lr+1;if(lz.NumNodeRemove>lj){return ho;}else{return lz;}}var ls=lo[lr]["tag"];var lq=lo[lr]["index"];var lx=lt[lw]["tag"];var lv=lt[lw]["index"];var lF=(ls==lx);var lE=(lq==lv);if(lF&&lE){return fB(lz,lo,lr-1,lt,lw-1);}var lC=bK(lz);lC.NumNodeRemove++;var lp=fB(lC,lo,lr-1,lt,lw-0);var lu=fB(lC,lo,lr-0,lt,lw-1);var ly;if(!lF){ly=ho;}else{var lA=Math.abs(lq-lv);var lB=bK(lz);if(lA>0){lB.NumNodeDiff++;lB.SumNodeDiff+=lA;}ly=fB(lB,lo,lr-1,lt,lw-1);}var lD=hq([lp,lu,ly],lm);return lD;};var bh=function(lo){var lt=new Array();var lp=0;for(;lo&&lo.nodeType==1;lo=lo.parentNode){var lq=1;if(eo(lo)!="HTML"){var ls=lo.parentNode.childNodes;for(var lr=0;lr<ls.length;lr++){if(ls[lr]==lo){break;}if(ls[lr].tagName==lo.tagName){lq++;}}if(lr==ls.length){ao.Logger.error(false,"calculateElementXPathArray - not supposed to get here!");}}lt[lp]={tag:lo.tagName.toLowerCase(),index:lq};lp++;}iU(lt);return lt;};function iU(lo){var lp=0;var lq=lo.length-1;while(lp<lq){var lr=lo[lp];lo[lp]=lo[lq];lo[lq]=lr;lp++;lq--;}}var kx=function(lp){var lq=0;for(var lo=0;lo<lp.length;lo++){lq+=lp[lo];}return lq;};var hk=function(lq,lo){var lr=[];for(var lp=0;lp<lq.length;lp++){lr.push(lo(lq[lp]));}return lr;};var bZ=function bZ(lp,lo){return dr(lp,lo)!=null;};var dr=function dr(lq,lo){for(var lp=0;lp<lq.length;lp++){if(lo(lq[lp])){return lq[lp];}}return null;};var dC=function(lq,lo){for(var lp=0;lp<lq.length;lp++){lo(lq[lp]);}};var dl=function(lp,lr){var lq=new Array();for(var lo=0;lo<lp.length;lo++){if(lr(lp[lo])){lq.push(lp[lo]);}}return lq;};function fT(lp,lo,lq){var lr;if(lo){lr=lo.length;lq=lq?lq<0?Math.max(0,lr+lq):lq:0;for(;lq<lr;lq++){if(lq in lo&&lo[lq]===lp){return lq;}}}return -1;}var jX=function jX(lo){ao.redirectPopupOK(lo);};this.redirectPopupOK=function ii(lo){ks();gV(function(){window.location=lo;},200);hY();};this.redirectPopupCancel=function ih(){hY();};var l=undefined;var m=undefined;this.getMarginAutoStyles=function eH(){if(l==undefined){l=[];dC(document.styleSheets,jz);}return l;};var ew=function ew(){if(m==undefined){m=[];dC(document.styleSheets,jw);}return m;};var jw=function jw(ls){try{var lr=ls.cssRules||ls.rules;for(var lq=0;lq<lr.length;lq++){var lo=lr[lq];if(lo.type&&lo.type==window.CSSRule.IMPORT_RULE){jw(lo.styleSheet);}else{if(go(lo.style)){m.push(lo.selectorText);}}}}catch(lp){}};var go=function go(lq){var lr=lq.width;if(lr){var lp="";for(var lo=0;lo<lr.length;lo++){if(!isNaN(lr[lo])){lp+=lr[lo];}}if(lp&&parseInt(lp)>700){if((lr.indexOf("p")!=-1||lr.indexOf("e")!=-1||lr.indexOf("m")!=-1||lr.indexOf("i")!=-1)){return true;}}}return false;};var jz=function jz(ls){try{var lr=ls.cssRules||ls.rules;for(var lq=0;lq<lr.length;lq++){var lo=lr[lq];if(lo.type&&lo.type==window.CSSRule.IMPORT_RULE){jz(lo.styleSheet);}else{if(gx(lo.style)){l.push(lo.selectorText);}}}}catch(lp){}};var gx=function gx(lt){if(lt){var lo=mtjQuery.trim(lt.margin);var lp=mtjQuery.trim(lt.marginLeft);var lq=mtjQuery.trim(lt.marginRight);var lr=j9(lo,"0")&&c6(lo,"auto");var ls=(lp=="auto")&&(lq=="auto");if((lr)||(ls)){return true;}}return false;};var gf=function gf(lp){var lq=mtjQuery(lp);var lo=lq.data("mt_isElementFixedWidth");if(lo==true){return true;}if(lo==false){return false;}var lr=ge(lp);lq.data("mt_isElementFixedWidth",lr);return lr;};var gj=function gj(lp){var lq=mtjQuery(lp);var lo=lq.data("mt_isElementMarginAuto");if(lo==true){return true;}if(lo==false){return false;}var lr=gi(lp);lq.data("mt_isElementMarginAuto",lr);return lr;};var gd=function gd(lo,lr){var lq=false;for(var lp=0;lp<lr.length;lp++){var ls=lr[lp];lq=mtjQuery(lo).is(mtjQuery(ls));if(lq){return lq;}}return lq;};var ge=function ge(lo){if(go(lo.style)){return true;}else{var lp=gd(lo,ew());return lp;}return false;};var gi=function gi(lo){if(gx(lo.style)){return true;}else{var lp=gd(lo,ao.getMarginAutoStyles());return lp;}return false;};var eV=function eV(lq){var lo=ao.getCenteredElement(lq);var lp=lo?lo.offset().left:0;var lr=mtjQuery(lq).offset().left-lp;if(lr<0){co("can't be negative broder was right "+mtjQuery(lq).offset().left+"-"+lp+"="+lr,5);}return lr;};this.getCenteredElement=function d0(lt){var lw=mtjQuery(lt).parents();var lo=null;for(var lr=lw.length-1;lr>=0;lr--){try{var ls=gf(lw[lr]);if(ls){var lu=mtjQuery(lw[lr]);var ly=mtjQuery(window).width();var lx=lu.width();var lv=lu.offset().left;var lp=ly-lx;if(lp>0&&(lp/2)==lv){lo=lu;break;}else{if(lp<0&&lp==lv){lo=lu;break;}else{if(gj(lu)){lo=mtjQuery(lu);break;}}}}}catch(lq){co("error-----------------------------------",5);ao.Logger.error(lq);}}return lo;};function jt(lp,lr){if(!ao.isWalkMeVisible()){return;}if(!gz(ao.getCustomCssProp())){return;}var ls=ei(lp);if(!ls){return;}var lo="wm_custom_css_set";if(M){ls.data(lo,false);}var lq=ls.data(lo);if(lr||!lq){if(lq){iD(ls);}js(ls,lo);}}function iD(lo){wmjQuery("#walkme-custom-css",lo).remove();}function js(lq,lp){var lo=ao.getCustomCssProp();lo=cy(lo,["&",'"',"'",">"]);ao.ResourceManager.injectCss(lo,"walkme-custom-css",lq,null,"walkme-player-css");lq.data(lp,true);}function ei(lp){if(!lp){var lo;if(ao.shouldHandlePageAsFramesets()){lo=ex(wmjQuery(_makeTutorial.getBiggestFrame()));}return wmjQuery("head",lo);}else{if(M||lp.data("iframe")){return lp.parents("html").children("head");}}}ao.injectCustomCSS=function fZ(lo,lp){jt(lo,lp);};var Y;function hZ(lp,lt,lx,lv,lo){var lu=e2(lv);var lq=lu.BalloonSettings;var ls='<div class="mt-to-destroy walkme-custom-popup mt-custom-popup walkme-custom-popup-'+lp+" mt-custom-popup-"+lp+' CUSTOM-TUTORIAL-ID mt-to-destroy" id="walkme-popup-body" style="CSS-RESET width:'+lx+'px">'+lt+"</div>";ls=ls.replace(/CSS-RESET/g,cf);ls=ls.replace(/CUSTOM-TUTORIAL-ID/g,"walkme-custom-walkthru-"+lv);var lr=ff();lr.append(ls);Y=mtjQuery("#walkme-popup-body",lr);Y.css({position:"fixed","z-index":hW,padding:"8px 12px 12px 12px","font-family":"Arial"});jF(Y,lq,false);var lw=0;mtjQuery.each(mtjQuery("[width], [style*=width]",Y),function(ly,lz){if(mtjQuery(lz).width()>lw){lw=mtjQuery(lz).width();}});if(Y.width()<lw){Y.css("width",lw+"px");}ao.centerElementInPage(Y,false);hX=hT(function(){ao.centerElementInPage(Y,true);},1000);if(!ao.isQuirksMode()&&!ao.shouldHandlePageAsFramesets()){kY.displayOverlay(2147483630,true);}Y.fadeIn("slow");aD(Y);if(lo){lo(Y);}}function hY(lo){if(hX){hX.clear();}kY.removeOverlay();cK(Y,lo);Y=null;}function iW(lo,lq){for(var lp=0;lp<lq;lp++){lo.push(lo.splice(0,1)[0]);}}function cC(lp,lo){if(lp===undefined){return lo;}return lp;}function cg(lt,lr,ls,lo,lq,lp){this.width=lt;this.height=lr;this.point_direction=cC(ls,0);this.angle=cC(lo,0);this.color=cC(lq,"red");this.background=cC(lp,"transparent");}cg.prototype.Generate=function(lp){var lo=mtjQuery(lp.createElement("div"));lo.css("display","block");lo.css("width","0");lo.css("height","0");lo.css("border",this.width+"px solid transparent");lo.css("border-"+ce[this.point_direction]+"-color",this.color);lo.css("line-height","0");lo.css("border-"+ce[(this.point_direction+2)%4],"0px");if(this.point_direction==3||this.point_direction==1){lo.css("border-style","outset solid solid solid");}else{lo.css("border-style","solid outset solid solid");}return lo;};this.parseBBCode=function hH(lo){return j.parse(lo);};function jH(lo){if(!lo){return false;}if(lo.length==0){return false;}return true;}function gF(lp,lo){if(!jH(lp)){return false;}if(lo in lp){return true;}else{return false;}}function e0(lq,lp,lo){if(!jH(lq)){return lo;}if(!gF(lq,lp)){return lo;}return lq[lp];}var cU="walkme_elementData";function cY(lo,lq,lr){var lp;lp=lo.data(cU);if(!lp){lp={};lp.element=lo;lp.cleanUp=false;lp[lq]=lr;F.push(lp);lo.data(cU,lp);}else{lp[lq]=lr;}}function cX(lo,lq){var lp;lp=lo.data(cU);if(!lp){return undefined;}else{return lp[lq];}}function cV(){var lq=new Array();for(var lp=0;lp<F.length;lp++){try{if(!F[lp]["cleanUp"]){F[lp].element[0].tagName;lq.push(F[lp]);}}catch(lo){co("elementDataGarbageCollect: destroying element",5);cW(F[lp]);}}F=lq;}function cW(lp){try{lp.elementDisplayTimeout.clear();lp.elementDisplayTimeout=null;}catch(lo){}try{lp.eventReleaseFunction=null;lp.onlyEventsReleaseFunction=null;}catch(lo){}iE(lp,"balloonDiv");iE(lp,"arrowDiv");iE(lp,"arrowDiv2");}function iE(lp,lq){try{if(lp[lq]){lp[lq].remove();}}catch(lo){}}function iH(lp){try{var lq=elementDataCell[lp];if(lq){try{lq.hide();}catch(lo){}fO.removeRectObjectFromArray(lq);}}catch(lo){}}function iI(){var lq=elementDataCell.rectObjectsArray;if(lq){for(var lp=0;lp<lq.length;lp++){var lo=lq[lp];iH(lo);}}}function ex(lp){var lq=lp[0];if(lq==undefined){return[];}var lr;try{if(lq.contentDocument){lr=lq.contentDocument;}else{if(lq.contentWindow){lr=lq.contentWindow.document;}else{lr=[];}}lr=mtjQuery(lr);}catch(lo){bP.handleCrossDomainError(lo);lr=[];}return lr;}this.shouldHandlePageAsFramesets=function jO(){return(!dF)&&dG.isFramesetsPage();};this.isFramesetsPage=function gp(){return ao.shouldHandlePageAsFramesets();};function ff(lp,lr){if(window.walkme_get_top_container){var lq=window.walkme_get_top_container();if(lq){return mtjQuery(lq);}}var lo;if(lp){lo=lp.parents("body");}else{lo=mtjQuery("body");}if((lo.length==0)||(eo(lo[0])=="FRAMESET")){if(lp){lo=lp.parents("html");}else{if(lr||(!ao.shouldHandlePageAsFramesets())){lo=mtjQuery("html");}else{lo=mtjQuery("body",ex(mtjQuery(ao.getBiggestFrame())));}}}return lo;}function dp(lp,lo){var lq=d1();var ls=lp.parents("div");var lr=dr(ls,function(lt){var lt=lq(lt);if(lt.data!=undefined&&lt.data("jsp")!=undefined){return lt;}});return(lr)?wmjQuery(lr).find(".jspPane"):lo;}var k=null;this.getBiggestFrame=function dV(){var lp=false;try{lp=!k||(!(dG.isFrameActive(k)))||(mtjQuery("frameset",k.contentWindow.document).length>0);}catch(lo){lp=true;}if(lp){k=dG.findBiggestFrame();}return k;};function cL(){var lq="Lib on "+walkme_lib_notify_ServerName+": "+ao.SVNRevision;if(ao.isQuirksMode()){co(lq,5);return;}var lp=hs.to_html("<div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: {{{popupBalloonZindex}}}; position: fixed; top: 0; left: 30px; background-color: {{{backgroundColor}}}; font-size: 15px;'>{{{message}}}</div>",{popupBalloonZindex:hW,backgroundColor:ee(walkme_lib_notify_ServerName),message:lq});var lo=ff(null,true);mtjQuery("#walkme-dev-mode-alert",lo).remove();lo.append(lp);}function ee(lp){var lo;switch(lp){case"Dev":lo="lightblue";break;case"QA":lo="red";break;case"Test":lo="yellow";break;case"local":lo="lightgreen";break;default:lo="pink";break;}return lo;}function gs(){try{if(FB._inCanvas&&FB.Canvas.getPageInfo){if(window.walkme_dont_use_fb_scroll==true){return false;}return true;}}catch(lo){return false;}}this.centerElementInPage=function bo(lr,lo,ls,lp){var lt=window;if(ao.shouldHandlePageAsFramesets()){lt=ao.getBiggestFrame().contentWindow;}if(gs()){return bp(lr,lo);}else{var lu={top:0,left:0};if(ls){lu.top+=ls.top;lu.left+=ls.left;}var lq=bi(lr.parent()[0],lt);lu.top-=lq.top;lu.left-=lq.left;return br(lr,lo,mtjQuery(lt).scrollLeft(),mtjQuery(lt).scrollTop(),mtjQuery(lt).width(),mtjQuery(lt).height(),lu,lp);}};function br(lq,lo,lv,lw,lx,lu,ls,lp){if(ls==undefined||ls==null){var ls={top:0,left:0};}if(lv>500){lv=0;}var lt=(lu-mtjQuery(lq).outerHeight())/2+lw+ls.top;var lr=(lx-mtjQuery(lq).outerWidth())/2+lv+ls.left;lt=Math.round((lt>0?lt:0));lr=Math.round((lr>0?lr:0));if((Math.abs(lt-mtjQuery(lq).offset().top)<2)&&(Math.abs(lr-mtjQuery(lq).offset().left)<2)){return;}lt=lt+"px";lr=lr+"px";mtjQuery(lq).css({position:"absolute",margin:0});if(lo){lp=(lp)?lp:{duration:400};mtjQuery(lq).animate({top:lt,left:lr},lp);}else{mtjQuery(lq).css({top:lt,left:lr});}}function bp(lp,lo){FB.Canvas.getPageInfo(function(lq){bq(lp,lo,lq);});}function bq(lp,lo,lq){br(lp,lo,lq.scrollLeft,lq.scrollTop,mtjQuery(window).width(),lq.clientHeight);}var ie=/["\\\x00-\x1f\x7f-\x9f]/g;var ig={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function id(lo){if(lo.match(ie)){return'"'+lo.replace(ie,function(lp){var lq=ig[lp];if(typeof lq==="string"){return lq;}lq=lp.charCodeAt();return"\\u00"+Math.floor(lq/16).toString(16)+(lq%16).toString(16);})+'"';}return'"'+lo+'"';}function f2(lq){function lr(lz,lA){var ly=lz.split(".");var lB=lA;for(var lx=0;lx<ly.length;lx++){lB=lB[ly[lx]];}return lB;}var lv={result:null,iframe:null};var lt=new Array();if(lq.params){for(var ls=0;ls<lq.params.length;ls++){lt.push(lq.params[ls].value);}}var lw=window;if(lq.iframe){lw=mtjQuery(lq.iframe);if(lw.length==0){throw"Iframe not found: "+lq.iframe;}lw=lw.contents()[0];lw=(lw.parentWindow||lw.defaultView);lv.iframe=mtjQuery(lq.iframe);}var lp=lr(lq["function"],lw);if(!lp){throw"Function not found: "+lq["function"];}var lo;if(lq["this"]){lo=lr(lq["this"],lw);if(!lo){throw"'This' not found: "+lq["this"];}}else{if(lq["function"].indexOf(".")==-1){lo=null;}else{lo=lr(lq["function"].substring(0,lq["function"].lastIndexOf(".")),lw);}}var lu=lp.apply(lo,lt);lv.result=lu;return lv;}var cy=function cy(ly,lp){var lr={"&amp;":"&","&apos;":"'","&#39;":"'","&quot;":'"',"&lt;":"<","&gt;":">"};var lo=[];var ls=0;var lA=0;var lz;var lF=0;while(ls<ly.length){lz=false;if(ly.charAt(ls)=="&"){var lx=ly.substring(ls,ls+6).toLowerCase();var lE=lr[lx];lF=lE?6:lF;var lw=ly.substring(ls,ls+5).toLowerCase();var lD=lr[lw];lF=lD?5:lF;var lv=ly.substring(ls,ls+4).toLowerCase();var lC=lr[lv];lF=lC?4:lF;var lB=lC||lD||lE;var lt=fT(lB,lp)!=-1;if(lB&&lt){var lG=ly.substring(lA,ls);lo.push(lG);lo.push(lB);ls=ls+lF;lA=ls;lz=true;}}if(!lz){ls++;}}var lu=ly.substring(lA,ls);lo.push(lu);var lq=lo.join("");return lq;};function bW(lp){var lo=this;this.evaluateAsync=function lr(lu){function ls(lB){if(lB.nodeType=="Func"){var lw=lp.getFunctionsByLibNameType(lB.funcName);var ly=[];ly.push(lB.funcArgs);var lv=null;function lx(){return lw.apply(this,ly);}if(lp.isFuncAsync(lB.funcName)){lv=lx();}else{lv=new aZ.noMemory(lx);}if(gb()){lt(lv,lB);}return lv;}else{if(lB.nodeType=="And"){var lz=ls(lB.leftSon);var lA=ls(lB.rightSon);return new aZ.complex(lz,lA,function(lC,lD){return lC()&&lD();});}else{if(lB.nodeType=="Or"){var lz=ls(lB.leftSon);var lA=ls(lB.rightSon);return new aZ.complex(lz,lA,function(lC,lD){return lC()||lD();});}else{return false;}}}}function lt(lx,ly){var lw=lx.hasValue;lx.hasValue=function(){ly.result=lw();return ly.result;};var lv=lx.getValue;lx.getValue=function(){ly.result=lv();return ly.result;};}if(lu==null){return aZ.fixed(true);}else{return ls(lu);}};this.evaluate=function lq(lt){function ls(lx){if(lx.nodeType=="Func"){var lu=lp.getFunctionsByLibNameType(lx.funcName);var lv=[];lv.push(lx.funcArgs);var lw=lu.apply(this,lv);if(gb()){lx.result=lw;}return lw;}else{if(lx.nodeType=="And"){return(ls(lx.leftSon)&&ls(lx.rightSon));}else{if(lx.nodeType=="Or"){return(ls(lx.leftSon)||ls(lx.rightSon));}else{return false;}}}}if(lt==null){return true;}else{return ls(lt);}};}function eo(lo){var lp=lo.tagName;if(lp.toUpperCase){lp=lp.toUpperCase();}return lp;}function aB(){this.LocalSVNRevision="$Rev: 3304 $";var lt=this;var lr,ls,lq,lo,lp;var lu="wm-absl-";var lv="wm-abss-";function lw(lG,lH,lE,lF){lr=lG;ls=lH;lo=lE;lq=lF;}lt.shouldLoadWalkme=function lC(){try{if(!lt.isAbTestingEnabled()){return true;}return lA(lu,lr.Settings.abTesting.loadPercentage);}catch(lE){lq(lE,"Could not check if Walkme should be loaded according to AB Testing");return true;}};lt.shouldShowWidget=function lD(){try{if(!lt.isAbTestingEnabled()){return true;}var lE=lv;if(window.walkme_ab_imp_cookie){lE+=lo()+"-";}return lA(lE,lr.Settings.abTesting.showPercentage,lB);}catch(lF){lq(lF,"Could not check if widget should be shown according to AB Testing");return true;}};function lB(lG){try{if(lp||f6()){return true;}var lH=lr.Settings.abTesting.testNumber;var lE=(window.wm_customData!=undefined)?wm_customData.abTestingData:null;aw.execute({url:Z+"/Statistics/AddAbTestingWidgetVisible",data:{userGuid:au,endUserId:lo(),testNumber:lH,isVisible:lG,customDataSerialized:kL(lE)}});}catch(lF){lq(lF,"Could not report ab testing result to server");}}lt.isAbTestingEnabled=function ly(){var lF=lr.Settings&&lr.Settings.abTesting&&parseInt(lr.Settings.abTesting.enabled);var lE=gl("abtesting")&&lF&&!gu()&&!gt();return lE;};lt.disableReport=function lx(){lp=true;};function lA(lE,lG,lJ){var lF=lE+lr.Settings.abTesting.testNumber;var lH=ls.getData(lF);if((lH===true)||(lH===false)){return lH;}var lI=lz(1,100);lH=(lI<=lG);ls.saveData(lF,lH,b4);if(lJ){lJ(lH);}return lH;}function lz(lE,lF){return Math.floor(Math.random()*(lF-lE+1)+lE);}lw.apply(null,arguments);}this.shouldShowWidgetAccordingToAbTesting=function jR(){return ao.isWalkMeVisible();};this.isWalkMeVisible=function gK(){return(ad.ShowWalkMe!==0)&&(!c||c.shouldShowWidget());};this.completeGoalById=function bQ(lo){return K.completeGoalById(lo);};this.getCompletedGoals=function d4(lp,lo){return D.getCompletedGoals(lp,lo);};this.setDeployablesJson=function jv(lr,lq){try{var lo=jb(lq);wmjQuery.each(lo,function(lt,ls){ls.userGuid=au;});ao.getDeployablesManager(lr).setDeployables(lo);}catch(lp){ao.Logger.error(lp);}};ao.getState=function e3(){return y;};function gr(){return !wmjQuery.browser.msie||(wmjQuery.browser.version>=10&&document.documentMode&&document.documentMode>=10);}ch.apply(null,arguments);}var _makeTutorialEv={Ev:function(src){return eval(src);}};function ClassWalkMeAPI(){this.LocalSVNRevision="$Rev: 3521 $";var a=this;var t=5;var u=100;var B=_makeTutorial.getPlayInitiatorEnum();this.getPlayInitiatorEnum=function h(){return B;};this.getWalkthrus=function n(D){var I=_makeTutorial.getTutorials();var H=new Array();for(var G=0;G<I.length;G++){var E=I[G].CustomField1;if(E){E=E.replace(/&quot;/gi,'"');E=E.replace(/&apos;/gi,"'");E=E.replace(/&#39;/gi,"'");E=E.replace(/&amp;/gi,"&");}var F={Index:G,Name:I[G].Name,Id:I[G].TutorialId,Visible:I[G].IsVisible,CustomField1:E,Description:I[G].Description};if(D){F.ConditionsPassed=_makeTutorial.canShowTutorial(I[G]);F.isPackageHidden=_makeTutorial.isTutorialPackageHidden(I[G]);if(I[G].Keywords==undefined){F.Keywords=[];}else{F.Keywords=I[G].Keywords;}}H.push(F);}return H;};this.getWalkthrusLabels=function o(D){var G=_makeTutorial.getWalkthrusLabels();if(G==null){return null;}var K=this.getWalkthrus(D);var J=l(G,K);var I=_makeTutorial.getSiteConfig();var H=[];for(var E=0;E<G.length;E++){var F={Name:G[E].Name,Id:G[E].Id,Walkthrus:g(K,G[E].LinkedTutorials,G[E].Id)};H.push(F);}return{unlabeledWalkthrus:J,labels:H,unlabeledFirst:(I.Settings.labels&&I.Settings.labels.unlabeldOnTop==1)};};function l(F,J){var G=[];for(var D=0;D<F.length;D++){var H=F[D].LinkedTutorials;for(var E=0;E<H.length;E++){G.push(H[E]);}}var I=[];for(var D=0;D<J.length;D++){if(!r(J[D].Id,G)){I.push(J[D]);}}return I;}function g(H,G,F){var I=[];for(var E=0;E<H.length;E++){if(r(H[E].Id,G)){var D=mtjQuery.extend(true,{},H[E]);D.labelId=F;I.push(D);}}return I;}function r(F,D){for(var E=0;E<D.length;E++){if(D[E]==F){return true;}}return false;}function m(E){var F=_makeTutorial.getTutorials();for(var D=0;D<F.length;D++){if(F[D].TutorialId==E){return D;}}return -1;}this.startContentById=function y(D){if(D<0){return false;}return _makeTutorial.startContentById(D);};this.startWalkthruById=function z(G,F){if(typeof(G)!="object"){G={id:G,fromStep:F};}var E=G.id;var D=G.fromStep;var H=G.playInitiator;if((E<0)||(typeof(E)!="number")){return false;}var I=m(E);if(I<0){return false;}if(!H){H={type:B.API};}_makeTutorial.setPlayInitiator(H);return a.startWalkthruByIndex({index:I,fromStep:D,playInitiator:H});};this.startWalkthruByIndex=function A(G,F){if(!_makeTutorial.isWalkMeVisible){return false;}if(typeof(G)!="object"){G={index:G,fromStep:F};}var E=G.index;var D=G.fromStep;var H=G.playInitiator;if((E<0)||(typeof(E)!="number")){return false;}if(!H){H={type:B.API};}_makeTutorial.setPlayInitiator(H);return _makeTutorial.startNewTutorial(E,D,false);};this.canStartWalkthru=function b(E,D){if(!_makeTutorial.isWalkMeVisible){return false;}if((E<0)||(typeof(E)!="number")){return false;}var F=m(E);if(F<0){return false;}return _makeTutorial.startNewTutorial(F,D,true);};this.setWalkthruVisibility=function w(D,F){var G=_makeTutorial.getTutorials();var E=m(D);if(E<0){return false;}G[E].IsVisible=F;return true;};this.stopWalkthru=function C(){_makeTutorial.stopTutorial();};this.setAnalyticsCustomField=function v(D,E){if(D>t||D<1||E.length>u){return false;}return _makeTutorial.setAnalyticsCustomFields(D-1,E);};this.enableLogs=function d(D){if(D==undefined){D=true;}return this.log.enable(D);};this.loadTasks=function s(E,D){return _makeTutorial.loadTasks(E,D);};this.getTasks=function j(D){return _makeTutorial.getApiTasks(D);};this.getWidgetMode=function q(){return"Walkthrus";};this.setWidgetMode=function x(D){return"Deprecated";};this.getWidgetInitialState=function p(){return"Closed";};this.changeLanguage=function c(E,D){return _makeTutorial.changeLanguage(E,D);};this.getSupportedLanguages=function i(){return _makeTutorial.getSupportedLanguages();};this.getCurrentLanguage=function f(){return _makeTutorial.getCurrentLanguage();};this.getTree=function k(){return _makeTutorial.getUiDataProvider().uiObjectsTree();};a.log=_makeTutorial.Logger.getAPI();}if(window._makeTutorial==undefined){var _makeTutorial=new ClassMakeTutorial();if(_makeTutorial.initFailed){_makeTutorial=undefined;}}if(window._makeTutorial&&window.WalkMeAPI==undefined){var WalkMeAPI=new ClassWalkMeAPI();}